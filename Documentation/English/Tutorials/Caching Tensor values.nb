Notebook[{
Cell[" ", "TutorialColorBar",
 CellMargins->{{Inherited, Inherited}, {-5, 
   0}},ExpressionUUID->"dc523ef1-13eb-4c22-8d6f-a575ed3d5f3b"],

Cell[TextData[{
 ButtonBox["GeneralRelativityTensors",
  BaseStyle->{"Link", "LinkTrail"},
  ButtonData->
   "paclet:GeneralRelativityTensors/guide/GeneralRelativityTensors"],
 StyleBox[" > ", "LinkTrailSeparator"],
 ButtonBox["Caching Tensor values",
  BaseStyle->{"Link", "LinkTrail"},
  ButtonData->"paclet:GeneralRelativityTensors/tutorial/Caching Tensor values"]
}], "LinkTrail",ExpressionUUID->"54e74d60-c64b-45f2-b34f-1632bc5bee12"],

Cell[BoxData[GridBox[{
   {Cell["CACHING TENSOR VALUES TUTORIAL", "PacletNameCell",ExpressionUUID->
     "e26c0a3e-2606-4995-8639-417d76a03428"], Cell[TextData[{
     Cell[BoxData[
      ActionMenuBox[
       FrameBox["\<\"Related Tutorials \[RightGuillemet]\"\>",
        StripOnInput->False], {
       RowBox[{"Introduction", " ", "to", " ", "GeneralRelativityTensors"}]:>
       Documentation`HelpLookup[
       "paclet:GeneralRelativityTensors/tutorial/Introduction to \
GeneralRelativityTensors"], 
       RowBox[{"Introduction", " ", "to", " ", "Tensor", " ", "Curves"}]:>
       Documentation`HelpLookup[
       "paclet:GeneralRelativityTensors/tutorial/Introduction to Tensor \
Curves"], 
       RowBox[{
       "Manipulating", " ", "and", " ", "differentiating", " ", "Tensors"}]:>
       Documentation`HelpLookup[
       "paclet:GeneralRelativityTensors/tutorial/Manipulating and \
differentiating Tensors"], 
       RowBox[{"Built", " ", "in", " ", "common", " ", "Tensors"}]:>
       Documentation`HelpLookup[
       "paclet:GeneralRelativityTensors/tutorial/Built in common Tensors"], 
       RowBox[{"Examples", " ", "-", " ", 
        RowBox[{"Wave", " ", "equations"}]}]:>Documentation`HelpLookup[
       "paclet:GeneralRelativityTensors/tutorial/Examples - Wave equations"]},
       
       Appearance->None,
       MenuAppearance->Automatic]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "ba68be8f-3905-4a4f-a2f6-f2863caa051d"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      ActionMenuBox[
       FrameBox["\<\"URL \[RightGuillemet]\"\>",
        StripOnInput->
         False], {"\<\"Go to GeneralRelativityTensors website\"\>":>
       FrontEndExecute[{
         NotebookLocate[{
           URL[None], None}]}], 
       Delimiter, "\<\"Go to wolfram Mathematica website\"\>":>
       FrontEndExecute[{
         NotebookLocate[{
           URL[
           "http://reference.wolfram.com/mathematica/guide/Mathematica.html"],
            None}]}]},
       Appearance->None,
       MenuAppearance->Automatic]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "91117c9f-9760-4f03-8ccb-aeab30705383"]
    }], "AnchorBar",ExpressionUUID->"3aa66f71-6d53-486c-b80f-99db71293123"]}
  }]], "AnchorBarGrid",ExpressionUUID->"b5227746-862e-456e-a171-ab0091718fa8"],

Cell[CellGroupData[{

Cell["GeneralRelativityTensors - Caching  Tensor values", \
"Title",ExpressionUUID->"bc019f78-7ad3-44bf-8f3d-68beb2f264a9"],

Cell["\<\
By default Tensor values are not cached. In the right contexts, turning on \
caching can greatly speed up calculations.\
\>", "Text",ExpressionUUID->"4b8b90d7-d790-406f-9bd4-f35a75c55379"],

Cell[BoxData[
 RowBox[{"<<", "GeneralRelativityTensors`"}]], "Input",
 CellLabel->"In[1]:=",ExpressionUUID->"0b0bbf48-666c-4c43-ba00-00e88a77a238"],

Cell[CellGroupData[{

Cell["Default storage of Tensor values", \
"Section",ExpressionUUID->"eb791cf5-5529-40c3-aba0-d6c62d56a9e4"],

Cell["\<\
Fundamentally, a Tensor is just a Sequence of Rules wrapped in the Head \
Tensor.\
\>", "Item",ExpressionUUID->"0c96ecd7-e1a3-4b89-a4cb-84329cd3e5e9"],

Cell["\<\
The values of the Tensor are associated with the Key \
\[OpenCurlyDoubleQuote]Values\[CloseCurlyDoubleQuote]\
\>", "Item",ExpressionUUID->"0a18cb41-f6d0-4152-b8ce-60f142d0d5c0"],

Cell[CellGroupData[{

Cell["For example:", \
"Item",ExpressionUUID->"66e79e44-1213-44d6-b56e-048902f24ee9"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"List", "@@", 
  RowBox[{"ToMetric", "[", "\"\<S2\>\"", "]"}]}]], "Input",
 CellLabel->"In[2]:=",ExpressionUUID->"c9be14c5-9218-45b0-b5ac-8d75a27fe371"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"\<\"Coordinates\"\>", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\[Theta]", ",", "\[Phi]"}], "}"}]}], ",", 
   RowBox[{"\<\"Name\"\>", "\[Rule]", "\<\"TwoSphereMetric\"\>"}], ",", 
   RowBox[{"\<\"DisplayName\"\>", "\[Rule]", "\<\"\[CapitalOmega]\"\>"}], ",", 
   RowBox[{"\<\"Abstract\"\>", "\[Rule]", "False"}], ",", 
   RowBox[{"\<\"Values\"\>", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"1", ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", 
        SuperscriptBox[
         RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], "}"}]}], "}"}]}], ",", 
   RowBox[{"\<\"CurveParameter\"\>", "\[Rule]", "Undefined"}], ",", 
   RowBox[{"\<\"Curve\"\>", "\[Rule]", "Undefined"}], ",", 
   RowBox[{"\<\"IsCurve\"\>", "\[Rule]", "False"}], ",", 
   RowBox[{"\<\"Metric\"\>", "\[Rule]", "\<\"Self\"\>"}], ",", 
   RowBox[{"\<\"IsMetric\"\>", "\[Rule]", "True"}], ",", 
   RowBox[{"\<\"Dimensions\"\>", "\[Rule]", "2"}], ",", 
   RowBox[{"\<\"PossibleIndices\"\>", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
     "A", ",", "B", ",", "F", ",", "G", ",", "H", ",", "J", ",", "L", ",", 
      "M", ",", "P", ",", "Q", ",", "R", ",", "S", ",", "T", ",", "U", ",", 
      "V", ",", "W", ",", "X", ",", "Y", ",", "Z"}], "}"}]}], ",", 
   RowBox[{"\<\"Indices\"\>", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"-", "A"}], ",", 
      RowBox[{"-", "B"}]}], "}"}]}]}], "}"}]], "Output",
 CellLabel->"Out[2]=",ExpressionUUID->"8c8df209-c010-47e7-8c65-0572e144f722"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
The best way to retrieve those values is with the functions RawTensorValues \
and TensorValues\
\>", "Item",ExpressionUUID->"71238fb3-3f4b-476a-b119-f2ddf8900878"],

Cell[BoxData[GridBox[{
   {
    RowBox[{
     ButtonBox["RawTensorValues",
      BaseStyle->"Link",
      ButtonData->"paclet:GeneralRelativityTensors/ref/RawTensorValues"], "[", 
     StyleBox["t", "TI"], "]"}], Cell[TextData[{
     "The actual internal values of a Tensor ",
     StyleBox["t",
      FontFamily->"Times",
      FontWeight->"Regular",
      FontSlant->"Italic"]
    }], "TableText",ExpressionUUID->"6ba7c067-cde3-4edc-a7fc-90bb205b16e0"]},
   {
    RowBox[{
     ButtonBox["TensorValues",
      BaseStyle->"Link",
      ButtonData->"paclet:GeneralRelativityTensors/ref/TensorValues"], "[", 
     StyleBox["t", "TI"], "]"}], Cell[TextData[{
     "The same as RawTensorValues, but if ",
     StyleBox["t",
      FontFamily->"Times",
      FontWeight->"Regular",
      FontSlant->"Italic"],
     " has an associated curve, evaluate the values on that curve"
    }], "TableText",ExpressionUUID->"cd5557b4-f584-41f1-9675-b032d0eaf867"]}
  }]], "DefinitionBox",
 CellID->340746825,ExpressionUUID->"4c821a44-63c6-4c72-b8f5-ca58e2a14150"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Here is a Tensor field, the Schwarzschild metric.", \
"Item",ExpressionUUID->"5b3ef05e-0f9a-4104-bd7d-a923bb77e3f4"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"gS", "=", 
  RowBox[{"ToMetric", "[", "\"\<Schw\>\"", "]"}]}]], "Input",
 CellLabel->"In[3]:=",ExpressionUUID->"f8ca4baf-2b47-41d8-80ca-97f66215d7f9"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["g", "\[Alpha]\[Beta]", ""],
  DisplayForm]], "Output",
 CellLabel->"Out[3]=",ExpressionUUID->"7980a8aa-b047-42b5-940f-744c731bee6d"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
RawTensorValues and TensorValues give different the same result.\
\>", "Item",ExpressionUUID->"c7121c39-2053-4eec-91db-b11770e32639"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"RawTensorValues", "[", "gS", "]"}]], "Input",
 CellLabel->"In[4]:=",ExpressionUUID->"4a537961-3e71-4f02-8bc0-973e699cf9a7"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "1"}], "+", 
      FractionBox[
       RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], "}"}],
    ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", 
     FractionBox["1", 
      RowBox[{"1", "-", 
       FractionBox[
        RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", 
     SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", 
     RowBox[{
      SuperscriptBox["r", "2"], " ", 
      SuperscriptBox[
       RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->"Out[4]=",ExpressionUUID->"53f7b896-6afc-4168-a318-dce86b52803c"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"TensorValues", "[", "gS", "]"}]], "Input",
 CellLabel->"In[5]:=",ExpressionUUID->"846e9c62-4712-438b-9d09-ef9ae83c9caa"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "1"}], "+", 
      FractionBox[
       RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], "}"}],
    ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", 
     FractionBox["1", 
      RowBox[{"1", "-", 
       FractionBox[
        RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", 
     SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", 
     RowBox[{
      SuperscriptBox["r", "2"], " ", 
      SuperscriptBox[
       RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->"Out[5]=",ExpressionUUID->"2f5e8ff6-2c0f-4579-bc28-cc1e32c87815"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Here is a curve in Schwarzschild spacetime.", \
"Item",ExpressionUUID->"716f1b0f-9f51-476d-a30a-fe8a35614450"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"x1", "=", 
  RowBox[{"ToCurve", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"\"\<xCurve\>\"", ",", "\"\<x\>\""}], "}"}], ",", "gS", ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"t", "[", "\[Tau]", "]"}], ",", 
      RowBox[{"r", "[", "\[Tau]", "]"}], ",", 
      RowBox[{"\[Theta]", "[", "\[Tau]", "]"}], ",", 
      RowBox[{"\[Phi]", "[", "\[Tau]", "]"}]}], "}"}], ",", "\[Tau]"}], 
   "]"}]}]], "Input",
 CellLabel->"In[6]:=",ExpressionUUID->"5d56fd76-6ee8-428b-88f1-7778ad1d8037"],

Cell[BoxData[
 TagBox[
  RowBox[{
   SubsuperscriptBox["x", "", "\[Alpha]"], "[", "\<\"\[Tau]\"\>", "]"}],
  DisplayForm]], "Output",
 CellLabel->"Out[6]=",ExpressionUUID->"72554b70-c48e-4531-8a02-18f6e80e205c"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["We now associate that curve with a Tensor field", \
"Item",ExpressionUUID->"b22538df-5fb6-4e9a-aa5f-09f7caced99a"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"gSF", "=", 
  RowBox[{"ToTensorFieldOnCurve", "[", 
   RowBox[{"gS", ",", "x1"}], "]"}]}]], "Input",
 CellLabel->"In[7]:=",ExpressionUUID->"aaa9a9bc-327e-4c1d-b137-fb61fbe6908f"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["g", "\[Alpha]\[Beta]", ""],
  DisplayForm]], "Output",
 CellLabel->"Out[7]=",ExpressionUUID->"fa8b90fc-cf4b-4149-9bc7-6b8d57bfbe27"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Now, RawTensorValues and TensorValues give different results", \
"Item",ExpressionUUID->"17034d0a-2412-45d5-a8ab-f9295ca5da6d"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"RawTensorValues", "[", "gSF", "]"}]], "Input",
 CellLabel->"In[8]:=",ExpressionUUID->"9534cbcf-a28c-42c3-83c8-4416a47440fb"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "1"}], "+", 
      FractionBox[
       RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], "}"}],
    ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", 
     FractionBox["1", 
      RowBox[{"1", "-", 
       FractionBox[
        RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", 
     SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", 
     RowBox[{
      SuperscriptBox["r", "2"], " ", 
      SuperscriptBox[
       RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->"Out[8]=",ExpressionUUID->"5ab8f8db-90c4-44e0-a6b6-d4254aa8a3ed"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"TensorValues", "[", "gSF", "]"}]], "Input",
 CellLabel->"In[9]:=",ExpressionUUID->"0c324128-887a-4b07-8ee4-22a69bb31dd0"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "1"}], "+", 
      FractionBox[
       RowBox[{"2", " ", "M"}], 
       RowBox[{"r", "[", "\[Tau]", "]"}]]}], ",", "0", ",", "0", ",", "0"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", 
     FractionBox["1", 
      RowBox[{"1", "-", 
       FractionBox[
        RowBox[{"2", " ", "M"}], 
        RowBox[{"r", "[", "\[Tau]", "]"}]]}]], ",", "0", ",", "0"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", 
     SuperscriptBox[
      RowBox[{"r", "[", "\[Tau]", "]"}], "2"], ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", 
     RowBox[{
      SuperscriptBox[
       RowBox[{"r", "[", "\[Tau]", "]"}], "2"], " ", 
      SuperscriptBox[
       RowBox[{"Sin", "[", 
        RowBox[{"\[Theta]", "[", "\[Tau]", "]"}], "]"}], "2"]}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->"Out[9]=",ExpressionUUID->"76998040-4b49-4c15-8d4d-18df80d5a043"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Caching Tensor values", \
"Section",ExpressionUUID->"522cdd71-097e-40c2-b551-b1d98194f95a"],

Cell[CellGroupData[{

Cell["Functions", \
"Subsection",ExpressionUUID->"e375a831-d0d5-4238-8680-2fb38b96510d"],

Cell["\<\
Large and repeated calculations can benefit from caching Tensor values.\
\>", "Item",ExpressionUUID->"ee7a9c43-03c3-4dbe-aa95-1a9b2dbf82b4"],

Cell[CellGroupData[{

Cell["\<\
By default this is off, but it can be turned on by setting the global \
variable $CacheTensorValues to True\
\>", "Item",ExpressionUUID->"860f68f4-1bf0-4b1a-815b-aab220fbb040"],

Cell[BoxData[GridBox[{
   {
    ButtonBox["$CacheTensorValues",
     BaseStyle->"Link",
     ButtonData->"paclet:GeneralRelativityTensors/ref/$CacheTensorValues"], 
    Cell["Boolean determining whether Tensor values are cached", "TableText",
     ExpressionUUID->"ebb91a98-e132-4901-a220-1a930ab6b5b6"]}
  }]], "DefinitionBox",
 CellID->2079569539,ExpressionUUID->"32b529ab-aad5-4c19-922a-5e67569a18bd"]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Cached values can be examined and removed with the following functions:\
\>", "Item",ExpressionUUID->"e80cc4a8-2cd7-4f04-81e3-c8a86515ae4d"],

Cell[BoxData[GridBox[{
   {
    RowBox[{
     ButtonBox["CachedTensorValues",
      BaseStyle->"Link",
      ButtonData->"paclet:GeneralRelativityTensors/ref/CachedTensorValues"], 
     "[", 
     StyleBox["t", "TI"], "]"}], Cell[TextData[{
     "The values of a Tensor ",
     StyleBox["t",
      FontFamily->"Times",
      FontWeight->"Regular",
      FontSlant->"Italic"],
     " that are cached"
    }], "TableText",ExpressionUUID->"af48af79-c9ad-47e1-932f-8c9a180d17f8"]},
   {
    RowBox[{
     ButtonBox["ClearCachedTensorValues",
      BaseStyle->"Link",
      ButtonData->
       "paclet:GeneralRelativityTensors/ref/ClearCachedTensorValues"], "[", 
     StyleBox["t", "TI"], "]"}], Cell[TextData[{
     "Remove all cached values associated with ",
     StyleBox["t",
      FontFamily->"Times",
      FontWeight->"Regular",
      FontSlant->"Italic"]
    }], "TableText",ExpressionUUID->"9096f087-62d2-458b-9f3c-65192df047d2"]}
  }]], "DefinitionBox",
 CellID->1788114926,ExpressionUUID->"e94390c6-1c9a-44a4-a9c2-4740fe25d9db"]
}, Open  ]],

Cell[CellGroupData[{

Cell["These functions can also be called for all Tensors:", \
"Item",ExpressionUUID->"8300dcca-6748-447a-b843-e1a2afb6103e"],

Cell[BoxData[GridBox[{
   {
    RowBox[{
     ButtonBox["CachedTensorValues",
      BaseStyle->"Link",
      ButtonData->"paclet:GeneralRelativityTensors/ref/CachedTensorValues"], 
     "[", "All", "]"}], Cell[
    "All Tensor values that are cached", "TableText",ExpressionUUID->
     "f2a4b442-480a-43e7-92c4-b4cf7019a1eb"]},
   {
    RowBox[{
     ButtonBox["ClearCachedTensorValues",
      BaseStyle->"Link",
      ButtonData->
       "paclet:GeneralRelativityTensors/ref/ClearCachedTensorValues"], "[", 
     "All", "]"}], Cell[
    "Remove all cached Tensor values", "TableText",ExpressionUUID->
     "8af70c9d-88bb-43b1-ad44-11ef51a76e56"]}
  }]], "DefinitionBox",
 CellID->71144484,ExpressionUUID->"e0f7ef9e-dcdf-4589-b6e0-c730775b8629"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Examples", \
"Subsection",ExpressionUUID->"178eea11-bbe4-484b-92ad-a3e73bb6f475"],

Cell[CellGroupData[{

Cell["Storage of one value", \
"Subsubsection",ExpressionUUID->"7e8ab42a-38d0-452e-8bff-3d4663696d5a"],

Cell[CellGroupData[{

Cell["Set $CacheTensorValues:", \
"Item",ExpressionUUID->"3a15867d-3b72-4f48-8dea-e66531c3cbef"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$CacheTensorValues", "=", "True"}], ";"}]], "Input",
 CellLabel->
  "In[10]:=",ExpressionUUID->"57d6f317-6e18-4a76-8212-e8fb07d1c185"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Originally nothing is cached.", \
"Item",ExpressionUUID->"e4ee9255-96fc-4b4b-8014-8160073e8de4"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"CachedTensorValues", "[", "All", "]"}]], "Input",
 CellLabel->"In[11]:=",ExpressionUUID->"94f86a3c-f63a-4513-b238-a3ed356b17b9"],

Cell[BoxData[
 RowBox[{"{", "}"}]], "Output",
 CellLabel->
  "Out[11]=",ExpressionUUID->"a32ec737-e76e-403a-b436-d2ff8141b394"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Call TensorValues on a Tensor and then its values are stored.\
\>", "Item",ExpressionUUID->"fc36d72d-adcd-4d06-b672-5579f8fcfac1"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"TensorValues", "[", "gS", "]"}]], "Input",
 CellLabel->"In[12]:=",ExpressionUUID->"1ebc778d-5665-4f64-a3fd-3b5a00af1362"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "1"}], "+", 
      FractionBox[
       RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], "}"}],
    ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", 
     FractionBox["1", 
      RowBox[{"1", "-", 
       FractionBox[
        RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", 
     SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", 
     RowBox[{
      SuperscriptBox["r", "2"], " ", 
      SuperscriptBox[
       RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->
  "Out[12]=",ExpressionUUID->"b6ee90d5-152a-4de1-b738-cbccd8b33cb4"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"CachedTensorValues", "[", "All", "]"}]], "Input",
 CellLabel->"In[13]:=",ExpressionUUID->"ae90b47b-ffaa-4e60-80df-984db5284c76"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
      RowBox[{"{", 
       RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], 
    "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "1"}], "+", 
         FractionBox[
          RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], 
       "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", 
        FractionBox["1", 
         RowBox[{"1", "-", 
          FractionBox[
           RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", 
        SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", "0", ",", 
        RowBox[{
         SuperscriptBox["r", "2"], " ", 
         SuperscriptBox[
          RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], "}"}]}], 
   "}"}], "}"}]], "Output",
 CellLabel->
  "Out[13]=",ExpressionUUID->"4975381e-d576-48e3-820b-b13aca967f5f"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Cached values are stored as DownValues of the Symbol RawTensorValues.\
\>", "Item",ExpressionUUID->"683ecf83-8dfb-47bb-88c0-25272d9229ff"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"DownValues", "[", "RawTensorValues", "]"}]], "Input",
 CellLabel->"In[14]:=",ExpressionUUID->"ce2d8bd8-1612-4c48-85ef-3b8b7631c4b1"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{"HoldPattern", "[", 
     RowBox[{"RawTensorValues", "[", 
      RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "]"}], "]"}], 
    "\[RuleDelayed]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "1"}], "+", 
         FractionBox[
          RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], 
       "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", 
        FractionBox["1", 
         RowBox[{"1", "-", 
          FractionBox[
           RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", 
        SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", "0", ",", 
        RowBox[{
         SuperscriptBox["r", "2"], " ", 
         SuperscriptBox[
          RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], "}"}]}], 
   ",", 
   RowBox[{
    RowBox[{"HoldPattern", "[", 
     RowBox[{
     "RawTensorValues", "[", 
      "GeneralRelativityTensors`TensorDefinitions`Private`t_Tensor", "]"}], 
     "]"}], "\[RuleDelayed]", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"#1", "=!=", "Undefined"}], ",", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{
            "GeneralRelativityTensors`TensorDefinitions`Private`AutoNameQ", 
             "[", "GeneralRelativityTensors`TensorDefinitions`Private`t", 
             "]"}], "||", 
            RowBox[{"!", "$CacheTensorValues"}]}], ",", "#1", ",", 
           RowBox[{
            RowBox[{"RawTensorValues", "[", 
             RowBox[{
              RowBox[{
              "TensorName", "[", 
               "GeneralRelativityTensors`TensorDefinitions`Private`t", "]"}], 
              ",", 
              RowBox[{
              "IndexPositions", "[", 
               "GeneralRelativityTensors`TensorDefinitions`Private`t", 
               "]"}]}], "]"}], "=", "#1"}]}], "]"}], ",", "Undefined"}], 
        "]"}], "&"}], ")"}], "[", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{
       "Association", "@@", 
        "GeneralRelativityTensors`TensorDefinitions`Private`t"}], ")"}], 
      "[", "\<\"Values\"\>", "]"}], "]"}]}], ",", 
   RowBox[{
    RowBox[{"HoldPattern", "[", 
     RowBox[{"RawTensorValues", "[", "___", "]"}], "]"}], "\[RuleDelayed]", 
    "Undefined"}]}], "}"}]], "Output",
 CellLabel->
  "Out[14]=",ExpressionUUID->"443a0dbf-b726-48b1-8754-7056343f8b2f"]
}, Open  ]]
}, Open  ]],

Cell["\<\
Note that cached values are stored relative to their TensorName. Thus, it is \
important to choose unique names for Tensors when using caching.\
\>", "Item",ExpressionUUID->"76e7faf9-3baa-4adb-9aa2-0f6f237b521a"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Nested caching", \
"Subsubsection",ExpressionUUID->"8d7b305c-7b55-4659-8cfe-9d284cec655f"],

Cell["\<\
Often when computing the values of a Tensor, other Tensors must be computed \
behind the scene.\
\>", "Item",ExpressionUUID->"ae9498c3-4b20-4f4a-a623-606e76c00c54"],

Cell["\<\
For instance,  finding a Christoffel symbol requires knowing the inverse \
metric.\
\>", "Item",ExpressionUUID->"63a1abd2-f14b-4c18-a149-9de5deb83194"],

Cell[CellGroupData[{

Cell["\<\
Therefore, when we make the following call, in addition to the final value, \
the inverse metric is also cached.\
\>", "Item",ExpressionUUID->"8a732419-1363-449b-9d3c-cda099342f52"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"chrS", "=", 
  RowBox[{"ChristoffelSymbol", "[", "gS", "]"}]}]], "Input",
 CellLabel->"In[15]:=",ExpressionUUID->"da05b57f-09a7-49ac-ba8e-56d39133cb49"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["\[CapitalGamma]", 
   RowBox[{"  ", "\[Beta]\[Gamma]"}], 
   RowBox[{"\[Alpha]", "    "}]],
  DisplayForm]], "Output",
 CellLabel->
  "Out[15]=",ExpressionUUID->"074dcb5d-f0e9-4a58-95f7-17e4e2b0d359"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"CachedTensorValues", "[", "All", "]"}]], "Input",
 CellLabel->"In[16]:=",ExpressionUUID->"a80b7f22-f4bc-45e8-818b-a75e7fdd3b6c"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"ChristoffelSymbolSchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Up\"\>", ",", "\<\"Down\"\>", ",", "\<\"Down\"\>"}], 
        "}"}]}], "}"}], "\[Rule]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", 
           RowBox[{"-", 
            FractionBox["M", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", "r"}]]}], 
           ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"-", 
            FractionBox["M", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", "r"}]]}], 
           ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           FractionBox[
            RowBox[{"M", " ", 
             RowBox[{"(", 
              RowBox[{"1", "-", 
               FractionBox[
                RowBox[{"2", " ", "M"}], "r"]}], ")"}]}], 
            SuperscriptBox["r", "2"]], ",", "0", ",", "0", ",", "0"}], "}"}], 
         ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", 
           RowBox[{"-", 
            FractionBox["M", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"1", "-", 
                FractionBox[
                 RowBox[{"2", " ", "M"}], "r"]}], ")"}], " ", 
              SuperscriptBox["r", "2"]}]]}], ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"(", 
              RowBox[{"1", "-", 
               FractionBox[
                RowBox[{"2", " ", "M"}], "r"]}], ")"}]}], " ", "r"}], ",", 
           "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"(", 
              RowBox[{"1", "-", 
               FractionBox[
                RowBox[{"2", " ", "M"}], "r"]}], ")"}]}], " ", "r", " ", 
            SuperscriptBox[
             RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], "}"}], 
       ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", 
           FractionBox["1", "r"], ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", 
           FractionBox["1", "r"], ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"Cos", "[", "\[Theta]", "]"}]}], " ", 
            RowBox[{"Sin", "[", "\[Theta]", "]"}]}]}], "}"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", 
           FractionBox["1", "r"]}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", 
           RowBox[{"Cot", "[", "\[Theta]", "]"}]}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", 
           FractionBox["1", "r"], ",", 
           RowBox[{"Cot", "[", "\[Theta]", "]"}], ",", "0"}], "}"}]}], 
        "}"}]}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
        RowBox[{"{", 
         RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], 
      "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "1"}], "+", 
           FractionBox[
            RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], 
         "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", 
          FractionBox["1", 
           RowBox[{"1", "-", 
            FractionBox[
             RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], 
        ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", 
          SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", 
          RowBox[{
           SuperscriptBox["r", "2"], " ", 
           SuperscriptBox[
            RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], "}"}]}],
      ",", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
        RowBox[{"{", 
         RowBox[{"\<\"Up\"\>", ",", "\<\"Up\"\>"}], "}"}]}], "}"}], "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          FractionBox["r", 
           RowBox[{
            RowBox[{"2", " ", "M"}], "-", "r"}]], ",", "0", ",", "0", ",", 
          "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", 
          RowBox[{"1", "-", 
           FractionBox[
            RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", 
          FractionBox["1", 
           SuperscriptBox["r", "2"]], ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", 
          FractionBox[
           SuperscriptBox[
            RowBox[{"Csc", "[", "\[Theta]", "]"}], "2"], 
           SuperscriptBox["r", "2"]]}], "}"}]}], "}"}]}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->
  "Out[16]=",ExpressionUUID->"a7ee1031-316e-4bd8-a941-536360239c83"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Notes on simplification", \
"Section",ExpressionUUID->"b4b2dc89-0a89-4a1a-b838-05b389753573"],

Cell["\<\
Because Tensor functions call each other, many Tensor values can quickly wind \
up cached.\
\>", "Item",ExpressionUUID->"a7143232-9cbd-429d-8e08-d7be2ce7100a"],

Cell[CellGroupData[{

Cell["\<\
For instance, here we compute the Einstein tensor for Schwarzschild, and \
Christoffel symbols, the Riemann tensor, the Ricci tensor, and the Ricci \
scalar are all cached.\
\>", "Item",ExpressionUUID->"06285e7a-a8ed-4960-afba-bc035b22a785"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"einS", "=", 
  RowBox[{"EinsteinTensor", "[", "gS", "]"}]}]], "Input",
 CellLabel->"In[17]:=",ExpressionUUID->"c8f17393-004b-424b-8ccc-82f7d846e9c2"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["G", "\[Alpha]\[Beta]", ""],
  DisplayForm]], "Output",
 CellLabel->
  "Out[17]=",ExpressionUUID->"58efdd0a-6392-4701-be2e-6125139f73de"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Here are the Keys without the Values:", \
"Item",ExpressionUUID->"97bd1c66-a0db-4dd6-b4c8-37cc13361145"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"CachedTensorValues", "[", "All", "]"}], "[", 
  RowBox[{"[", 
   RowBox[{"All", ",", "All", ",", "1"}], "]"}], "]"}]], "Input",
 CellLabel->"In[18]:=",ExpressionUUID->"c4a12655-3fb0-45d0-b979-bad1596945ef"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"{", 
     RowBox[{"\<\"ChristoffelSymbolSchwarzschildMetric\"\>", ",", 
      RowBox[{"{", 
       RowBox[{"\<\"Up\"\>", ",", "\<\"Down\"\>", ",", "\<\"Down\"\>"}], 
       "}"}]}], "}"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"{", 
     RowBox[{"\<\"EinsteinTensorSchwarzschildMetric\"\>", ",", 
      RowBox[{"{", 
       RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"{", 
     RowBox[{"\<\"RicciScalarSchwarzschildMetric\"\>", ",", 
      RowBox[{"{", "}"}]}], "}"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"RicciTensorSchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"RicciTensorSchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Down\"\>", ",", "\<\"Up\"\>"}], "}"}]}], "}"}]}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"RiemannTensorSchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>", ",", "\<\"Down\"\>", 
         ",", "\<\"Down\"\>"}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"RiemannTensorSchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Up\"\>", ",", "\<\"Down\"\>", ",", "\<\"Down\"\>", 
         ",", "\<\"Down\"\>"}], "}"}]}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Up\"\>", ",", "\<\"Up\"\>"}], "}"}]}], "}"}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->
  "Out[18]=",ExpressionUUID->"6c2f7196-a06d-4d6c-b548-1037279ab2b6"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Advanced students of general relativity may have heard that Schwarzschild is \
a vacuum spacetime, but this is not immediately clear:\
\>", "Item",ExpressionUUID->"29130f1b-a44e-4750-9ded-c5c40bf6652e"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"TensorValues", "[", "einS", "]"}], "//", "Short"}]], "Input",
 CellLabel->"In[19]:=",ExpressionUUID->"006d8713-1c81-4e2d-be71-bb1521e0df20"],

Cell[BoxData[
 TagBox[
  RowBox[{"{", 
   RowBox[{"\[LeftSkeleton]", "1", "\[RightSkeleton]"}], "}"}],
  Short]], "Output",
 CellLabel->
  "Out[19]//Short=",ExpressionUUID->"faf6c42b-2d77-427c-8515-9c57b5934063"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Of course, Simplify fixes this problem.", \
"Item",ExpressionUUID->"feb3cbc1-6ca0-4146-8bf3-b2358a8b9515"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Simplify", "[", 
  RowBox[{"TensorValues", "[", "einS", "]"}], "]"}]], "Input",
 CellLabel->"In[20]:=",ExpressionUUID->"f7609f57-2bb0-4b08-a733-05d24790e291"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]], "Output",
 CellLabel->
  "Out[20]=",ExpressionUUID->"d82837a2-3254-40dc-9c03-4a2c37623cd3"]
}, Open  ]]
}, Open  ]],

Cell[TextData[{
 "When caching it is important to performing this simplification ",
 StyleBox["before",
  FontSlant->"Italic"],
 " the caching is performed."
}], "Item",ExpressionUUID->"b5667f5a-2714-4b3f-9daa-a75ae41b9145"],

Cell[CellGroupData[{

Cell["This is done with the following common options.", \
"Item",ExpressionUUID->"1fdeffda-0640-49d4-b649-855f260894ee"],

Cell[BoxData[GridBox[{
   {"ActWith", Cell["\<\
applies the Option value (a function) to each of the elements of the Tensor \
that is formed\
\>", "TableText",ExpressionUUID->"7b32f771-8a38-4c70-b3cc-01ec248f9c10"]},
   {"ActWithNested", Cell["\<\
same as ActWith, but the function is also passed to functions that are called \
internally\
\>", "TableText",ExpressionUUID->"464269bb-2c1f-4865-9daf-af9422e123a2"]}
  }]], "DefinitionBox",
 CellID->1128635629,ExpressionUUID->"4b3337a8-07a2-46b2-bc3f-d11eb0a30fb3"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Clear the cached values.", \
"Item",ExpressionUUID->"6820e7ce-9aad-464a-879b-7b5900d7abe2"],

Cell[BoxData[
 RowBox[{"ClearCachedTensorValues", "[", "All", "]"}]], "Input",
 CellLabel->
  "In[21]:=",ExpressionUUID->"42610e33-46b0-4077-ab8a-bda96c746a0c"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Re-compute the Einstein tensor, but with simplification.", \
"Item",ExpressionUUID->"cdc53371-71b1-4bf4-ae87-2995155ca35e"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"einS", "=", 
  RowBox[{"EinsteinTensor", "[", 
   RowBox[{"gS", ",", 
    RowBox[{"ActWithNested", "\[Rule]", "Simplify"}]}], "]"}]}]], "Input",
 CellLabel->"In[22]:=",ExpressionUUID->"b50583de-4eb8-445b-89ab-437b7091dd7b"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["G", "\[Alpha]\[Beta]", ""],
  DisplayForm]], "Output",
 CellLabel->
  "Out[22]=",ExpressionUUID->"2eea7cd7-6c44-4aed-9ca0-21e0a832f3c0"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Now the Einstein tensor vanishes immediately.", \
"Item",ExpressionUUID->"2e07f1c6-c0ac-4999-bbfd-ece5423f2863"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"TensorValues", "[", "einS", "]"}]], "Input",
 CellLabel->"In[23]:=",ExpressionUUID->"f084d2a5-4115-496e-822d-b8819dcabb36"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]], "Output",
 CellLabel->
  "Out[23]=",ExpressionUUID->"0cd47b2e-a915-41f8-991e-d9acac8f629e"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Also, nested values like the Riemann tensor have been simplified.\
\>", "Item",ExpressionUUID->"887ea309-b620-460e-b807-45f2b358c12d"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"CachedTensorValues", "[", "All", "]"}]], "Input",
 CellLabel->"In[24]:=",ExpressionUUID->"0dbe2140-456e-49d5-a70c-cbb2ee722a6a"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"ChristoffelSymbolSchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Up\"\>", ",", "\<\"Down\"\>", ",", "\<\"Down\"\>"}], 
        "}"}]}], "}"}], "\[Rule]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", 
           RowBox[{"-", 
            FractionBox["M", 
             RowBox[{
              RowBox[{"2", " ", "M", " ", "r"}], "-", 
              SuperscriptBox["r", "2"]}]]}], ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"-", 
            FractionBox["M", 
             RowBox[{
              RowBox[{"2", " ", "M", " ", "r"}], "-", 
              SuperscriptBox["r", "2"]}]]}], ",", "0", ",", "0", ",", "0"}], 
          "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           FractionBox[
            RowBox[{"M", " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
            SuperscriptBox["r", "3"]], ",", "0", ",", "0", ",", "0"}], "}"}], 
         ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", 
           FractionBox["M", 
            RowBox[{
             RowBox[{"2", " ", "M", " ", "r"}], "-", 
             SuperscriptBox["r", "2"]}]], ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", 
           RowBox[{
            RowBox[{"2", " ", "M"}], "-", "r"}], ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{
              RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
            SuperscriptBox[
             RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], "}"}], 
       ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", 
           FractionBox["1", "r"], ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", 
           FractionBox["1", "r"], ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"Cos", "[", "\[Theta]", "]"}]}], " ", 
            RowBox[{"Sin", "[", "\[Theta]", "]"}]}]}], "}"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", 
           FractionBox["1", "r"]}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", 
           RowBox[{"Cot", "[", "\[Theta]", "]"}]}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", 
           FractionBox["1", "r"], ",", 
           RowBox[{"Cot", "[", "\[Theta]", "]"}], ",", "0"}], "}"}]}], 
        "}"}]}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"EinsteinTensorSchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], 
     "\[Rule]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"RicciScalarSchwarzschildMetric\"\>", ",", 
       RowBox[{"{", "}"}]}], "}"}], "\[Rule]", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"RicciTensorSchwarzschildMetric\"\>", ",", 
        RowBox[{"{", 
         RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], 
      "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]}], ",", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"RicciTensorSchwarzschildMetric\"\>", ",", 
        RowBox[{"{", 
         RowBox[{"\<\"Down\"\>", ",", "\<\"Up\"\>"}], "}"}]}], "}"}], 
      "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]}]}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"RiemannTensorSchwarzschildMetric\"\>", ",", 
        RowBox[{"{", 
         RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>", ",", "\<\"Down\"\>", 
          ",", "\<\"Down\"\>"}], "}"}]}], "}"}], "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"2", " ", "M"}], 
                SuperscriptBox["r", "3"]]}], ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"2", " ", "M"}], 
               SuperscriptBox["r", "3"]], ",", "0", ",", "0", ",", "0"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
               SuperscriptBox["r", "2"]], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
                SuperscriptBox["r", "2"]]}], ",", "0", ",", "0", ",", "0"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                 SuperscriptBox[
                  RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
                SuperscriptBox["r", "2"]]}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                SuperscriptBox[
                 RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
               SuperscriptBox["r", "2"]], ",", "0", ",", "0", ",", "0"}], 
             "}"}]}], "}"}]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", 
              FractionBox[
               RowBox[{"2", " ", "M"}], 
               SuperscriptBox["r", "3"]], ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               FractionBox[
                RowBox[{"2", " ", "M"}], 
                SuperscriptBox["r", "3"]]}], ",", "0", ",", "0", ",", "0"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              FractionBox["M", 
               RowBox[{
                RowBox[{"2", " ", "M"}], "-", "r"}]], ",", "0"}], "}"}], ",", 
            
            RowBox[{"{", 
             RowBox[{"0", ",", 
              RowBox[{"-", 
               FractionBox["M", 
                RowBox[{
                 RowBox[{"2", " ", "M"}], "-", "r"}]]}], ",", "0", ",", "0"}],
              "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              FractionBox[
               RowBox[{"M", " ", 
                SuperscriptBox[
                 RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
               RowBox[{
                RowBox[{"2", " ", "M"}], "-", "r"}]]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 SuperscriptBox[
                  RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
                RowBox[{
                 RowBox[{"2", " ", "M"}], "-", "r"}]]}], ",", "0", ",", "0"}],
              "}"}]}], "}"}]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
                SuperscriptBox["r", "2"]]}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
               SuperscriptBox["r", "2"]], ",", "0", ",", "0", ",", "0"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox["M", 
                RowBox[{
                 RowBox[{"2", " ", "M"}], "-", "r"}]]}], ",", "0"}], "}"}], 
            ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", 
              FractionBox["M", 
               RowBox[{
                RowBox[{"2", " ", "M"}], "-", "r"}]], ",", "0", ",", "0"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              RowBox[{"2", " ", "M", " ", "r", " ", 
               SuperscriptBox[
                RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              RowBox[{
               RowBox[{"-", "2"}], " ", "M", " ", "r", " ", 
               SuperscriptBox[
                RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], ",", "0"}], 
             "}"}]}], "}"}]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                SuperscriptBox[
                 RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
               SuperscriptBox["r", "2"]]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                 SuperscriptBox[
                  RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
                SuperscriptBox["r", "2"]]}], ",", "0", ",", "0", ",", "0"}], 
             "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 SuperscriptBox[
                  RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
                RowBox[{
                 RowBox[{"2", " ", "M"}], "-", "r"}]]}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", 
              FractionBox[
               RowBox[{"M", " ", 
                SuperscriptBox[
                 RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
               RowBox[{
                RowBox[{"2", " ", "M"}], "-", "r"}]], ",", "0", ",", "0"}], 
             "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              RowBox[{
               RowBox[{"-", "2"}], " ", "M", " ", "r", " ", 
               SuperscriptBox[
                RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              RowBox[{"2", " ", "M", " ", "r", " ", 
               SuperscriptBox[
                RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], ",", "0"}], 
             "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]}], 
         "}"}]}], "}"}]}], ",", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"RiemannTensorSchwarzschildMetric\"\>", ",", 
        RowBox[{"{", 
         RowBox[{"\<\"Up\"\>", ",", "\<\"Down\"\>", ",", "\<\"Down\"\>", 
          ",", "\<\"Down\"\>"}], "}"}]}], "}"}], "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"2", " ", "M"}], 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                 SuperscriptBox["r", "2"]}]]}], ",", "0", ",", "0"}], "}"}], 
            ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"2", " ", "M"}], 
               RowBox[{
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                SuperscriptBox["r", "2"]}]], ",", "0", ",", "0", ",", "0"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
               RowBox[{
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", "r"}]], 
              ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", "r"}]]}], 
              ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 SuperscriptBox[
                  RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], "r"]}]}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"M", " ", 
                SuperscriptBox[
                 RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], "r"], ",", 
              "0", ",", "0", ",", "0"}], "}"}]}], "}"}]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", 
              FractionBox[
               RowBox[{"2", " ", "M", " ", 
                RowBox[{"(", 
                 RowBox[{"1", "-", 
                  FractionBox[
                   RowBox[{"2", " ", "M"}], "r"]}], ")"}]}], 
               SuperscriptBox["r", "3"]], ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               FractionBox[
                RowBox[{"2", " ", "M", " ", 
                 RowBox[{"(", 
                  RowBox[{"1", "-", 
                   FractionBox[
                    RowBox[{"2", " ", "M"}], "r"]}], ")"}]}], 
                SuperscriptBox["r", "3"]]}], ",", "0", ",", "0", ",", "0"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{"1", "-", 
                  FractionBox[
                   RowBox[{"2", " ", "M"}], "r"]}], ")"}]}], 
               RowBox[{
                RowBox[{"2", " ", "M"}], "-", "r"}]], ",", "0"}], "}"}], ",", 
            
            RowBox[{"{", 
             RowBox[{"0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{"1", "-", 
                   FractionBox[
                    RowBox[{"2", " ", "M"}], "r"]}], ")"}]}], 
                RowBox[{
                 RowBox[{"2", " ", "M"}], "-", "r"}]]}], ",", "0", ",", "0"}],
              "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{"1", "-", 
                  FractionBox[
                   RowBox[{"2", " ", "M"}], "r"]}], ")"}], " ", 
                SuperscriptBox[
                 RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
               RowBox[{
                RowBox[{"2", " ", "M"}], "-", "r"}]]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{"1", "-", 
                   FractionBox[
                    RowBox[{"2", " ", "M"}], "r"]}], ")"}], " ", 
                 SuperscriptBox[
                  RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
                RowBox[{
                 RowBox[{"2", " ", "M"}], "-", "r"}]]}], ",", "0", ",", "0"}],
              "}"}]}], "}"}]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
                SuperscriptBox["r", "4"]]}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
               SuperscriptBox["r", "4"]], ",", "0", ",", "0", ",", "0"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox["M", 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                 SuperscriptBox["r", "2"]}]]}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", 
              FractionBox["M", 
               RowBox[{
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                SuperscriptBox["r", "2"]}]], ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              FractionBox[
               RowBox[{"2", " ", "M", " ", 
                SuperscriptBox[
                 RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], "r"]}], "}"}],
             ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"2", " ", "M", " ", 
                 SuperscriptBox[
                  RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], "r"]}], ",", 
              "0"}], "}"}]}], "}"}]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"2", " ", "M"}], "-", "r"}], ")"}]}], 
               SuperscriptBox["r", "4"]]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"2", " ", "M"}], "-", "r"}], ")"}]}], 
                SuperscriptBox["r", "4"]]}], ",", "0", ",", "0", ",", "0"}], 
             "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox["M", 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                 SuperscriptBox["r", "2"]}]]}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", 
              FractionBox["M", 
               RowBox[{
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                SuperscriptBox["r", "2"]}]], ",", "0", ",", "0"}], "}"}]}], 
           "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"2", " ", "M"}], "r"]}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              FractionBox[
               RowBox[{"2", " ", "M"}], "r"], ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]}], 
         "}"}]}], "}"}]}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
        RowBox[{"{", 
         RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], 
      "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "1"}], "+", 
           FractionBox[
            RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], 
         "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", 
          FractionBox["1", 
           RowBox[{"1", "-", 
            FractionBox[
             RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], 
        ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", 
          SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", 
          RowBox[{
           SuperscriptBox["r", "2"], " ", 
           SuperscriptBox[
            RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], "}"}]}],
      ",", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
        RowBox[{"{", 
         RowBox[{"\<\"Up\"\>", ",", "\<\"Up\"\>"}], "}"}]}], "}"}], "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          FractionBox["r", 
           RowBox[{
            RowBox[{"2", " ", "M"}], "-", "r"}]], ",", "0", ",", "0", ",", 
          "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", 
          RowBox[{"1", "-", 
           FractionBox[
            RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", 
          FractionBox["1", 
           SuperscriptBox["r", "2"]], ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", 
          FractionBox[
           SuperscriptBox[
            RowBox[{"Csc", "[", "\[Theta]", "]"}], "2"], 
           SuperscriptBox["r", "2"]]}], "}"}]}], "}"}]}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->
  "Out[24]=",ExpressionUUID->"46da371b-679e-4cc9-a7dd-b61380c98de9"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Turning off caching", \
"Section",ExpressionUUID->"5ff0d42c-191c-4de0-a3dc-341273328a3e"],

Cell[CellGroupData[{

Cell["\<\
Note that simply re-setting $CacheTensorValues to False does not remove \
already cached values.\
\>", "Item",ExpressionUUID->"b0949b72-dcfc-4c46-978b-f64378f34646"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$CacheTensorValues", "=", "False"}], ";"}]], "Input",
 CellLabel->"In[25]:=",ExpressionUUID->"9a432c20-aa52-49e6-ad1f-97881698ef53"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"CachedTensorValues", "[", "gS", "]"}]], "Input",
 CellLabel->"In[26]:=",ExpressionUUID->"1510faeb-f44d-4f87-9cd7-b1caf44d3e49"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{"{", 
     RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
      RowBox[{"{", 
       RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], 
    "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "1"}], "+", 
         FractionBox[
          RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], 
       "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", 
        FractionBox["1", 
         RowBox[{"1", "-", 
          FractionBox[
           RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", 
        SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", "0", ",", 
        RowBox[{
         SuperscriptBox["r", "2"], " ", 
         SuperscriptBox[
          RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], "}"}]}], 
   ",", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
      RowBox[{"{", 
       RowBox[{"\<\"Up\"\>", ",", "\<\"Up\"\>"}], "}"}]}], "}"}], "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        FractionBox["r", 
         RowBox[{
          RowBox[{"2", " ", "M"}], "-", "r"}]], ",", "0", ",", "0", ",", 
        "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", 
        RowBox[{"1", "-", 
         FractionBox[
          RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", 
        FractionBox["1", 
         SuperscriptBox["r", "2"]], ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", "0", ",", 
        FractionBox[
         SuperscriptBox[
          RowBox[{"Csc", "[", "\[Theta]", "]"}], "2"], 
         SuperscriptBox["r", "2"]]}], "}"}]}], "}"}]}]}], "}"}]], "Output",
 CellLabel->
  "Out[26]=",ExpressionUUID->"97ed310f-f4ef-486d-a1bc-ea7f9ac33382"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Call ClearCachedTensorValues instead.", \
"Item",ExpressionUUID->"2cc51cfb-b902-4f30-a07a-0d06732d4c13"],

Cell[BoxData[
 RowBox[{"ClearCachedTensorValues", "[", "All", "]"}]], "Input",
 CellLabel->"In[27]:=",ExpressionUUID->"26e0a3d4-0d25-453d-9792-4642cf48f009"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"CachedTensorValues", "[", "All", "]"}]], "Input",
 CellLabel->"In[28]:=",ExpressionUUID->"2cd7b0c7-43a6-4db8-a382-d8f8d9711739"],

Cell[BoxData[
 RowBox[{"{", "}"}]], "Output",
 CellLabel->
  "Out[28]=",ExpressionUUID->"218dc647-139d-436f-a9a1-5e65d9e8a098"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["", "RelatedTutorialsSection",
 WholeCellGroupOpener->True,
 CellFrameLabels->{{
    FEPrivate`If[
     FEPrivate`Or[
      FEPrivate`SameQ[FEPrivate`$ProductVersion, "6.0"], 
      FEPrivate`SameQ[FEPrivate`$ProductVersion, "7.0"], 
      FEPrivate`SameQ[FEPrivate`$ProductVersion, "8.0"]], 
     Cell[
      TextData[
       ButtonBox[
       "RELATED TUTORIALS", BaseStyle -> None, 
        Appearance -> {Automatic, None}, Evaluator -> None, Method -> 
        "Preemptive", ButtonFunction :> (FrontEndExecute[{
           FrontEnd`SelectionMove[
            FrontEnd`SelectedNotebook[], All, ButtonCell], 
           FrontEndToken["OpenCloseGroup"], 
           FrontEnd`SelectionMove[
            FrontEnd`SelectedNotebook[], After, CellContents]}]& )]], 
      "RelatedTutorialsSection"], 
     TextData[
      ButtonBox[
       Cell[
        TextData[{
          Cell[
           BoxData[
            TemplateBox[{24}, "Spacer1"]]], "Related Tutorials"}], 
        "RelatedTutorialsSection"], BaseStyle -> None, 
       Appearance -> {Automatic, None}, Evaluator -> None, Method -> 
       "Preemptive", ButtonFunction :> (FrontEndExecute[{
          FrontEnd`SelectionMove[
           FrontEnd`SelectedNotebook[], All, ButtonCell], 
          FrontEndToken["OpenCloseGroup"], 
          FrontEnd`SelectionMove[
           FrontEnd`SelectedNotebook[], After, CellContents]}]& )]]], None}, {
   None, None}},
 CellFrameLabelMargins->
  0,ExpressionUUID->"3d16ab78-8163-4a30-b243-0e34edc4dd26"],

Cell[TextData[ButtonBox["Introduction to GeneralRelativityTensors",
 BaseStyle->"Link",
 ButtonData->
  "paclet:GeneralRelativityTensors/tutorial/Introduction to \
GeneralRelativityTensors"]], \
"RelatedTutorials",ExpressionUUID->"d41350ec-af61-4565-a294-43d79b7a3f2f"],

Cell[TextData[ButtonBox["Introduction to Tensor Curves",
 BaseStyle->"Link",
 ButtonData->
  "paclet:GeneralRelativityTensors/tutorial/Introduction to Tensor Curves"]], \
"RelatedTutorials",ExpressionUUID->"1a2ef33a-1ad9-49f5-9ca6-b298ac81acae"],

Cell[TextData[ButtonBox["Manipulating and differentiating Tensors",
 BaseStyle->"Link",
 ButtonData->
  "paclet:GeneralRelativityTensors/tutorial/Manipulating and differentiating \
Tensors"]], \
"RelatedTutorials",ExpressionUUID->"6645ac53-24c4-44f5-a6a6-3040940ce6c4"],

Cell[TextData[ButtonBox["Built in common Tensors",
 BaseStyle->"Link",
 ButtonData->
  "paclet:GeneralRelativityTensors/tutorial/Built in common Tensors"]], \
"RelatedTutorials",ExpressionUUID->"c83018c4-152c-49f7-a72d-be8778664ed3"],

Cell[TextData[ButtonBox["Examples - Wave equations",
 BaseStyle->"Link",
 ButtonData->
  "paclet:GeneralRelativityTensors/tutorial/Examples - Wave equations"]], \
"RelatedTutorials",ExpressionUUID->"1541d7b9-5479-4b42-b5dc-0f3ee44ae1a3"]
}, Open  ]]
}, Open  ]],

Cell[" ", \
"FooterCell",ExpressionUUID->"ccb2a34e-64ac-4ae2-83a4-c421de030881"]
},
Saveable->False,
ScreenStyleEnvironment->"Working",
WindowSize->{725, 750},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
WindowTitle->"Caching Tensor values",
Visible->True,
PrivateNotebookOptions->{"FileOutlineCache"->False},
TaggingRules->{
 "ModificationHighlight" -> False, 
  "Metadata" -> {
   "context" -> "GeneralRelativityTensors`", 
    "keywords" -> {"Tensors", "Cache", "GeneralRelativityTensors"}, "index" -> 
    True, "label" -> "Tensor caching", "language" -> "en", "paclet" -> 
    "Caching Tensor values", "status" -> "None", "summary" -> 
    "Optimizing Tensor calculations through caching.", "synonyms" -> {}, 
    "title" -> "Caching Tensor values", "windowTitle" -> 
    "Caching Tensor values", "type" -> "Tutorial", "uri" -> 
    "GeneralRelativityTensors/tutorial/Caching Tensor values", 
    "WorkflowDockedCell" -> ""}, "SearchTextTranslated" -> "", "LinkTrails" -> 
  ""},
TrackCellChangeTimes->False,
FrontEndVersion->"11.3 for Mac OS X x86 (32-bit, 64-bit Kernel) (March 5, \
2018)",
StyleDefinitions->FrontEnd`FileName[{"Wolfram"}, "Reference.nb", 
  CharacterEncoding -> "UTF-8"]
]

