Notebook[{
Cell[" ", "TutorialColorBar",
 CellMargins->{{Inherited, Inherited}, {-5, 
   0}},ExpressionUUID->"e4155d26-f685-4f3f-b158-da8d7668ba61"],

Cell[TextData[{
 ButtonBox["GeneralRelativityTensors",
  BaseStyle->{"Link", "LinkTrail"},
  ButtonData->
   "paclet:GeneralRelativityTensors/guide/GeneralRelativityTensors"],
 StyleBox[" > ", "LinkTrailSeparator"],
 ButtonBox["Caching Tensor values",
  BaseStyle->{"Link", "LinkTrail"},
  ButtonData->"paclet:GeneralRelativityTensors/tutorial/Caching Tensor values"]
}], "LinkTrail",ExpressionUUID->"b9b60f28-c774-4f49-b771-2e9c644fe3b5"],

Cell[BoxData[GridBox[{
   {Cell["CACHING TENSOR VALUES TUTORIAL", "PacletNameCell",ExpressionUUID->
     "6f6c0d9a-ad1b-483f-b2fc-a027db723018"], Cell[TextData[{
     Cell[BoxData[
      ActionMenuBox[
       FrameBox["\<\"Related Tutorials \[RightGuillemet]\"\>",
        StripOnInput->False], {
       RowBox[{"Introduction", " ", "to", " ", "GeneralRelativityTensors"}]:>
       Documentation`HelpLookup[
       "paclet:GeneralRelativityTensors/tutorial/Introduction to \
GeneralRelativityTensors"], 
       RowBox[{"Introduction", " ", "to", " ", "Tensor", " ", "Curves"}]:>
       Documentation`HelpLookup[
       "paclet:GeneralRelativityTensors/tutorial/Introduction to Tensor \
Curves"], 
       RowBox[{
       "Manipulating", " ", "and", " ", "differentiating", " ", "Tensors"}]:>
       Documentation`HelpLookup[
       "paclet:GeneralRelativityTensors/tutorial/Manipulating and \
differentiating Tensors"], 
       RowBox[{"Built", " ", "in", " ", "common", " ", "Tensors"}]:>
       Documentation`HelpLookup[
       "paclet:GeneralRelativityTensors/tutorial/Built in common Tensors"], 
       RowBox[{"Pattern", " ", "matching", " ", "with", " ", "Tensors"}]:>
       Documentation`HelpLookup[
       "paclet:GeneralRelativityTensors/tutorial/Pattern matching with \
Tensors"], 
       RowBox[{"Examples", " ", "-", " ", 
        RowBox[{"Wave", " ", "equations"}]}]:>Documentation`HelpLookup[
       "paclet:GeneralRelativityTensors/tutorial/Examples - Wave equations"]},
       
       Appearance->None,
       MenuAppearance->Automatic]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "dd432ecd-57dc-49ed-8ce3-b6196a1511c6"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      ActionMenuBox[
       FrameBox["\<\"URL \[RightGuillemet]\"\>",
        StripOnInput->
         False], {"\<\"Go to GeneralRelativityTensors website\"\>":>
       FrontEndExecute[{
         NotebookLocate[{
           URL[None], None}]}], 
       Delimiter, "\<\"Go to wolfram Mathematica website\"\>":>
       FrontEndExecute[{
         NotebookLocate[{
           URL[
           "http://reference.wolfram.com/mathematica/guide/Mathematica.html"],
            None}]}]},
       Appearance->None,
       MenuAppearance->Automatic]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "6e3b8a64-c283-47d1-bb8f-c9d393ce7497"]
    }], "AnchorBar",ExpressionUUID->"28aa368b-5f22-4f3d-bd57-92afb12113fc"]}
  }]], "AnchorBarGrid",ExpressionUUID->"0fa5077d-f6cb-4753-a73e-14bebd8f44a2"],

Cell[CellGroupData[{

Cell["GeneralRelativityTensors - Caching  Tensor values", \
"Title",ExpressionUUID->"0e7f9c57-eb65-4af9-9102-cbc0c562c389"],

Cell["\<\
By default Tensor values are not cached. In the right contexts, turning on \
caching can greatly speed up calculations.\
\>", "Text",ExpressionUUID->"0f127893-3551-4870-9813-381f60569e15"],

Cell[BoxData[
 RowBox[{"<<", "GeneralRelativityTensors`"}]], "Input",
 CellLabel->"In[1]:=",ExpressionUUID->"761a508b-84f7-43ad-8560-4a57975516d1"],

Cell[CellGroupData[{

Cell["Default storage of Tensor values", \
"Section",ExpressionUUID->"7205b4a6-8eb1-4745-879a-1b75bcef85e0"],

Cell["\<\
Fundamentally, a Tensor is just a Sequence of Rules wrapped in the Head \
Tensor.\
\>", "Item",ExpressionUUID->"9892316d-9cf4-4b14-98a6-35e901431e7c"],

Cell["\<\
The values of the Tensor are associated with the Key \
\[OpenCurlyDoubleQuote]Values\[CloseCurlyDoubleQuote]\
\>", "Item",ExpressionUUID->"1c1221e8-5f52-4f28-8ae2-f77551efa141"],

Cell[CellGroupData[{

Cell["For example:", \
"Item",ExpressionUUID->"f494d221-1f0e-401f-86e0-0fc4ca5504fe"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"List", "@@", 
  RowBox[{"ToMetric", "[", "\"\<S2\>\"", "]"}]}]], "Input",
 CellLabel->"In[2]:=",ExpressionUUID->"9e3227f2-29b4-4d0b-a8db-c6e3da545c2c"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"\<\"AbstractQ\"\>", "\[Rule]", "False"}], ",", 
   RowBox[{"\<\"Coordinates\"\>", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\[Theta]", ",", "\[Phi]"}], "}"}]}], ",", 
   RowBox[{"\<\"Curve\"\>", "\[Rule]", "Undefined"}], ",", 
   RowBox[{"\<\"CurveParameter\"\>", "\[Rule]", "Undefined"}], ",", 
   RowBox[{"\<\"CurveQ\"\>", "\[Rule]", "False"}], ",", 
   RowBox[{"\<\"Dimensions\"\>", "\[Rule]", "2"}], ",", 
   RowBox[{"\<\"DisplayName\"\>", "\[Rule]", "\<\"\[CapitalOmega]\"\>"}], ",", 
   RowBox[{"\<\"Indices\"\>", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"-", "A"}], ",", 
      RowBox[{"-", "B"}]}], "}"}]}], ",", 
   RowBox[{"\<\"Metric\"\>", "\[Rule]", "\<\"Self\"\>"}], ",", 
   RowBox[{"\<\"MetricQ\"\>", "\[Rule]", "True"}], ",", 
   RowBox[{"\<\"Name\"\>", "\[Rule]", "\<\"TwoSphereMetric\"\>"}], ",", 
   RowBox[{"\<\"PossibleIndices\"\>", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
     "A", ",", "B", ",", "F", ",", "G", ",", "H", ",", "J", ",", "L", ",", 
      "M", ",", "P", ",", "Q", ",", "R", ",", "S", ",", "T", ",", "U", ",", 
      "V", ",", "W", ",", "X", ",", "Y", ",", "Z"}], "}"}]}], ",", 
   RowBox[{"\<\"Values\"\>", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"1", ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", 
        SuperscriptBox[
         RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], "}"}]}], "}"}]}]}], 
  "}"}]], "Output",
 CellLabel->"Out[2]=",ExpressionUUID->"b3b9cf45-b5e7-457a-8b16-989ae3511969"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
The best way to retrieve those values is with the functions RawTensorValues \
and TensorValues\
\>", "Item",ExpressionUUID->"fda3c940-dc33-460d-afbd-37ab09ff316f"],

Cell[BoxData[GridBox[{
   {
    RowBox[{
     ButtonBox["RawTensorValues",
      BaseStyle->"Link",
      ButtonData->"paclet:GeneralRelativityTensors/ref/RawTensorValues"], "[", 
     StyleBox["t", "TI"], "]"}], Cell[TextData[{
     "The actual internal values of a Tensor ",
     StyleBox["t",
      FontFamily->"Times",
      FontWeight->"Regular",
      FontSlant->"Italic"]
    }], "TableText",ExpressionUUID->"9d43f28f-18e6-4101-a771-4b4c9e4b2a65"]},
   {
    RowBox[{
     ButtonBox["TensorValues",
      BaseStyle->"Link",
      ButtonData->"paclet:GeneralRelativityTensors/ref/TensorValues"], "[", 
     StyleBox["t", "TI"], "]"}], Cell[TextData[{
     "The same as RawTensorValues, but if ",
     StyleBox["t",
      FontFamily->"Times",
      FontWeight->"Regular",
      FontSlant->"Italic"],
     " has an associated curve, evaluate the values on that curve"
    }], "TableText",ExpressionUUID->"8e1b84c1-9cd5-4920-9f9f-f7178d15f1d5"]}
  }]], "DefinitionBox",
 CellID->340746825,ExpressionUUID->"07e0f706-be22-43dc-b184-85f294ecbb8f"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Here is a Tensor field, the Schwarzschild metric.", \
"Item",ExpressionUUID->"52dd90f3-99fc-4cf9-a71d-73031bf14d39"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"gS", "=", 
  RowBox[{"ToMetric", "[", "\"\<Schw\>\"", "]"}]}]], "Input",
 CellLabel->"In[3]:=",ExpressionUUID->"2ed80b85-293b-4948-b6de-44467bf1d8d6"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["g", "\[Alpha]\[Beta]", ""],
  DisplayForm]], "Output",
 CellLabel->"Out[3]=",ExpressionUUID->"38ebe0a7-651a-433d-bf76-07fdb3ec41f6"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
RawTensorValues and TensorValues give different the same result.\
\>", "Item",ExpressionUUID->"4b9ac9eb-de74-42fb-9b0e-ae3081cceddb"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"RawTensorValues", "[", "gS", "]"}]], "Input",
 CellLabel->"In[4]:=",ExpressionUUID->"7485d52c-dc1e-4a68-a6d4-aac560390963"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "1"}], "+", 
      FractionBox[
       RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], "}"}],
    ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", 
     FractionBox["1", 
      RowBox[{"1", "-", 
       FractionBox[
        RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", 
     SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", 
     RowBox[{
      SuperscriptBox["r", "2"], " ", 
      SuperscriptBox[
       RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->"Out[4]=",ExpressionUUID->"aa6a5a29-f730-4283-aaff-859a38ec8856"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"TensorValues", "[", "gS", "]"}]], "Input",
 CellLabel->"In[5]:=",ExpressionUUID->"9986dcb2-4a32-49cb-bfaf-2d189cefe610"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "1"}], "+", 
      FractionBox[
       RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], "}"}],
    ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", 
     FractionBox["1", 
      RowBox[{"1", "-", 
       FractionBox[
        RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", 
     SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", 
     RowBox[{
      SuperscriptBox["r", "2"], " ", 
      SuperscriptBox[
       RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->"Out[5]=",ExpressionUUID->"b65268f6-f10b-41f6-baf3-16c28cd9e0f9"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Here is a curve in Schwarzschild spacetime.", \
"Item",ExpressionUUID->"5cac3aeb-d6c9-4b3b-962d-d798f62443ba"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"x1", "=", 
  RowBox[{"ToCurve", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"\"\<xCurve\>\"", ",", "\"\<x\>\""}], "}"}], ",", "gS", ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"t", "[", "\[Tau]", "]"}], ",", 
      RowBox[{"r", "[", "\[Tau]", "]"}], ",", 
      RowBox[{"\[Theta]", "[", "\[Tau]", "]"}], ",", 
      RowBox[{"\[Phi]", "[", "\[Tau]", "]"}]}], "}"}], ",", "\[Tau]"}], 
   "]"}]}]], "Input",
 CellLabel->"In[6]:=",ExpressionUUID->"74f263ea-4390-40d4-8ca1-e3affadf4c94"],

Cell[BoxData[
 TagBox[
  RowBox[{
   SubsuperscriptBox["x", "", "\[Alpha]"], "[", "\<\"\[Tau]\"\>", "]"}],
  DisplayForm]], "Output",
 CellLabel->"Out[6]=",ExpressionUUID->"6ef2fa92-40bc-4f24-bee0-aa08d7399e89"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["We now associate that curve with a Tensor field", \
"Item",ExpressionUUID->"5c077cf6-5b80-4393-a15a-a6d5c12db0ea"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"gSF", "=", 
  RowBox[{"ToTensorFieldOnCurve", "[", 
   RowBox[{"gS", ",", "x1"}], "]"}]}]], "Input",
 CellLabel->"In[7]:=",ExpressionUUID->"0f9a2b26-9c1b-46b1-a8ca-e9bbc6c1f7ea"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["g", "\[Alpha]\[Beta]", ""],
  DisplayForm]], "Output",
 CellLabel->"Out[7]=",ExpressionUUID->"aeaa02a6-a334-4383-bc82-b430830681ff"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Now, RawTensorValues and TensorValues give different results", \
"Item",ExpressionUUID->"11be72a1-7f07-4a0a-81b4-81d219a59cb0"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"RawTensorValues", "[", "gSF", "]"}]], "Input",
 CellLabel->"In[8]:=",ExpressionUUID->"d731013d-5980-4d7e-b7b2-bd21d637bb19"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "1"}], "+", 
      FractionBox[
       RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], "}"}],
    ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", 
     FractionBox["1", 
      RowBox[{"1", "-", 
       FractionBox[
        RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", 
     SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", 
     RowBox[{
      SuperscriptBox["r", "2"], " ", 
      SuperscriptBox[
       RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->"Out[8]=",ExpressionUUID->"29965b4c-7187-4805-8fd3-a3d5c0d88c4e"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"TensorValues", "[", "gSF", "]"}]], "Input",
 CellLabel->"In[9]:=",ExpressionUUID->"0a0d73d2-9767-45dd-b7e8-95fc0eb70bb7"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "1"}], "+", 
      FractionBox[
       RowBox[{"2", " ", "M"}], 
       RowBox[{"r", "[", "\[Tau]", "]"}]]}], ",", "0", ",", "0", ",", "0"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", 
     FractionBox["1", 
      RowBox[{"1", "-", 
       FractionBox[
        RowBox[{"2", " ", "M"}], 
        RowBox[{"r", "[", "\[Tau]", "]"}]]}]], ",", "0", ",", "0"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", 
     SuperscriptBox[
      RowBox[{"r", "[", "\[Tau]", "]"}], "2"], ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", 
     RowBox[{
      SuperscriptBox[
       RowBox[{"r", "[", "\[Tau]", "]"}], "2"], " ", 
      SuperscriptBox[
       RowBox[{"Sin", "[", 
        RowBox[{"\[Theta]", "[", "\[Tau]", "]"}], "]"}], "2"]}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->"Out[9]=",ExpressionUUID->"05404e36-a600-4b98-a347-7b7b999facbb"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Caching Tensor values", \
"Section",ExpressionUUID->"a982c082-887c-4214-833f-40d8f0ce6a03"],

Cell[CellGroupData[{

Cell["Functions", \
"Subsection",ExpressionUUID->"150f1ca4-01c9-43eb-8d40-726a7b1e5106"],

Cell["\<\
Large and repeated calculations can benefit from caching Tensor values.\
\>", "Item",ExpressionUUID->"8789b867-b8c5-4363-94f8-99fbd742cb38"],

Cell[CellGroupData[{

Cell["\<\
By default this is off, but it can be turned on by setting the global \
variable $CacheTensorValues to True\
\>", "Item",ExpressionUUID->"47e04300-27f6-4f9e-9042-f8b907b20b3b"],

Cell[BoxData[GridBox[{
   {
    ButtonBox["$CacheTensorValues",
     BaseStyle->"Link",
     ButtonData->"paclet:GeneralRelativityTensors/ref/$CacheTensorValues"], 
    Cell["Boolean determining whether Tensor values are cached", "TableText",
     ExpressionUUID->"6aac5379-94fb-41e0-aa2a-8a020051a6b1"]}
  }]], "DefinitionBox",
 CellID->2079569539,ExpressionUUID->"c51941eb-d1a5-4942-9dea-3c397ea0188f"]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Cached values can be examined and removed with the following functions:\
\>", "Item",ExpressionUUID->"42da8aa4-3c78-4e95-bde0-271f80ce4d92"],

Cell[BoxData[GridBox[{
   {
    RowBox[{
     ButtonBox["CachedTensorValues",
      BaseStyle->"Link",
      ButtonData->"paclet:GeneralRelativityTensors/ref/CachedTensorValues"], 
     "[", 
     StyleBox["t", "TI"], "]"}], Cell[TextData[{
     "The values of a Tensor ",
     StyleBox["t",
      FontFamily->"Times",
      FontWeight->"Regular",
      FontSlant->"Italic"],
     " that are cached"
    }], "TableText",ExpressionUUID->"a13f79e3-ffe8-495a-a40d-fb158c969bd3"]},
   {
    RowBox[{
     ButtonBox["ClearCachedTensorValues",
      BaseStyle->"Link",
      ButtonData->
       "paclet:GeneralRelativityTensors/ref/ClearCachedTensorValues"], "[", 
     StyleBox["t", "TI"], "]"}], Cell[TextData[{
     "Remove all cached values associated with ",
     StyleBox["t",
      FontFamily->"Times",
      FontWeight->"Regular",
      FontSlant->"Italic"]
    }], "TableText",ExpressionUUID->"6c810c23-88ae-4eee-b3cb-4083ea639f01"]}
  }]], "DefinitionBox",
 CellID->1788114926,ExpressionUUID->"ec628616-666e-4dec-afb2-b916c902e3c4"]
}, Open  ]],

Cell[CellGroupData[{

Cell["These functions can also be called for all Tensors:", \
"Item",ExpressionUUID->"066f34a7-59c6-4646-b554-8c2a77e4dd8a"],

Cell[BoxData[GridBox[{
   {
    RowBox[{
     ButtonBox["CachedTensorValues",
      BaseStyle->"Link",
      ButtonData->"paclet:GeneralRelativityTensors/ref/CachedTensorValues"], 
     "[", "All", "]"}], Cell[
    "All Tensor values that are cached", "TableText",ExpressionUUID->
     "5da8b6a2-d9f5-428b-a431-8ab910cf7377"]},
   {
    RowBox[{
     ButtonBox["ClearCachedTensorValues",
      BaseStyle->"Link",
      ButtonData->
       "paclet:GeneralRelativityTensors/ref/ClearCachedTensorValues"], "[", 
     "All", "]"}], Cell[
    "Remove all cached Tensor values", "TableText",ExpressionUUID->
     "88c83303-3d6b-4ed5-80b4-8180f3b5deec"]}
  }]], "DefinitionBox",
 CellID->71144484,ExpressionUUID->"7c3bc63d-6af6-4974-b962-bca5d9ef8e69"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Examples", \
"Subsection",ExpressionUUID->"412760d2-dc1b-4cdd-906e-c0935942c7d4"],

Cell[CellGroupData[{

Cell["Storage of one value", \
"Subsubsection",ExpressionUUID->"96999f8c-9c13-4655-8138-617d12140bd0"],

Cell[CellGroupData[{

Cell["Set $CacheTensorValues:", \
"Item",ExpressionUUID->"2d0cc9ee-1496-465c-9ec6-873f0f0a0423"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$CacheTensorValues", "=", "True"}], ";"}]], "Input",
 CellLabel->
  "In[10]:=",ExpressionUUID->"c8ed0d56-e7af-456a-9577-9f219be8038e"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Originally nothing is cached.", \
"Item",ExpressionUUID->"0cf6be3c-9cc7-4a5d-b0b8-94ca70313fc5"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"CachedTensorValues", "[", "All", "]"}]], "Input",
 CellLabel->"In[11]:=",ExpressionUUID->"f46f1e7b-7d72-4ec5-b55c-088c3d730a72"],

Cell[BoxData[
 RowBox[{"{", "}"}]], "Output",
 CellLabel->
  "Out[11]=",ExpressionUUID->"dfa868d7-c2e5-405a-8a52-02f247f5d08a"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Call TensorValues on a Tensor and then its values are stored.\
\>", "Item",ExpressionUUID->"638fa8ac-b057-4dfd-8b77-bf6bfd1df8ee"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"TensorValues", "[", "gS", "]"}]], "Input",
 CellLabel->"In[12]:=",ExpressionUUID->"d2e8a6c2-c93d-4a9f-89ab-a87be7c7ab5b"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "1"}], "+", 
      FractionBox[
       RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], "}"}],
    ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", 
     FractionBox["1", 
      RowBox[{"1", "-", 
       FractionBox[
        RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", 
     SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", 
     RowBox[{
      SuperscriptBox["r", "2"], " ", 
      SuperscriptBox[
       RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->
  "Out[12]=",ExpressionUUID->"63837ee8-c928-4d01-9eac-950a32b7e0f6"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"CachedTensorValues", "[", "All", "]"}]], "Input",
 CellLabel->"In[13]:=",ExpressionUUID->"fc657e28-1aad-4c80-b3fe-2a175d8e47e0"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
      RowBox[{"{", 
       RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], 
    "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "1"}], "+", 
         FractionBox[
          RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], 
       "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", 
        FractionBox["1", 
         RowBox[{"1", "-", 
          FractionBox[
           RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", 
        SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", "0", ",", 
        RowBox[{
         SuperscriptBox["r", "2"], " ", 
         SuperscriptBox[
          RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], "}"}]}], 
   "}"}], "}"}]], "Output",
 CellLabel->
  "Out[13]=",ExpressionUUID->"b8837a3b-737e-43de-a87c-9b6e8a0b2850"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Cached values are stored as DownValues of the Symbol RawTensorValues.\
\>", "Item",ExpressionUUID->"66bdb133-f5b7-4871-a883-955fd18cfb0f"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"DownValues", "[", "RawTensorValues", "]"}]], "Input",
 CellLabel->"In[14]:=",ExpressionUUID->"f3d0fba4-eb4a-4009-8576-4efcfc29cdc9"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{"HoldPattern", "[", 
     RowBox[{"RawTensorValues", "[", 
      RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "]"}], "]"}], 
    "\[RuleDelayed]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "1"}], "+", 
         FractionBox[
          RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], 
       "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", 
        FractionBox["1", 
         RowBox[{"1", "-", 
          FractionBox[
           RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", 
        SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", "0", ",", 
        RowBox[{
         SuperscriptBox["r", "2"], " ", 
         SuperscriptBox[
          RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], "}"}]}], 
   ",", 
   RowBox[{
    RowBox[{"HoldPattern", "[", 
     RowBox[{
     "RawTensorValues", "[", 
      "GeneralRelativityTensors`TensorDefinitions`Private`t_Tensor", "]"}], 
     "]"}], "\[RuleDelayed]", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"#1", "=!=", "Undefined"}], ",", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{
            "GeneralRelativityTensors`TensorDefinitions`Private`AutoNameQ", 
             "[", "GeneralRelativityTensors`TensorDefinitions`Private`t", 
             "]"}], "||", 
            RowBox[{"!", "$CacheTensorValues"}]}], ",", "#1", ",", 
           RowBox[{
            RowBox[{"RawTensorValues", "[", 
             RowBox[{
              RowBox[{
              "TensorName", "[", 
               "GeneralRelativityTensors`TensorDefinitions`Private`t", "]"}], 
              ",", 
              RowBox[{
              "IndexPositions", "[", 
               "GeneralRelativityTensors`TensorDefinitions`Private`t", 
               "]"}]}], "]"}], "=", "#1"}]}], "]"}], ",", "Undefined"}], 
        "]"}], "&"}], ")"}], "[", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{
       "Association", "@@", 
        "GeneralRelativityTensors`TensorDefinitions`Private`t"}], ")"}], 
      "[", "\<\"Values\"\>", "]"}], "]"}]}], ",", 
   RowBox[{
    RowBox[{"HoldPattern", "[", 
     RowBox[{"RawTensorValues", "[", "___", "]"}], "]"}], "\[RuleDelayed]", 
    "Undefined"}]}], "}"}]], "Output",
 CellLabel->
  "Out[14]=",ExpressionUUID->"190a91cf-6969-4188-81c1-6e38d919cad2"]
}, Open  ]]
}, Open  ]],

Cell["\<\
Note that cached values are stored relative to their TensorName. Thus, it is \
important to choose unique names for Tensors when using caching.\
\>", "Item",ExpressionUUID->"a9c0c8a7-876e-4a45-a61f-3aac62996c9d"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Nested caching", \
"Subsubsection",ExpressionUUID->"96ad115a-e160-4a2e-ad03-19d2db87ae05"],

Cell["\<\
Often when computing the values of a Tensor, other Tensors must be computed \
behind the scene.\
\>", "Item",ExpressionUUID->"899d50c3-d27f-4193-b3d5-239c37ae0f5e"],

Cell["\<\
For instance,  finding a Christoffel symbol requires knowing the inverse \
metric.\
\>", "Item",ExpressionUUID->"95067571-6241-4030-8980-d10db5974aeb"],

Cell[CellGroupData[{

Cell["\<\
Therefore, when we make the following call, in addition to the final value, \
the inverse metric is also cached.\
\>", "Item",ExpressionUUID->"9c2f1a74-5a58-460f-a9c6-09703c3189c8"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"chrS", "=", 
  RowBox[{"ChristoffelSymbol", "[", "gS", "]"}]}]], "Input",
 CellLabel->"In[15]:=",ExpressionUUID->"bf40f9c9-ee56-40cf-b659-daede0e47e44"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["\[CapitalGamma]", 
   RowBox[{"  ", "\[Beta]\[Gamma]"}], 
   RowBox[{"\[Alpha]", "    "}]],
  DisplayForm]], "Output",
 CellLabel->
  "Out[15]=",ExpressionUUID->"9a2499c5-be2b-410e-a8c2-1fa2710c3565"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"CachedTensorValues", "[", "All", "]"}]], "Input",
 CellLabel->"In[16]:=",ExpressionUUID->"9aa2f6d6-5fea-4505-af0b-3f96044b42f7"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"ChristoffelSymbolSchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Up\"\>", ",", "\<\"Down\"\>", ",", "\<\"Down\"\>"}], 
        "}"}]}], "}"}], "\[Rule]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", 
           RowBox[{"-", 
            FractionBox["M", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", "r"}]]}], 
           ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"-", 
            FractionBox["M", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", "r"}]]}], 
           ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           FractionBox[
            RowBox[{"M", " ", 
             RowBox[{"(", 
              RowBox[{"1", "-", 
               FractionBox[
                RowBox[{"2", " ", "M"}], "r"]}], ")"}]}], 
            SuperscriptBox["r", "2"]], ",", "0", ",", "0", ",", "0"}], "}"}], 
         ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", 
           RowBox[{"-", 
            FractionBox["M", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"1", "-", 
                FractionBox[
                 RowBox[{"2", " ", "M"}], "r"]}], ")"}], " ", 
              SuperscriptBox["r", "2"]}]]}], ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"(", 
              RowBox[{"1", "-", 
               FractionBox[
                RowBox[{"2", " ", "M"}], "r"]}], ")"}]}], " ", "r"}], ",", 
           "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"(", 
              RowBox[{"1", "-", 
               FractionBox[
                RowBox[{"2", " ", "M"}], "r"]}], ")"}]}], " ", "r", " ", 
            SuperscriptBox[
             RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], "}"}], 
       ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", 
           FractionBox["1", "r"], ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", 
           FractionBox["1", "r"], ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"Cos", "[", "\[Theta]", "]"}]}], " ", 
            RowBox[{"Sin", "[", "\[Theta]", "]"}]}]}], "}"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", 
           FractionBox["1", "r"]}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", 
           RowBox[{"Cot", "[", "\[Theta]", "]"}]}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", 
           FractionBox["1", "r"], ",", 
           RowBox[{"Cot", "[", "\[Theta]", "]"}], ",", "0"}], "}"}]}], 
        "}"}]}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
        RowBox[{"{", 
         RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], 
      "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "1"}], "+", 
           FractionBox[
            RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], 
         "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", 
          FractionBox["1", 
           RowBox[{"1", "-", 
            FractionBox[
             RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], 
        ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", 
          SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", 
          RowBox[{
           SuperscriptBox["r", "2"], " ", 
           SuperscriptBox[
            RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], "}"}]}],
      ",", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
        RowBox[{"{", 
         RowBox[{"\<\"Up\"\>", ",", "\<\"Up\"\>"}], "}"}]}], "}"}], "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          FractionBox["r", 
           RowBox[{
            RowBox[{"2", " ", "M"}], "-", "r"}]], ",", "0", ",", "0", ",", 
          "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", 
          RowBox[{"1", "-", 
           FractionBox[
            RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", 
          FractionBox["1", 
           SuperscriptBox["r", "2"]], ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", 
          FractionBox[
           SuperscriptBox[
            RowBox[{"Csc", "[", "\[Theta]", "]"}], "2"], 
           SuperscriptBox["r", "2"]]}], "}"}]}], "}"}]}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->
  "Out[16]=",ExpressionUUID->"9f0b200a-bb58-4b36-9ec1-1865e96e41a7"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Notes on simplification", \
"Section",ExpressionUUID->"333ab0ca-3d17-48b9-8043-cb2f306cae8c"],

Cell["\<\
Because Tensor functions call each other, many Tensor values can quickly wind \
up cached.\
\>", "Item",ExpressionUUID->"51b4f7de-37d1-4c76-95de-885980312589"],

Cell[CellGroupData[{

Cell["\<\
For instance, here we compute the Einstein tensor for Schwarzschild, and \
Christoffel symbols, the Riemann tensor, the Ricci tensor, and the Ricci \
scalar are all cached.\
\>", "Item",ExpressionUUID->"bc97d069-dd7c-45aa-a1ab-915fc1f00d94"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"einS", "=", 
  RowBox[{"EinsteinTensor", "[", "gS", "]"}]}]], "Input",
 CellLabel->"In[17]:=",ExpressionUUID->"7cae2a5b-df44-4db5-a317-20d4c7c1f6f3"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["G", "\[Alpha]\[Beta]", ""],
  DisplayForm]], "Output",
 CellLabel->
  "Out[17]=",ExpressionUUID->"90446ca2-fa94-4638-b5fc-a435930bbee5"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Here are the Keys without the Values:", \
"Item",ExpressionUUID->"00b3e9ad-63ae-4d14-ae14-6e978c68c63a"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"CachedTensorValues", "[", "All", "]"}], "[", 
  RowBox[{"[", 
   RowBox[{"All", ",", "All", ",", "1"}], "]"}], "]"}]], "Input",
 CellLabel->"In[18]:=",ExpressionUUID->"c36d565b-1860-4e10-9415-3bf7cf901caa"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"{", 
     RowBox[{"\<\"ChristoffelSymbolSchwarzschildMetric\"\>", ",", 
      RowBox[{"{", 
       RowBox[{"\<\"Up\"\>", ",", "\<\"Down\"\>", ",", "\<\"Down\"\>"}], 
       "}"}]}], "}"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"{", 
     RowBox[{"\<\"EinsteinTensorSchwarzschildMetric\"\>", ",", 
      RowBox[{"{", 
       RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"{", 
     RowBox[{"\<\"RicciScalarSchwarzschildMetric\"\>", ",", 
      RowBox[{"{", "}"}]}], "}"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"RicciTensorSchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"RicciTensorSchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Down\"\>", ",", "\<\"Up\"\>"}], "}"}]}], "}"}]}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"RiemannTensorSchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>", ",", "\<\"Down\"\>", 
         ",", "\<\"Down\"\>"}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"RiemannTensorSchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Up\"\>", ",", "\<\"Down\"\>", ",", "\<\"Down\"\>", 
         ",", "\<\"Down\"\>"}], "}"}]}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Up\"\>", ",", "\<\"Up\"\>"}], "}"}]}], "}"}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->
  "Out[18]=",ExpressionUUID->"b516d156-aeeb-47c8-a865-2caf619625eb"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Advanced students of general relativity may have heard that Schwarzschild is \
a vacuum spacetime, but this is not immediately clear:\
\>", "Item",ExpressionUUID->"fefb3475-2e26-4fe3-8d81-5f3821806bb7"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"TensorValues", "[", "einS", "]"}], "//", "Short"}]], "Input",
 CellLabel->"In[19]:=",ExpressionUUID->"05d5118e-213b-42a1-9d6f-8a96803a482a"],

Cell[BoxData[
 TagBox[
  RowBox[{"{", 
   RowBox[{"\[LeftSkeleton]", "1", "\[RightSkeleton]"}], "}"}],
  Short]], "Output",
 CellLabel->
  "Out[19]//Short=",ExpressionUUID->"786de675-2d11-485f-9e54-93dddeafbe70"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Of course, Simplify fixes this problem.", \
"Item",ExpressionUUID->"498ee8dc-d84d-418a-b2dc-af3b21e7573f"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Simplify", "[", 
  RowBox[{"TensorValues", "[", "einS", "]"}], "]"}]], "Input",
 CellLabel->"In[20]:=",ExpressionUUID->"da8aa6e5-5124-4a8f-ac7e-55b9eeded793"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]], "Output",
 CellLabel->
  "Out[20]=",ExpressionUUID->"0672c5b2-d4ea-4afe-992f-764f7410702f"]
}, Open  ]]
}, Open  ]],

Cell[TextData[{
 "When caching it is important to performing this simplification ",
 StyleBox["before",
  FontSlant->"Italic"],
 " the caching is performed."
}], "Item",ExpressionUUID->"6703f475-5dbc-417d-a281-d8562e1df4fe"],

Cell[CellGroupData[{

Cell["This is done with the following common options.", \
"Item",ExpressionUUID->"665b138b-ce4a-4cce-9ca8-5b55bac8b880"],

Cell[BoxData[GridBox[{
   {"ActWith", Cell["\<\
applies the Option value (a function) to each of the elements of the Tensor \
that is formed\
\>", "TableText",ExpressionUUID->"d891f632-4990-496b-bdc5-59393cc47797"]},
   {"ActWithNested", Cell["\<\
same as ActWith, but the function is also passed to functions that are called \
internally\
\>", "TableText",ExpressionUUID->"86a03d68-582a-403b-9660-eb132a8b99fe"]}
  }]], "DefinitionBox",
 CellID->1128635629,ExpressionUUID->"218610b4-9e61-4c5e-88ec-e00c39d4a154"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Clear the cached values.", \
"Item",ExpressionUUID->"450366be-e046-4c6f-b8c5-82582fd7ba67"],

Cell[BoxData[
 RowBox[{"ClearCachedTensorValues", "[", "All", "]"}]], "Input",
 CellLabel->
  "In[21]:=",ExpressionUUID->"5f6f03ac-2388-40f1-b3ff-86c6dc95b1d3"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Re-compute the Einstein tensor, but with simplification.", \
"Item",ExpressionUUID->"8633b264-5788-420c-8efe-26c701f5e1fe"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"einS", "=", 
  RowBox[{"EinsteinTensor", "[", 
   RowBox[{"gS", ",", 
    RowBox[{"ActWithNested", "\[Rule]", "Simplify"}]}], "]"}]}]], "Input",
 CellLabel->"In[22]:=",ExpressionUUID->"fc6da32c-6f42-4e89-bfe7-d64ed8fdf462"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["G", "\[Alpha]\[Beta]", ""],
  DisplayForm]], "Output",
 CellLabel->
  "Out[22]=",ExpressionUUID->"5aad4943-7c44-4750-aed8-185220f6e8f3"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Now the Einstein tensor vanishes immediately.", \
"Item",ExpressionUUID->"cefd81b7-5fb3-4d20-a522-0adba2e56bcb"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"TensorValues", "[", "einS", "]"}]], "Input",
 CellLabel->"In[23]:=",ExpressionUUID->"2a281933-f689-4475-bef2-5daa13be9235"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]], "Output",
 CellLabel->
  "Out[23]=",ExpressionUUID->"6c2ca360-1198-4d98-8064-c57a9e87bc12"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Also, nested values like the Riemann tensor have been simplified.\
\>", "Item",ExpressionUUID->"548f89c5-233d-4f27-b6d2-528e1ce42fce"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"CachedTensorValues", "[", "All", "]"}]], "Input",
 CellLabel->"In[24]:=",ExpressionUUID->"e5bf3cf0-e015-40fa-8841-14effadab8ac"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"ChristoffelSymbolSchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Up\"\>", ",", "\<\"Down\"\>", ",", "\<\"Down\"\>"}], 
        "}"}]}], "}"}], "\[Rule]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", 
           RowBox[{"-", 
            FractionBox["M", 
             RowBox[{
              RowBox[{"2", " ", "M", " ", "r"}], "-", 
              SuperscriptBox["r", "2"]}]]}], ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"-", 
            FractionBox["M", 
             RowBox[{
              RowBox[{"2", " ", "M", " ", "r"}], "-", 
              SuperscriptBox["r", "2"]}]]}], ",", "0", ",", "0", ",", "0"}], 
          "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           FractionBox[
            RowBox[{"M", " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
            SuperscriptBox["r", "3"]], ",", "0", ",", "0", ",", "0"}], "}"}], 
         ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", 
           FractionBox["M", 
            RowBox[{
             RowBox[{"2", " ", "M", " ", "r"}], "-", 
             SuperscriptBox["r", "2"]}]], ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", 
           RowBox[{
            RowBox[{"2", " ", "M"}], "-", "r"}], ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{
              RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
            SuperscriptBox[
             RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], "}"}], 
       ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", 
           FractionBox["1", "r"], ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", 
           FractionBox["1", "r"], ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"Cos", "[", "\[Theta]", "]"}]}], " ", 
            RowBox[{"Sin", "[", "\[Theta]", "]"}]}]}], "}"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", 
           FractionBox["1", "r"]}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", 
           RowBox[{"Cot", "[", "\[Theta]", "]"}]}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", 
           FractionBox["1", "r"], ",", 
           RowBox[{"Cot", "[", "\[Theta]", "]"}], ",", "0"}], "}"}]}], 
        "}"}]}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"EinsteinTensorSchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], 
     "\[Rule]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"RicciScalarSchwarzschildMetric\"\>", ",", 
       RowBox[{"{", "}"}]}], "}"}], "\[Rule]", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"RicciTensorSchwarzschildMetric\"\>", ",", 
        RowBox[{"{", 
         RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], 
      "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]}], ",", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"RicciTensorSchwarzschildMetric\"\>", ",", 
        RowBox[{"{", 
         RowBox[{"\<\"Down\"\>", ",", "\<\"Up\"\>"}], "}"}]}], "}"}], 
      "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]}]}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"RiemannTensorSchwarzschildMetric\"\>", ",", 
        RowBox[{"{", 
         RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>", ",", "\<\"Down\"\>", 
          ",", "\<\"Down\"\>"}], "}"}]}], "}"}], "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"2", " ", "M"}], 
                SuperscriptBox["r", "3"]]}], ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"2", " ", "M"}], 
               SuperscriptBox["r", "3"]], ",", "0", ",", "0", ",", "0"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
               SuperscriptBox["r", "2"]], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
                SuperscriptBox["r", "2"]]}], ",", "0", ",", "0", ",", "0"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                 SuperscriptBox[
                  RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
                SuperscriptBox["r", "2"]]}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                SuperscriptBox[
                 RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
               SuperscriptBox["r", "2"]], ",", "0", ",", "0", ",", "0"}], 
             "}"}]}], "}"}]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", 
              FractionBox[
               RowBox[{"2", " ", "M"}], 
               SuperscriptBox["r", "3"]], ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               FractionBox[
                RowBox[{"2", " ", "M"}], 
                SuperscriptBox["r", "3"]]}], ",", "0", ",", "0", ",", "0"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              FractionBox["M", 
               RowBox[{
                RowBox[{"2", " ", "M"}], "-", "r"}]], ",", "0"}], "}"}], ",", 
            
            RowBox[{"{", 
             RowBox[{"0", ",", 
              RowBox[{"-", 
               FractionBox["M", 
                RowBox[{
                 RowBox[{"2", " ", "M"}], "-", "r"}]]}], ",", "0", ",", "0"}],
              "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              FractionBox[
               RowBox[{"M", " ", 
                SuperscriptBox[
                 RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
               RowBox[{
                RowBox[{"2", " ", "M"}], "-", "r"}]]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 SuperscriptBox[
                  RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
                RowBox[{
                 RowBox[{"2", " ", "M"}], "-", "r"}]]}], ",", "0", ",", "0"}],
              "}"}]}], "}"}]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
                SuperscriptBox["r", "2"]]}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
               SuperscriptBox["r", "2"]], ",", "0", ",", "0", ",", "0"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox["M", 
                RowBox[{
                 RowBox[{"2", " ", "M"}], "-", "r"}]]}], ",", "0"}], "}"}], 
            ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", 
              FractionBox["M", 
               RowBox[{
                RowBox[{"2", " ", "M"}], "-", "r"}]], ",", "0", ",", "0"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              RowBox[{"2", " ", "M", " ", "r", " ", 
               SuperscriptBox[
                RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              RowBox[{
               RowBox[{"-", "2"}], " ", "M", " ", "r", " ", 
               SuperscriptBox[
                RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], ",", "0"}], 
             "}"}]}], "}"}]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                SuperscriptBox[
                 RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
               SuperscriptBox["r", "2"]]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                 SuperscriptBox[
                  RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
                SuperscriptBox["r", "2"]]}], ",", "0", ",", "0", ",", "0"}], 
             "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 SuperscriptBox[
                  RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
                RowBox[{
                 RowBox[{"2", " ", "M"}], "-", "r"}]]}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", 
              FractionBox[
               RowBox[{"M", " ", 
                SuperscriptBox[
                 RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
               RowBox[{
                RowBox[{"2", " ", "M"}], "-", "r"}]], ",", "0", ",", "0"}], 
             "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              RowBox[{
               RowBox[{"-", "2"}], " ", "M", " ", "r", " ", 
               SuperscriptBox[
                RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              RowBox[{"2", " ", "M", " ", "r", " ", 
               SuperscriptBox[
                RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], ",", "0"}], 
             "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]}], 
         "}"}]}], "}"}]}], ",", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"RiemannTensorSchwarzschildMetric\"\>", ",", 
        RowBox[{"{", 
         RowBox[{"\<\"Up\"\>", ",", "\<\"Down\"\>", ",", "\<\"Down\"\>", 
          ",", "\<\"Down\"\>"}], "}"}]}], "}"}], "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"2", " ", "M"}], 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                 SuperscriptBox["r", "2"]}]]}], ",", "0", ",", "0"}], "}"}], 
            ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"2", " ", "M"}], 
               RowBox[{
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                SuperscriptBox["r", "2"]}]], ",", "0", ",", "0", ",", "0"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
               RowBox[{
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", "r"}]], 
              ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", "r"}]]}], 
              ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 SuperscriptBox[
                  RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], "r"]}]}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"M", " ", 
                SuperscriptBox[
                 RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], "r"], ",", 
              "0", ",", "0", ",", "0"}], "}"}]}], "}"}]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", 
              FractionBox[
               RowBox[{"2", " ", "M", " ", 
                RowBox[{"(", 
                 RowBox[{"1", "-", 
                  FractionBox[
                   RowBox[{"2", " ", "M"}], "r"]}], ")"}]}], 
               SuperscriptBox["r", "3"]], ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               FractionBox[
                RowBox[{"2", " ", "M", " ", 
                 RowBox[{"(", 
                  RowBox[{"1", "-", 
                   FractionBox[
                    RowBox[{"2", " ", "M"}], "r"]}], ")"}]}], 
                SuperscriptBox["r", "3"]]}], ",", "0", ",", "0", ",", "0"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{"1", "-", 
                  FractionBox[
                   RowBox[{"2", " ", "M"}], "r"]}], ")"}]}], 
               RowBox[{
                RowBox[{"2", " ", "M"}], "-", "r"}]], ",", "0"}], "}"}], ",", 
            
            RowBox[{"{", 
             RowBox[{"0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{"1", "-", 
                   FractionBox[
                    RowBox[{"2", " ", "M"}], "r"]}], ")"}]}], 
                RowBox[{
                 RowBox[{"2", " ", "M"}], "-", "r"}]]}], ",", "0", ",", "0"}],
              "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{"1", "-", 
                  FractionBox[
                   RowBox[{"2", " ", "M"}], "r"]}], ")"}], " ", 
                SuperscriptBox[
                 RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
               RowBox[{
                RowBox[{"2", " ", "M"}], "-", "r"}]]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{"1", "-", 
                   FractionBox[
                    RowBox[{"2", " ", "M"}], "r"]}], ")"}], " ", 
                 SuperscriptBox[
                  RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
                RowBox[{
                 RowBox[{"2", " ", "M"}], "-", "r"}]]}], ",", "0", ",", "0"}],
              "}"}]}], "}"}]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
                SuperscriptBox["r", "4"]]}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
               SuperscriptBox["r", "4"]], ",", "0", ",", "0", ",", "0"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox["M", 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                 SuperscriptBox["r", "2"]}]]}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", 
              FractionBox["M", 
               RowBox[{
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                SuperscriptBox["r", "2"]}]], ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              FractionBox[
               RowBox[{"2", " ", "M", " ", 
                SuperscriptBox[
                 RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], "r"]}], "}"}],
             ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"2", " ", "M", " ", 
                 SuperscriptBox[
                  RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], "r"]}], ",", 
              "0"}], "}"}]}], "}"}]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"2", " ", "M"}], "-", "r"}], ")"}]}], 
               SuperscriptBox["r", "4"]]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"2", " ", "M"}], "-", "r"}], ")"}]}], 
                SuperscriptBox["r", "4"]]}], ",", "0", ",", "0", ",", "0"}], 
             "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox["M", 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                 SuperscriptBox["r", "2"]}]]}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", 
              FractionBox["M", 
               RowBox[{
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                SuperscriptBox["r", "2"]}]], ",", "0", ",", "0"}], "}"}]}], 
           "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"2", " ", "M"}], "r"]}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              FractionBox[
               RowBox[{"2", " ", "M"}], "r"], ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]}], 
         "}"}]}], "}"}]}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
        RowBox[{"{", 
         RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], 
      "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "1"}], "+", 
           FractionBox[
            RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], 
         "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", 
          FractionBox["1", 
           RowBox[{"1", "-", 
            FractionBox[
             RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], 
        ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", 
          SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", 
          RowBox[{
           SuperscriptBox["r", "2"], " ", 
           SuperscriptBox[
            RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], "}"}]}],
      ",", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
        RowBox[{"{", 
         RowBox[{"\<\"Up\"\>", ",", "\<\"Up\"\>"}], "}"}]}], "}"}], "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          FractionBox["r", 
           RowBox[{
            RowBox[{"2", " ", "M"}], "-", "r"}]], ",", "0", ",", "0", ",", 
          "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", 
          RowBox[{"1", "-", 
           FractionBox[
            RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", 
          FractionBox["1", 
           SuperscriptBox["r", "2"]], ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", 
          FractionBox[
           SuperscriptBox[
            RowBox[{"Csc", "[", "\[Theta]", "]"}], "2"], 
           SuperscriptBox["r", "2"]]}], "}"}]}], "}"}]}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->
  "Out[24]=",ExpressionUUID->"975e66b6-88c1-44ee-9816-8b959c6329e4"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Turning off caching", \
"Section",ExpressionUUID->"acf2d4cc-1a8f-4fa1-bf2c-1a70cebaaed7"],

Cell[CellGroupData[{

Cell["\<\
Note that simply re-setting $CacheTensorValues to False does not remove \
already cached values.\
\>", "Item",ExpressionUUID->"28e0b716-e874-4650-80cf-d2517b1fde31"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$CacheTensorValues", "=", "False"}], ";"}]], "Input",
 CellLabel->"In[25]:=",ExpressionUUID->"efb04d39-3024-47d0-9c3b-2e4081bf3a3f"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"CachedTensorValues", "[", "gS", "]"}]], "Input",
 CellLabel->"In[26]:=",ExpressionUUID->"e18c47a9-5e84-4c1c-b070-b3a36d31209f"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{"{", 
     RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
      RowBox[{"{", 
       RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], 
    "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "1"}], "+", 
         FractionBox[
          RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], 
       "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", 
        FractionBox["1", 
         RowBox[{"1", "-", 
          FractionBox[
           RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", 
        SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", "0", ",", 
        RowBox[{
         SuperscriptBox["r", "2"], " ", 
         SuperscriptBox[
          RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], "}"}]}], 
   ",", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
      RowBox[{"{", 
       RowBox[{"\<\"Up\"\>", ",", "\<\"Up\"\>"}], "}"}]}], "}"}], "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        FractionBox["r", 
         RowBox[{
          RowBox[{"2", " ", "M"}], "-", "r"}]], ",", "0", ",", "0", ",", 
        "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", 
        RowBox[{"1", "-", 
         FractionBox[
          RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", 
        FractionBox["1", 
         SuperscriptBox["r", "2"]], ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", "0", ",", 
        FractionBox[
         SuperscriptBox[
          RowBox[{"Csc", "[", "\[Theta]", "]"}], "2"], 
         SuperscriptBox["r", "2"]]}], "}"}]}], "}"}]}]}], "}"}]], "Output",
 CellLabel->
  "Out[26]=",ExpressionUUID->"ef74802e-9265-4acc-8eb9-1efb0f102b49"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Call ClearCachedTensorValues instead.", \
"Item",ExpressionUUID->"5ffd6e80-df3f-40b1-8897-25bffcf85a9b"],

Cell[BoxData[
 RowBox[{"ClearCachedTensorValues", "[", "All", "]"}]], "Input",
 CellLabel->"In[27]:=",ExpressionUUID->"9c4ac8e5-8caf-42b4-806b-2951c6683dd2"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"CachedTensorValues", "[", "All", "]"}]], "Input",
 CellLabel->"In[28]:=",ExpressionUUID->"bd456ac6-c8dc-4f8a-8476-a3d3469116f5"],

Cell[BoxData[
 RowBox[{"{", "}"}]], "Output",
 CellLabel->
  "Out[28]=",ExpressionUUID->"78b3f278-0b1b-4a3e-aa3c-c7a7e6e13bfd"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["", "RelatedTutorialsSection",
 WholeCellGroupOpener->True,
 CellFrameLabels->{{
    FEPrivate`If[
     FEPrivate`Or[
      FEPrivate`SameQ[FEPrivate`$ProductVersion, "6.0"], 
      FEPrivate`SameQ[FEPrivate`$ProductVersion, "7.0"], 
      FEPrivate`SameQ[FEPrivate`$ProductVersion, "8.0"]], 
     Cell[
      TextData[
       ButtonBox[
       "RELATED TUTORIALS", BaseStyle -> None, 
        Appearance -> {Automatic, None}, Evaluator -> None, Method -> 
        "Preemptive", ButtonFunction :> (FrontEndExecute[{
           FrontEnd`SelectionMove[
            FrontEnd`SelectedNotebook[], All, ButtonCell], 
           FrontEndToken["OpenCloseGroup"], 
           FrontEnd`SelectionMove[
            FrontEnd`SelectedNotebook[], After, CellContents]}]& )]], 
      "RelatedTutorialsSection"], 
     TextData[
      ButtonBox[
       Cell[
        TextData[{
          Cell[
           BoxData[
            TemplateBox[{24}, "Spacer1"]]], "Related Tutorials"}], 
        "RelatedTutorialsSection"], BaseStyle -> None, 
       Appearance -> {Automatic, None}, Evaluator -> None, Method -> 
       "Preemptive", ButtonFunction :> (FrontEndExecute[{
          FrontEnd`SelectionMove[
           FrontEnd`SelectedNotebook[], All, ButtonCell], 
          FrontEndToken["OpenCloseGroup"], 
          FrontEnd`SelectionMove[
           FrontEnd`SelectedNotebook[], After, CellContents]}]& )]]], None}, {
   None, None}},
 CellFrameLabelMargins->
  0,ExpressionUUID->"ec93ed09-f2d0-4029-856f-d15a20829575"],

Cell[TextData[ButtonBox["Introduction to GeneralRelativityTensors",
 BaseStyle->"Link",
 ButtonData->
  "paclet:GeneralRelativityTensors/tutorial/Introduction to \
GeneralRelativityTensors"]], \
"RelatedTutorials",ExpressionUUID->"c44116f7-0ec5-4b7c-bc76-7c28fc3a3eea"],

Cell[TextData[ButtonBox["Introduction to Tensor Curves",
 BaseStyle->"Link",
 ButtonData->
  "paclet:GeneralRelativityTensors/tutorial/Introduction to Tensor Curves"]], \
"RelatedTutorials",ExpressionUUID->"9aaa82d0-24c7-4f2c-9e9f-8124b38ff82d"],

Cell[TextData[ButtonBox["Manipulating and differentiating Tensors",
 BaseStyle->"Link",
 ButtonData->
  "paclet:GeneralRelativityTensors/tutorial/Manipulating and differentiating \
Tensors"]], \
"RelatedTutorials",ExpressionUUID->"5df6ed70-fd16-47ac-94c3-e213c5dedc09"],

Cell[TextData[ButtonBox["Built in common Tensors",
 BaseStyle->"Link",
 ButtonData->
  "paclet:GeneralRelativityTensors/tutorial/Built in common Tensors"]], \
"RelatedTutorials",ExpressionUUID->"60fda279-3991-4373-afc9-3bcf078f51c6"],

Cell[TextData[ButtonBox["Pattern matching with Tensors",
 BaseStyle->"Link",
 ButtonData->
  "paclet:GeneralRelativityTensors/tutorial/Pattern matching with Tensors"]], \
"RelatedTutorials",ExpressionUUID->"89dc7bb8-2796-4e27-9b38-0ec27282cb55"],

Cell[TextData[ButtonBox["Examples - Wave equations",
 BaseStyle->"Link",
 ButtonData->
  "paclet:GeneralRelativityTensors/tutorial/Examples - Wave equations"]], \
"RelatedTutorials",ExpressionUUID->"dd6a4b97-43f3-4cb6-8171-57f4fe6cbb0c"]
}, Open  ]]
}, Open  ]],

Cell[" ", \
"FooterCell",ExpressionUUID->"3fbfff09-7732-495c-a714-2f58a570040c"]
},
Saveable->False,
ScreenStyleEnvironment->"Working",
WindowSize->{725, 750},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
WindowTitle->"Caching Tensor values",
Visible->True,
PrivateNotebookOptions->{"FileOutlineCache"->False},
TaggingRules->{
 "ModificationHighlight" -> False, 
  "Metadata" -> {
   "context" -> "GeneralRelativityTensors`", 
    "keywords" -> {"Tensors", "Cache", "GeneralRelativityTensors"}, "index" -> 
    True, "label" -> "Tensor caching", "language" -> "en", "paclet" -> 
    "Caching Tensor values", "status" -> "None", "summary" -> 
    "Optimizing Tensor calculations through caching.", "synonyms" -> {}, 
    "title" -> "Caching Tensor values", "windowTitle" -> 
    "Caching Tensor values", "type" -> "Tutorial", "uri" -> 
    "GeneralRelativityTensors/tutorial/Caching Tensor values", 
    "WorkflowDockedCell" -> ""}, "SearchTextTranslated" -> "", "LinkTrails" -> 
  ""},
TrackCellChangeTimes->False,
FrontEndVersion->"11.3 for Mac OS X x86 (32-bit, 64-bit Kernel) (March 5, \
2018)",
StyleDefinitions->FrontEnd`FileName[{"Wolfram"}, "Reference.nb", 
  CharacterEncoding -> "UTF-8"]
]

