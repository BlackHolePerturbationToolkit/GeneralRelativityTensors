Notebook[{
Cell[" ", "TutorialColorBar",
 CellMargins->{{Inherited, Inherited}, {-5, 
   0}},ExpressionUUID->"fb81fd69-5759-4de0-94c7-7dfc9cf5b31d"],

Cell[TextData[{
 ButtonBox["GeneralRelativityTensors",
  BaseStyle->{"Link", "LinkTrail"},
  ButtonData->
   "paclet:GeneralRelativityTensors/guide/GeneralRelativityTensors"],
 StyleBox[" > ", "LinkTrailSeparator"],
 ButtonBox["Caching Tensor values",
  BaseStyle->{"Link", "LinkTrail"},
  ButtonData->"paclet:GeneralRelativityTensors/tutorial/Caching Tensor values"]
}], "LinkTrail",ExpressionUUID->"53e98d45-d26b-4e0b-9d25-400a18d29c64"],

Cell[BoxData[GridBox[{
   {Cell["CACHING TENSOR VALUES TUTORIAL", "PacletNameCell",ExpressionUUID->
     "27c17cdc-f0ec-42ad-984b-bce95fae4a5a"], Cell[TextData[{
     Cell[BoxData[
      ActionMenuBox[
       FrameBox["\<\"Related Tutorials \[RightGuillemet]\"\>",
        StripOnInput->False], {
       RowBox[{"Introduction", " ", "to", " ", "GeneralRelativityTensors"}]:>
       Documentation`HelpLookup[
       "paclet:GeneralRelativityTensors/tutorial/Introduction to \
GeneralRelativityTensors"], 
       RowBox[{"Introduction", " ", "to", " ", "Tensor", " ", "Curves"}]:>
       Documentation`HelpLookup[
       "paclet:GeneralRelativityTensors/tutorial/Introduction to Tensor \
Curves"], 
       RowBox[{
       "Manipulating", " ", "and", " ", "differentiating", " ", "Tensors"}]:>
       Documentation`HelpLookup[
       "paclet:GeneralRelativityTensors/tutorial/Manipulating and \
differentiating Tensors"], 
       RowBox[{"Built", " ", "in", " ", "common", " ", "Tensors"}]:>
       Documentation`HelpLookup[
       "paclet:GeneralRelativityTensors/tutorial/Built in common Tensors"], 
       RowBox[{"Pattern", " ", "matching", " ", "with", " ", "Tensors"}]:>
       Documentation`HelpLookup[
       "paclet:GeneralRelativityTensors/tutorial/Pattern matching with \
Tensors"], 
       RowBox[{"Examples", " ", "-", " ", 
        RowBox[{"Wave", " ", "equations"}]}]:>Documentation`HelpLookup[
       "paclet:GeneralRelativityTensors/tutorial/Examples - Wave equations"]},
       
       Appearance->None,
       MenuAppearance->Automatic]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "49763dfe-a428-4592-b693-7a649ac8b0ff"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      ActionMenuBox[
       FrameBox["\<\"URL \[RightGuillemet]\"\>",
        StripOnInput->
         False], {"\<\"Go to GeneralRelativityTensors website\"\>":>
       FrontEndExecute[{
         NotebookLocate[{
           URL[None], None}]}], 
       Delimiter, "\<\"Go to wolfram Mathematica website\"\>":>
       FrontEndExecute[{
         NotebookLocate[{
           URL[
           "http://reference.wolfram.com/mathematica/guide/Mathematica.html"],
            None}]}]},
       Appearance->None,
       MenuAppearance->Automatic]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "752e0608-0220-4bf6-9e28-480aa3267f5f"]
    }], "AnchorBar",ExpressionUUID->"e77e53cc-45ab-4fba-a67e-3b6b16b92020"]}
  }]], "AnchorBarGrid",ExpressionUUID->"9bc85bd5-a54c-4650-ab91-07eada3e8c16"],

Cell[CellGroupData[{

Cell["GeneralRelativityTensors - Caching  Tensor values", \
"Title",ExpressionUUID->"a71eb890-b553-4387-b8c1-5b004aa896dc"],

Cell["\<\
By default Tensor values are not cached. In the right contexts, turning on \
caching can greatly speed up calculations.\
\>", "Text",ExpressionUUID->"b75573ad-ec4f-49ec-8ab9-cbf7633cc0c9"],

Cell[BoxData[
 RowBox[{"<<", "GeneralRelativityTensors`"}]], "Input",
 CellLabel->"In[1]:=",ExpressionUUID->"d9b87a40-abd8-44a4-94ee-8485b936d4b5"],

Cell[CellGroupData[{

Cell["Default storage of Tensor values", \
"Section",ExpressionUUID->"a865b599-8821-45e7-b58c-dc2947390cca"],

Cell["\<\
Fundamentally, a Tensor is just a Sequence of Rules wrapped in the Head \
Tensor.\
\>", "Item",ExpressionUUID->"2865ad5e-cbdb-4091-85f3-8e050260c5d5"],

Cell["\<\
The values of the Tensor are associated with the Key \
\[OpenCurlyDoubleQuote]Values\[CloseCurlyDoubleQuote]\
\>", "Item",ExpressionUUID->"9efeb03d-fca0-4162-8c03-71a5da1a3426"],

Cell[CellGroupData[{

Cell["For example:", \
"Item",ExpressionUUID->"7d4ddd5a-8d33-4cf6-aa11-b3b0d4f35263"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"List", "@@", 
  RowBox[{"ToMetric", "[", "\"\<S2\>\"", "]"}]}]], "Input",
 CellLabel->"In[2]:=",ExpressionUUID->"6167df24-cdf7-457d-91a2-cd8b5dd46ac2"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"\<\"AbstractQ\"\>", "\[Rule]", "False"}], ",", 
   RowBox[{"\<\"Coordinates\"\>", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\[Theta]", ",", "\[Phi]"}], "}"}]}], ",", 
   RowBox[{"\<\"Curve\"\>", "\[Rule]", "Undefined"}], ",", 
   RowBox[{"\<\"CurveParameter\"\>", "\[Rule]", "Undefined"}], ",", 
   RowBox[{"\<\"CurveQ\"\>", "\[Rule]", "False"}], ",", 
   RowBox[{"\<\"Dimensions\"\>", "\[Rule]", "2"}], ",", 
   RowBox[{"\<\"DisplayName\"\>", "\[Rule]", "\<\"\[CapitalOmega]\"\>"}], ",", 
   RowBox[{"\<\"Indices\"\>", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"-", "A"}], ",", 
      RowBox[{"-", "B"}]}], "}"}]}], ",", 
   RowBox[{"\<\"Metric\"\>", "\[Rule]", "\<\"Self\"\>"}], ",", 
   RowBox[{"\<\"MetricQ\"\>", "\[Rule]", "True"}], ",", 
   RowBox[{"\<\"Name\"\>", "\[Rule]", "\<\"TwoSphereMetric\"\>"}], ",", 
   RowBox[{"\<\"PossibleIndices\"\>", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
     "A", ",", "B", ",", "F", ",", "G", ",", "H", ",", "J", ",", "L", ",", 
      "M", ",", "P", ",", "Q", ",", "R", ",", "S", ",", "T", ",", "U", ",", 
      "V", ",", "W", ",", "X", ",", "Y", ",", "Z"}], "}"}]}], ",", 
   RowBox[{"\<\"Tetrad\"\>", "\[Rule]", "Undefined"}], ",", 
   RowBox[{"\<\"Values\"\>", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"1", ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", 
        SuperscriptBox[
         RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], "}"}]}], "}"}]}]}], 
  "}"}]], "Output",
 CellLabel->"Out[2]=",ExpressionUUID->"bad37528-6765-457c-97f1-d0901c7066dc"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
The best way to retrieve those values is with the functions RawTensorValues \
and TensorValues\
\>", "Item",ExpressionUUID->"944c259c-c71e-4657-b04b-e989ebce63cf"],

Cell[BoxData[GridBox[{
   {
    RowBox[{
     ButtonBox["RawTensorValues",
      BaseStyle->"Link",
      ButtonData->"paclet:GeneralRelativityTensors/ref/RawTensorValues"], "[", 
     StyleBox["t", "TI"], "]"}], Cell[TextData[{
     "The actual internal values of a Tensor ",
     StyleBox["t",
      FontFamily->"Times",
      FontWeight->"Regular",
      FontSlant->"Italic"]
    }], "TableText",ExpressionUUID->"90ad9df8-aabb-4332-80de-c1c6af85b5cb"]},
   {
    RowBox[{
     ButtonBox["TensorValues",
      BaseStyle->"Link",
      ButtonData->"paclet:GeneralRelativityTensors/ref/TensorValues"], "[", 
     StyleBox["t", "TI"], "]"}], Cell[TextData[{
     "The same as RawTensorValues, but if ",
     StyleBox["t",
      FontFamily->"Times",
      FontWeight->"Regular",
      FontSlant->"Italic"],
     " has an associated curve, evaluate the values on that curve"
    }], "TableText",ExpressionUUID->"49cb8b02-1703-4ee0-a1dd-9c7d30009948"]}
  }]], "DefinitionBox",
 CellID->340746825,ExpressionUUID->"d3bc3604-ab70-4adf-b8a7-813f0f89d1bf"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Here is a Tensor field, the Schwarzschild metric.", \
"Item",ExpressionUUID->"dedb782d-51a9-4f07-87cd-1f4340b90608"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"gS", "=", 
  RowBox[{"ToMetric", "[", "\"\<Schw\>\"", "]"}]}]], "Input",
 CellLabel->"In[3]:=",ExpressionUUID->"c0cdc626-2466-4516-8f9d-765768655217"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["g", "\[Alpha]\[Beta]", ""],
  DisplayForm]], "Output",
 CellLabel->"Out[3]=",ExpressionUUID->"8e5af7bf-d8f4-4daa-bcb7-282fef721879"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
RawTensorValues and TensorValues give different the same result.\
\>", "Item",ExpressionUUID->"b8003c9e-6080-40c3-bf50-30334a60c5ab"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"RawTensorValues", "[", "gS", "]"}]], "Input",
 CellLabel->"In[4]:=",ExpressionUUID->"7f625661-35da-4263-8c02-657640316b0a"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "1"}], "+", 
      FractionBox[
       RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], "}"}],
    ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", 
     FractionBox["1", 
      RowBox[{"1", "-", 
       FractionBox[
        RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", 
     SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", 
     RowBox[{
      SuperscriptBox["r", "2"], " ", 
      SuperscriptBox[
       RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->"Out[4]=",ExpressionUUID->"cb3f97f4-31d0-409d-9d19-8e2ce1b89be6"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"TensorValues", "[", "gS", "]"}]], "Input",
 CellLabel->"In[5]:=",ExpressionUUID->"963b5ca8-74ab-420a-b2e3-75b9c2ff197e"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "1"}], "+", 
      FractionBox[
       RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], "}"}],
    ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", 
     FractionBox["1", 
      RowBox[{"1", "-", 
       FractionBox[
        RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", 
     SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", 
     RowBox[{
      SuperscriptBox["r", "2"], " ", 
      SuperscriptBox[
       RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->"Out[5]=",ExpressionUUID->"d3152561-6eb4-43fe-ba7e-84f107a45921"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Here is a curve in Schwarzschild spacetime.", \
"Item",ExpressionUUID->"c32394f2-ff50-457d-8f10-88d3d5cc1bab"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"x1", "=", 
  RowBox[{"ToCurve", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"\"\<xCurve\>\"", ",", "\"\<x\>\""}], "}"}], ",", "gS", ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"t", "[", "\[Tau]", "]"}], ",", 
      RowBox[{"r", "[", "\[Tau]", "]"}], ",", 
      RowBox[{"\[Theta]", "[", "\[Tau]", "]"}], ",", 
      RowBox[{"\[Phi]", "[", "\[Tau]", "]"}]}], "}"}], ",", "\[Tau]"}], 
   "]"}]}]], "Input",
 CellLabel->"In[6]:=",ExpressionUUID->"470dc0a8-6234-43a1-95c0-898d463ce6a1"],

Cell[BoxData[
 TagBox[
  RowBox[{
   SubsuperscriptBox["x", "", "\[Alpha]"], "[", "\<\"\[Tau]\"\>", "]"}],
  DisplayForm]], "Output",
 CellLabel->"Out[6]=",ExpressionUUID->"cecd74a5-a205-4ac4-8206-61f0740e694a"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["We now associate that curve with a Tensor field", \
"Item",ExpressionUUID->"510b61e8-1659-488e-9ae9-63bff8fd0ff3"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"gSF", "=", 
  RowBox[{"ToTensorFieldOnCurve", "[", 
   RowBox[{"gS", ",", "x1"}], "]"}]}]], "Input",
 CellLabel->"In[7]:=",ExpressionUUID->"bca77722-4bf5-4958-8723-cbed2897952e"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["g", "\[Alpha]\[Beta]", ""],
  DisplayForm]], "Output",
 CellLabel->"Out[7]=",ExpressionUUID->"74aa2ce3-42dd-4247-97c4-b63dd110518b"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Now, RawTensorValues and TensorValues give different results", \
"Item",ExpressionUUID->"346414fb-ae3a-4ad2-bd20-1785c52b6dfe"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"RawTensorValues", "[", "gSF", "]"}]], "Input",
 CellLabel->"In[8]:=",ExpressionUUID->"dac79240-46d5-481e-8a84-d5f1c7b25174"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "1"}], "+", 
      FractionBox[
       RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], "}"}],
    ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", 
     FractionBox["1", 
      RowBox[{"1", "-", 
       FractionBox[
        RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", 
     SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", 
     RowBox[{
      SuperscriptBox["r", "2"], " ", 
      SuperscriptBox[
       RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->"Out[8]=",ExpressionUUID->"25622d79-5645-42c9-a8da-33889ba56fb7"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"TensorValues", "[", "gSF", "]"}]], "Input",
 CellLabel->"In[9]:=",ExpressionUUID->"16e288bf-091b-456e-ae58-ebef348ec674"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "1"}], "+", 
      FractionBox[
       RowBox[{"2", " ", "M"}], 
       RowBox[{"r", "[", "\[Tau]", "]"}]]}], ",", "0", ",", "0", ",", "0"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", 
     FractionBox["1", 
      RowBox[{"1", "-", 
       FractionBox[
        RowBox[{"2", " ", "M"}], 
        RowBox[{"r", "[", "\[Tau]", "]"}]]}]], ",", "0", ",", "0"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", 
     SuperscriptBox[
      RowBox[{"r", "[", "\[Tau]", "]"}], "2"], ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", 
     RowBox[{
      SuperscriptBox[
       RowBox[{"r", "[", "\[Tau]", "]"}], "2"], " ", 
      SuperscriptBox[
       RowBox[{"Sin", "[", 
        RowBox[{"\[Theta]", "[", "\[Tau]", "]"}], "]"}], "2"]}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->"Out[9]=",ExpressionUUID->"d2d1a1d0-db4c-4e46-b575-48347f036fde"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Caching Tensor values", \
"Section",ExpressionUUID->"1a2a3aff-cbbb-4c06-ae8f-e3c01366a95b"],

Cell[CellGroupData[{

Cell["Functions", \
"Subsection",ExpressionUUID->"ec56de38-314a-43eb-be3a-ee019bf81b1c"],

Cell["\<\
Large and repeated calculations can benefit from caching Tensor values.\
\>", "Item",ExpressionUUID->"8e351c17-d08f-4b44-a44d-b824f0b004dc"],

Cell[CellGroupData[{

Cell["\<\
By default this is off, but it can be turned on by setting the global \
variable $CacheTensorValues to True\
\>", "Item",ExpressionUUID->"f99c07e2-7c60-48d5-b803-b203d261800f"],

Cell[BoxData[GridBox[{
   {
    ButtonBox["$CacheTensorValues",
     BaseStyle->"Link",
     ButtonData->"paclet:GeneralRelativityTensors/ref/$CacheTensorValues"], 
    Cell["Boolean determining whether Tensor values are cached", "TableText",
     ExpressionUUID->"c476e399-3522-41d1-b966-c0aba81a23e5"]}
  }]], "DefinitionBox",
 CellID->2079569539,ExpressionUUID->"f581e974-f7cd-4195-977e-0bb9f2c31035"]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Cached values can be examined and removed with the following functions:\
\>", "Item",ExpressionUUID->"f440ce9b-e657-4641-8b73-0b843f121f66"],

Cell[BoxData[GridBox[{
   {
    RowBox[{
     ButtonBox["CachedTensorValues",
      BaseStyle->"Link",
      ButtonData->"paclet:GeneralRelativityTensors/ref/CachedTensorValues"], 
     "[", 
     StyleBox["t", "TI"], "]"}], Cell[TextData[{
     "The values of a Tensor ",
     StyleBox["t",
      FontFamily->"Times",
      FontWeight->"Regular",
      FontSlant->"Italic"],
     " that are cached"
    }], "TableText",ExpressionUUID->"d67e40d4-4fa1-4cfc-bd1f-3a5fb268af96"]},
   {
    RowBox[{
     ButtonBox["ClearCachedTensorValues",
      BaseStyle->"Link",
      ButtonData->
       "paclet:GeneralRelativityTensors/ref/ClearCachedTensorValues"], "[", 
     StyleBox["t", "TI"], "]"}], Cell[TextData[{
     "Remove all cached values associated with ",
     StyleBox["t",
      FontFamily->"Times",
      FontWeight->"Regular",
      FontSlant->"Italic"]
    }], "TableText",ExpressionUUID->"f19de58d-0626-48a8-b4bd-c8a0d82dd162"]}
  }]], "DefinitionBox",
 CellID->1788114926,ExpressionUUID->"1c213dc1-d2da-464b-9c67-ad1e156157a3"]
}, Open  ]],

Cell[CellGroupData[{

Cell["These functions can also be called for all Tensors:", \
"Item",ExpressionUUID->"cd3824b6-5b46-46d0-9367-e51ed80d65b9"],

Cell[BoxData[GridBox[{
   {
    RowBox[{
     ButtonBox["CachedTensorValues",
      BaseStyle->"Link",
      ButtonData->"paclet:GeneralRelativityTensors/ref/CachedTensorValues"], 
     "[", "All", "]"}], Cell[
    "All Tensor values that are cached", "TableText",ExpressionUUID->
     "7138c12a-b0a7-4ab1-abf8-55cee6d9e87e"]},
   {
    RowBox[{
     ButtonBox["ClearCachedTensorValues",
      BaseStyle->"Link",
      ButtonData->
       "paclet:GeneralRelativityTensors/ref/ClearCachedTensorValues"], "[", 
     "All", "]"}], Cell[
    "Remove all cached Tensor values", "TableText",ExpressionUUID->
     "f7b67cbb-ae87-4fc1-b096-7f1781139204"]}
  }]], "DefinitionBox",
 CellID->71144484,ExpressionUUID->"51c1ca03-2d61-4ebf-a46f-186d54e688df"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Examples", \
"Subsection",ExpressionUUID->"434fbd14-f597-4aac-9850-c4c1b3b396fb"],

Cell[CellGroupData[{

Cell["Storage of one value", \
"Subsubsection",ExpressionUUID->"72a2f249-bf9e-4ead-8bc5-ed2375bf514e"],

Cell[CellGroupData[{

Cell["Set $CacheTensorValues:", \
"Item",ExpressionUUID->"93a72bfe-409c-4ea6-9793-8e4807ed7ee3"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$CacheTensorValues", "=", "True"}], ";"}]], "Input",
 CellLabel->
  "In[10]:=",ExpressionUUID->"9ad079c1-62fb-4f42-bbcc-44d817bf067a"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Originally nothing is cached.", \
"Item",ExpressionUUID->"5ea53b7d-85c3-4c58-bb41-5c34f38b5ad0"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"CachedTensorValues", "[", "All", "]"}]], "Input",
 CellLabel->"In[11]:=",ExpressionUUID->"346fde92-99cb-4245-aa5b-a98cdeecda8e"],

Cell[BoxData[
 RowBox[{"{", "}"}]], "Output",
 CellLabel->
  "Out[11]=",ExpressionUUID->"e1d0a909-c7d5-4149-99c0-0a7b1cabca02"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Call TensorValues on a Tensor and then its values are stored.\
\>", "Item",ExpressionUUID->"8415917e-ec1d-4e95-af20-c5805f52cae3"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"TensorValues", "[", "gS", "]"}]], "Input",
 CellLabel->"In[12]:=",ExpressionUUID->"55805cd4-841c-4d01-9a59-30be802558fd"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "1"}], "+", 
      FractionBox[
       RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], "}"}],
    ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", 
     FractionBox["1", 
      RowBox[{"1", "-", 
       FractionBox[
        RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", 
     SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", 
     RowBox[{
      SuperscriptBox["r", "2"], " ", 
      SuperscriptBox[
       RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->
  "Out[12]=",ExpressionUUID->"6fb9fda4-8a13-4b69-810c-849d3e8e7550"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"CachedTensorValues", "[", "All", "]"}]], "Input",
 CellLabel->"In[13]:=",ExpressionUUID->"bfb80d53-0b74-4bbe-9c19-fcc8ecbe5ce7"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
      RowBox[{"{", 
       RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], 
    "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "1"}], "+", 
         FractionBox[
          RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], 
       "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", 
        FractionBox["1", 
         RowBox[{"1", "-", 
          FractionBox[
           RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", 
        SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", "0", ",", 
        RowBox[{
         SuperscriptBox["r", "2"], " ", 
         SuperscriptBox[
          RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], "}"}]}], 
   "}"}], "}"}]], "Output",
 CellLabel->
  "Out[13]=",ExpressionUUID->"47fe35d5-50fd-4f9a-8877-df29c372343a"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Cached values are stored as DownValues of the Symbol RawTensorValues.\
\>", "Item",ExpressionUUID->"9e6f5110-aa7e-4439-9d17-2d79ffee8853"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"DownValues", "[", "RawTensorValues", "]"}]], "Input",
 CellLabel->"In[14]:=",ExpressionUUID->"fa8b6807-1176-45e7-b5e2-4d37e65448fd"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{"HoldPattern", "[", 
     RowBox[{"RawTensorValues", "[", 
      RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "]"}], "]"}], 
    "\[RuleDelayed]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "1"}], "+", 
         FractionBox[
          RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], 
       "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", 
        FractionBox["1", 
         RowBox[{"1", "-", 
          FractionBox[
           RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", 
        SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", "0", ",", 
        RowBox[{
         SuperscriptBox["r", "2"], " ", 
         SuperscriptBox[
          RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], "}"}]}], 
   ",", 
   RowBox[{
    RowBox[{"HoldPattern", "[", 
     RowBox[{
     "RawTensorValues", "[", 
      "GeneralRelativityTensors`TensorDefinitions`Private`t_Tensor", "]"}], 
     "]"}], "\[RuleDelayed]", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"#1", "=!=", "Undefined"}], ",", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{
            "GeneralRelativityTensors`TensorDefinitions`Private`AutoNameQ", 
             "[", "GeneralRelativityTensors`TensorDefinitions`Private`t", 
             "]"}], "||", 
            RowBox[{"!", "$CacheTensorValues"}]}], ",", "#1", ",", 
           RowBox[{
            RowBox[{"RawTensorValues", "[", 
             RowBox[{
              RowBox[{
              "TensorName", "[", 
               "GeneralRelativityTensors`TensorDefinitions`Private`t", "]"}], 
              ",", 
              RowBox[{
              "IndexPositions", "[", 
               "GeneralRelativityTensors`TensorDefinitions`Private`t", 
               "]"}]}], "]"}], "=", "#1"}]}], "]"}], ",", "Undefined"}], 
        "]"}], "&"}], ")"}], "[", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{
       "Association", "@@", 
        "GeneralRelativityTensors`TensorDefinitions`Private`t"}], ")"}], 
      "[", "\<\"Values\"\>", "]"}], "]"}]}], ",", 
   RowBox[{
    RowBox[{"HoldPattern", "[", 
     RowBox[{"RawTensorValues", "[", "___", "]"}], "]"}], "\[RuleDelayed]", 
    "Undefined"}]}], "}"}]], "Output",
 CellLabel->
  "Out[14]=",ExpressionUUID->"5f0e832b-07ab-4d37-9dd7-cf682cc11346"]
}, Open  ]]
}, Open  ]],

Cell["\<\
Note that cached values are stored relative to their TensorName. Thus, it is \
important to choose unique names for Tensors when using caching.\
\>", "Item",ExpressionUUID->"3dbd813c-3efb-40df-bd7d-5d25511111e2"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Nested caching", \
"Subsubsection",ExpressionUUID->"293fbf9b-7c93-44fb-9f14-c6d9e32b05fe"],

Cell["\<\
Often when computing the values of a Tensor, other Tensors must be computed \
behind the scene.\
\>", "Item",ExpressionUUID->"4c7b2e5e-3114-4e9d-9765-95b5bfd39563"],

Cell["\<\
For instance,  finding a Christoffel symbol requires knowing the inverse \
metric.\
\>", "Item",ExpressionUUID->"ded5b045-b939-47df-b265-3f6e164853a9"],

Cell[CellGroupData[{

Cell["\<\
Therefore, when we make the following call, in addition to the final value, \
the inverse metric is also cached.\
\>", "Item",ExpressionUUID->"0d5358ce-958a-4865-a822-f37dfb4c83de"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"chrS", "=", 
  RowBox[{"ChristoffelSymbol", "[", "gS", "]"}]}]], "Input",
 CellLabel->"In[15]:=",ExpressionUUID->"9ca01dbf-4e5c-4b3c-8cef-d5967a0ad9b3"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["\[CapitalGamma]", 
   RowBox[{"  ", "\[Beta]\[Gamma]"}], 
   RowBox[{"\[Alpha]", "    "}]],
  DisplayForm]], "Output",
 CellLabel->
  "Out[15]=",ExpressionUUID->"57415f7e-2a53-439b-aa93-a0ee38b7c7b8"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"CachedTensorValues", "[", "All", "]"}]], "Input",
 CellLabel->"In[16]:=",ExpressionUUID->"f706bb27-81a8-4a1b-ab34-b6b32156b0eb"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"ChristoffelSymbolSchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Up\"\>", ",", "\<\"Down\"\>", ",", "\<\"Down\"\>"}], 
        "}"}]}], "}"}], "\[Rule]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", 
           RowBox[{"-", 
            FractionBox["M", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", "r"}]]}], 
           ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"-", 
            FractionBox["M", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", "r"}]]}], 
           ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           FractionBox[
            RowBox[{"M", " ", 
             RowBox[{"(", 
              RowBox[{"1", "-", 
               FractionBox[
                RowBox[{"2", " ", "M"}], "r"]}], ")"}]}], 
            SuperscriptBox["r", "2"]], ",", "0", ",", "0", ",", "0"}], "}"}], 
         ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", 
           RowBox[{"-", 
            FractionBox["M", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"1", "-", 
                FractionBox[
                 RowBox[{"2", " ", "M"}], "r"]}], ")"}], " ", 
              SuperscriptBox["r", "2"]}]]}], ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"(", 
              RowBox[{"1", "-", 
               FractionBox[
                RowBox[{"2", " ", "M"}], "r"]}], ")"}]}], " ", "r"}], ",", 
           "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"(", 
              RowBox[{"1", "-", 
               FractionBox[
                RowBox[{"2", " ", "M"}], "r"]}], ")"}]}], " ", "r", " ", 
            SuperscriptBox[
             RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], "}"}], 
       ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", 
           FractionBox["1", "r"], ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", 
           FractionBox["1", "r"], ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"Cos", "[", "\[Theta]", "]"}]}], " ", 
            RowBox[{"Sin", "[", "\[Theta]", "]"}]}]}], "}"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", 
           FractionBox["1", "r"]}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", 
           RowBox[{"Cot", "[", "\[Theta]", "]"}]}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", 
           FractionBox["1", "r"], ",", 
           RowBox[{"Cot", "[", "\[Theta]", "]"}], ",", "0"}], "}"}]}], 
        "}"}]}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
        RowBox[{"{", 
         RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], 
      "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "1"}], "+", 
           FractionBox[
            RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], 
         "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", 
          FractionBox["1", 
           RowBox[{"1", "-", 
            FractionBox[
             RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], 
        ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", 
          SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", 
          RowBox[{
           SuperscriptBox["r", "2"], " ", 
           SuperscriptBox[
            RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], "}"}]}],
      ",", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
        RowBox[{"{", 
         RowBox[{"\<\"Up\"\>", ",", "\<\"Up\"\>"}], "}"}]}], "}"}], "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          FractionBox["r", 
           RowBox[{
            RowBox[{"2", " ", "M"}], "-", "r"}]], ",", "0", ",", "0", ",", 
          "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", 
          RowBox[{"1", "-", 
           FractionBox[
            RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", 
          FractionBox["1", 
           SuperscriptBox["r", "2"]], ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", 
          FractionBox[
           SuperscriptBox[
            RowBox[{"Csc", "[", "\[Theta]", "]"}], "2"], 
           SuperscriptBox["r", "2"]]}], "}"}]}], "}"}]}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->
  "Out[16]=",ExpressionUUID->"084f0067-621a-48aa-9f6c-96e815a94661"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Notes on simplification", \
"Section",ExpressionUUID->"07b20eee-e5b2-4b40-9267-bd9fe8a25e1a"],

Cell["\<\
Because Tensor functions call each other, many Tensor values can quickly wind \
up cached.\
\>", "Item",ExpressionUUID->"08ba8496-95bf-4b9b-a627-1b5158064e9c"],

Cell[CellGroupData[{

Cell["\<\
For instance, here we compute the Einstein tensor for Schwarzschild, and \
Christoffel symbols, the Riemann tensor, the Ricci tensor, and the Ricci \
scalar are all cached.\
\>", "Item",ExpressionUUID->"51fbfa2e-7ae4-473d-996c-482a84d6d4ca"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"einS", "=", 
  RowBox[{"EinsteinTensor", "[", "gS", "]"}]}]], "Input",
 CellLabel->"In[17]:=",ExpressionUUID->"3f93f3ce-328c-4cac-9405-2a4541a9db81"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["G", "\[Alpha]\[Beta]", ""],
  DisplayForm]], "Output",
 CellLabel->
  "Out[17]=",ExpressionUUID->"59b428cb-82af-40b8-a597-50568cfa84c2"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Here are the Keys without the Values:", \
"Item",ExpressionUUID->"b76ac0ef-57f0-4a3c-b48f-3d31ecf14804"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"CachedTensorValues", "[", "All", "]"}], "[", 
  RowBox[{"[", 
   RowBox[{"All", ",", "All", ",", "1"}], "]"}], "]"}]], "Input",
 CellLabel->"In[18]:=",ExpressionUUID->"21e09c03-b073-47c6-b68e-cc189fd437a2"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"{", 
     RowBox[{"\<\"ChristoffelSymbolSchwarzschildMetric\"\>", ",", 
      RowBox[{"{", 
       RowBox[{"\<\"Up\"\>", ",", "\<\"Down\"\>", ",", "\<\"Down\"\>"}], 
       "}"}]}], "}"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"{", 
     RowBox[{"\<\"EinsteinTensorSchwarzschildMetric\"\>", ",", 
      RowBox[{"{", 
       RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"{", 
     RowBox[{"\<\"RicciScalarSchwarzschildMetric\"\>", ",", 
      RowBox[{"{", "}"}]}], "}"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"RicciTensorSchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"RicciTensorSchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Down\"\>", ",", "\<\"Up\"\>"}], "}"}]}], "}"}]}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"RiemannTensorSchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>", ",", "\<\"Down\"\>", 
         ",", "\<\"Down\"\>"}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"RiemannTensorSchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Up\"\>", ",", "\<\"Down\"\>", ",", "\<\"Down\"\>", 
         ",", "\<\"Down\"\>"}], "}"}]}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Up\"\>", ",", "\<\"Up\"\>"}], "}"}]}], "}"}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->
  "Out[18]=",ExpressionUUID->"874468a3-f24e-40d0-a372-93f9384998de"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Advanced students of general relativity may have heard that Schwarzschild is \
a vacuum spacetime, but this is not immediately clear:\
\>", "Item",ExpressionUUID->"019223ac-bbf8-4733-a461-6268bef28bfd"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"TensorValues", "[", "einS", "]"}], "//", "Short"}]], "Input",
 CellLabel->"In[19]:=",ExpressionUUID->"64cdb327-d004-4018-90d2-46774d6d6bdf"],

Cell[BoxData[
 TagBox[
  RowBox[{"{", 
   RowBox[{"\[LeftSkeleton]", "1", "\[RightSkeleton]"}], "}"}],
  Short]], "Output",
 CellLabel->
  "Out[19]//Short=",ExpressionUUID->"6b873e89-caf7-4f97-861c-074433eebae1"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Of course, Simplify fixes this problem.", \
"Item",ExpressionUUID->"2995a76f-e416-494c-9761-5e1f2ff9615a"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Simplify", "[", 
  RowBox[{"TensorValues", "[", "einS", "]"}], "]"}]], "Input",
 CellLabel->"In[20]:=",ExpressionUUID->"478c35d0-1d6b-493b-930a-59b38ccb90b4"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]], "Output",
 CellLabel->
  "Out[20]=",ExpressionUUID->"566d1f47-4deb-4f72-aaea-a59cc0a24f56"]
}, Open  ]]
}, Open  ]],

Cell[TextData[{
 "When caching it is important to performing this simplification ",
 StyleBox["before",
  FontSlant->"Italic"],
 " the caching is performed."
}], "Item",ExpressionUUID->"3cbf887c-2f68-4a4c-9b9d-26a14ee7d35b"],

Cell[CellGroupData[{

Cell["This is done with the following common options.", \
"Item",ExpressionUUID->"6f64b9bc-b29c-441b-9c39-684b3c83dad2"],

Cell[BoxData[GridBox[{
   {"ActWith", Cell["\<\
applies the Option value (a function) to each of the elements of the Tensor \
that is formed\
\>", "TableText",ExpressionUUID->"e5dc54d3-1188-4c28-b6a3-137ec3ee1b9c"]},
   {"ActWithNested", Cell["\<\
same as ActWith, but the function is also passed to functions that are called \
internally\
\>", "TableText",ExpressionUUID->"f6667241-5e10-47e4-8ab1-bcabf35635d2"]}
  }]], "DefinitionBox",
 CellID->1128635629,ExpressionUUID->"00b317d4-11ad-437a-919c-5f4e8e60dddc"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Clear the cached values.", \
"Item",ExpressionUUID->"6b7f5f62-73b4-4bee-b48a-756a478bdbac"],

Cell[BoxData[
 RowBox[{"ClearCachedTensorValues", "[", "All", "]"}]], "Input",
 CellLabel->
  "In[21]:=",ExpressionUUID->"5be0c6a2-71b8-447e-b146-c4fba0a65a1b"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Re-compute the Einstein tensor, but with simplification.", \
"Item",ExpressionUUID->"039fc332-1721-49de-965c-e408af3ae762"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"einS", "=", 
  RowBox[{"EinsteinTensor", "[", 
   RowBox[{"gS", ",", 
    RowBox[{"ActWithNested", "\[Rule]", "Simplify"}]}], "]"}]}]], "Input",
 CellLabel->"In[22]:=",ExpressionUUID->"68c6a54e-6d6e-450f-8e08-78306f52b9a6"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["G", "\[Alpha]\[Beta]", ""],
  DisplayForm]], "Output",
 CellLabel->
  "Out[22]=",ExpressionUUID->"a1daf050-8385-4b7f-bc11-6e7decc5bab6"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Now the Einstein tensor vanishes immediately.", \
"Item",ExpressionUUID->"86e89ce7-1018-41e6-abe0-897d203d9c19"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"TensorValues", "[", "einS", "]"}]], "Input",
 CellLabel->"In[23]:=",ExpressionUUID->"4c0cba48-6ec7-4d8f-9e9d-1c895dabf2ba"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]], "Output",
 CellLabel->
  "Out[23]=",ExpressionUUID->"e0bd3535-850c-491a-bb65-1b9f435a978c"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Also, nested values like the Riemann tensor have been simplified.\
\>", "Item",ExpressionUUID->"1f261875-d324-4222-85b4-501644afafbe"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"CachedTensorValues", "[", "All", "]"}]], "Input",
 CellLabel->"In[24]:=",ExpressionUUID->"e2e204db-ec50-411c-8dca-e3e55f7be795"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"ChristoffelSymbolSchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Up\"\>", ",", "\<\"Down\"\>", ",", "\<\"Down\"\>"}], 
        "}"}]}], "}"}], "\[Rule]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", 
           RowBox[{"-", 
            FractionBox["M", 
             RowBox[{
              RowBox[{"2", " ", "M", " ", "r"}], "-", 
              SuperscriptBox["r", "2"]}]]}], ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"-", 
            FractionBox["M", 
             RowBox[{
              RowBox[{"2", " ", "M", " ", "r"}], "-", 
              SuperscriptBox["r", "2"]}]]}], ",", "0", ",", "0", ",", "0"}], 
          "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           FractionBox[
            RowBox[{"M", " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
            SuperscriptBox["r", "3"]], ",", "0", ",", "0", ",", "0"}], "}"}], 
         ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", 
           FractionBox["M", 
            RowBox[{
             RowBox[{"2", " ", "M", " ", "r"}], "-", 
             SuperscriptBox["r", "2"]}]], ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", 
           RowBox[{
            RowBox[{"2", " ", "M"}], "-", "r"}], ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{
              RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
            SuperscriptBox[
             RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], "}"}], 
       ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", 
           FractionBox["1", "r"], ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", 
           FractionBox["1", "r"], ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"Cos", "[", "\[Theta]", "]"}]}], " ", 
            RowBox[{"Sin", "[", "\[Theta]", "]"}]}]}], "}"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", 
           FractionBox["1", "r"]}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", 
           RowBox[{"Cot", "[", "\[Theta]", "]"}]}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", 
           FractionBox["1", "r"], ",", 
           RowBox[{"Cot", "[", "\[Theta]", "]"}], ",", "0"}], "}"}]}], 
        "}"}]}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"EinsteinTensorSchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], 
     "\[Rule]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"RicciScalarSchwarzschildMetric\"\>", ",", 
       RowBox[{"{", "}"}]}], "}"}], "\[Rule]", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"RicciTensorSchwarzschildMetric\"\>", ",", 
        RowBox[{"{", 
         RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], 
      "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]}], ",", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"RicciTensorSchwarzschildMetric\"\>", ",", 
        RowBox[{"{", 
         RowBox[{"\<\"Down\"\>", ",", "\<\"Up\"\>"}], "}"}]}], "}"}], 
      "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]}]}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"RiemannTensorSchwarzschildMetric\"\>", ",", 
        RowBox[{"{", 
         RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>", ",", "\<\"Down\"\>", 
          ",", "\<\"Down\"\>"}], "}"}]}], "}"}], "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"2", " ", "M"}], 
                SuperscriptBox["r", "3"]]}], ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"2", " ", "M"}], 
               SuperscriptBox["r", "3"]], ",", "0", ",", "0", ",", "0"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
               SuperscriptBox["r", "2"]], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
                SuperscriptBox["r", "2"]]}], ",", "0", ",", "0", ",", "0"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                 SuperscriptBox[
                  RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
                SuperscriptBox["r", "2"]]}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                SuperscriptBox[
                 RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
               SuperscriptBox["r", "2"]], ",", "0", ",", "0", ",", "0"}], 
             "}"}]}], "}"}]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", 
              FractionBox[
               RowBox[{"2", " ", "M"}], 
               SuperscriptBox["r", "3"]], ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               FractionBox[
                RowBox[{"2", " ", "M"}], 
                SuperscriptBox["r", "3"]]}], ",", "0", ",", "0", ",", "0"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              FractionBox["M", 
               RowBox[{
                RowBox[{"2", " ", "M"}], "-", "r"}]], ",", "0"}], "}"}], ",", 
            
            RowBox[{"{", 
             RowBox[{"0", ",", 
              RowBox[{"-", 
               FractionBox["M", 
                RowBox[{
                 RowBox[{"2", " ", "M"}], "-", "r"}]]}], ",", "0", ",", "0"}],
              "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              FractionBox[
               RowBox[{"M", " ", 
                SuperscriptBox[
                 RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
               RowBox[{
                RowBox[{"2", " ", "M"}], "-", "r"}]]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 SuperscriptBox[
                  RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
                RowBox[{
                 RowBox[{"2", " ", "M"}], "-", "r"}]]}], ",", "0", ",", "0"}],
              "}"}]}], "}"}]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
                SuperscriptBox["r", "2"]]}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
               SuperscriptBox["r", "2"]], ",", "0", ",", "0", ",", "0"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox["M", 
                RowBox[{
                 RowBox[{"2", " ", "M"}], "-", "r"}]]}], ",", "0"}], "}"}], 
            ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", 
              FractionBox["M", 
               RowBox[{
                RowBox[{"2", " ", "M"}], "-", "r"}]], ",", "0", ",", "0"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              RowBox[{"2", " ", "M", " ", "r", " ", 
               SuperscriptBox[
                RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              RowBox[{
               RowBox[{"-", "2"}], " ", "M", " ", "r", " ", 
               SuperscriptBox[
                RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], ",", "0"}], 
             "}"}]}], "}"}]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                SuperscriptBox[
                 RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
               SuperscriptBox["r", "2"]]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                 SuperscriptBox[
                  RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
                SuperscriptBox["r", "2"]]}], ",", "0", ",", "0", ",", "0"}], 
             "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 SuperscriptBox[
                  RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
                RowBox[{
                 RowBox[{"2", " ", "M"}], "-", "r"}]]}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", 
              FractionBox[
               RowBox[{"M", " ", 
                SuperscriptBox[
                 RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
               RowBox[{
                RowBox[{"2", " ", "M"}], "-", "r"}]], ",", "0", ",", "0"}], 
             "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              RowBox[{
               RowBox[{"-", "2"}], " ", "M", " ", "r", " ", 
               SuperscriptBox[
                RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              RowBox[{"2", " ", "M", " ", "r", " ", 
               SuperscriptBox[
                RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], ",", "0"}], 
             "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]}], 
         "}"}]}], "}"}]}], ",", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"RiemannTensorSchwarzschildMetric\"\>", ",", 
        RowBox[{"{", 
         RowBox[{"\<\"Up\"\>", ",", "\<\"Down\"\>", ",", "\<\"Down\"\>", 
          ",", "\<\"Down\"\>"}], "}"}]}], "}"}], "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"2", " ", "M"}], 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                 SuperscriptBox["r", "2"]}]]}], ",", "0", ",", "0"}], "}"}], 
            ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"2", " ", "M"}], 
               RowBox[{
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                SuperscriptBox["r", "2"]}]], ",", "0", ",", "0", ",", "0"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
               RowBox[{
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", "r"}]], 
              ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", "r"}]]}], 
              ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 SuperscriptBox[
                  RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], "r"]}]}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"M", " ", 
                SuperscriptBox[
                 RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], "r"], ",", 
              "0", ",", "0", ",", "0"}], "}"}]}], "}"}]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", 
              FractionBox[
               RowBox[{"2", " ", "M", " ", 
                RowBox[{"(", 
                 RowBox[{"1", "-", 
                  FractionBox[
                   RowBox[{"2", " ", "M"}], "r"]}], ")"}]}], 
               SuperscriptBox["r", "3"]], ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               FractionBox[
                RowBox[{"2", " ", "M", " ", 
                 RowBox[{"(", 
                  RowBox[{"1", "-", 
                   FractionBox[
                    RowBox[{"2", " ", "M"}], "r"]}], ")"}]}], 
                SuperscriptBox["r", "3"]]}], ",", "0", ",", "0", ",", "0"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{"1", "-", 
                  FractionBox[
                   RowBox[{"2", " ", "M"}], "r"]}], ")"}]}], 
               RowBox[{
                RowBox[{"2", " ", "M"}], "-", "r"}]], ",", "0"}], "}"}], ",", 
            
            RowBox[{"{", 
             RowBox[{"0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{"1", "-", 
                   FractionBox[
                    RowBox[{"2", " ", "M"}], "r"]}], ")"}]}], 
                RowBox[{
                 RowBox[{"2", " ", "M"}], "-", "r"}]]}], ",", "0", ",", "0"}],
              "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{"1", "-", 
                  FractionBox[
                   RowBox[{"2", " ", "M"}], "r"]}], ")"}], " ", 
                SuperscriptBox[
                 RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
               RowBox[{
                RowBox[{"2", " ", "M"}], "-", "r"}]]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{"1", "-", 
                   FractionBox[
                    RowBox[{"2", " ", "M"}], "r"]}], ")"}], " ", 
                 SuperscriptBox[
                  RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
                RowBox[{
                 RowBox[{"2", " ", "M"}], "-", "r"}]]}], ",", "0", ",", "0"}],
              "}"}]}], "}"}]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
                SuperscriptBox["r", "4"]]}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
               SuperscriptBox["r", "4"]], ",", "0", ",", "0", ",", "0"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox["M", 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                 SuperscriptBox["r", "2"]}]]}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", 
              FractionBox["M", 
               RowBox[{
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                SuperscriptBox["r", "2"]}]], ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              FractionBox[
               RowBox[{"2", " ", "M", " ", 
                SuperscriptBox[
                 RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], "r"]}], "}"}],
             ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"2", " ", "M", " ", 
                 SuperscriptBox[
                  RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], "r"]}], ",", 
              "0"}], "}"}]}], "}"}]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"2", " ", "M"}], "-", "r"}], ")"}]}], 
               SuperscriptBox["r", "4"]]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"2", " ", "M"}], "-", "r"}], ")"}]}], 
                SuperscriptBox["r", "4"]]}], ",", "0", ",", "0", ",", "0"}], 
             "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox["M", 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                 SuperscriptBox["r", "2"]}]]}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", 
              FractionBox["M", 
               RowBox[{
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                SuperscriptBox["r", "2"]}]], ",", "0", ",", "0"}], "}"}]}], 
           "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"2", " ", "M"}], "r"]}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              FractionBox[
               RowBox[{"2", " ", "M"}], "r"], ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]}], 
         "}"}]}], "}"}]}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
        RowBox[{"{", 
         RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], 
      "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "1"}], "+", 
           FractionBox[
            RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], 
         "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", 
          FractionBox["1", 
           RowBox[{"1", "-", 
            FractionBox[
             RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], 
        ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", 
          SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", 
          RowBox[{
           SuperscriptBox["r", "2"], " ", 
           SuperscriptBox[
            RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], "}"}]}],
      ",", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
        RowBox[{"{", 
         RowBox[{"\<\"Up\"\>", ",", "\<\"Up\"\>"}], "}"}]}], "}"}], "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          FractionBox["r", 
           RowBox[{
            RowBox[{"2", " ", "M"}], "-", "r"}]], ",", "0", ",", "0", ",", 
          "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", 
          RowBox[{"1", "-", 
           FractionBox[
            RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", 
          FractionBox["1", 
           SuperscriptBox["r", "2"]], ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", 
          FractionBox[
           SuperscriptBox[
            RowBox[{"Csc", "[", "\[Theta]", "]"}], "2"], 
           SuperscriptBox["r", "2"]]}], "}"}]}], "}"}]}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->
  "Out[24]=",ExpressionUUID->"7ebc4595-c2a8-4934-8d0b-9db78aba296f"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Turning off caching", \
"Section",ExpressionUUID->"d96912e4-3fb9-4342-8b4f-ebe19ce708aa"],

Cell[CellGroupData[{

Cell["\<\
Note that simply re-setting $CacheTensorValues to False does not remove \
already cached values.\
\>", "Item",ExpressionUUID->"2d0200c9-68f3-42f8-9f31-5b7676164ac5"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$CacheTensorValues", "=", "False"}], ";"}]], "Input",
 CellLabel->"In[25]:=",ExpressionUUID->"fe9bfea8-a199-44fc-9143-8efe8c8daef3"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"CachedTensorValues", "[", "gS", "]"}]], "Input",
 CellLabel->"In[26]:=",ExpressionUUID->"383a9108-4ea0-43ac-8947-d4af739e09e2"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{"{", 
     RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
      RowBox[{"{", 
       RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], 
    "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "1"}], "+", 
         FractionBox[
          RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], 
       "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", 
        FractionBox["1", 
         RowBox[{"1", "-", 
          FractionBox[
           RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", 
        SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", "0", ",", 
        RowBox[{
         SuperscriptBox["r", "2"], " ", 
         SuperscriptBox[
          RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], "}"}]}], 
   ",", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
      RowBox[{"{", 
       RowBox[{"\<\"Up\"\>", ",", "\<\"Up\"\>"}], "}"}]}], "}"}], "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        FractionBox["r", 
         RowBox[{
          RowBox[{"2", " ", "M"}], "-", "r"}]], ",", "0", ",", "0", ",", 
        "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", 
        RowBox[{"1", "-", 
         FractionBox[
          RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", 
        FractionBox["1", 
         SuperscriptBox["r", "2"]], ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", "0", ",", 
        FractionBox[
         SuperscriptBox[
          RowBox[{"Csc", "[", "\[Theta]", "]"}], "2"], 
         SuperscriptBox["r", "2"]]}], "}"}]}], "}"}]}]}], "}"}]], "Output",
 CellLabel->
  "Out[26]=",ExpressionUUID->"b28d500c-f266-43ae-9f1f-eeb741081cb0"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Call ClearCachedTensorValues instead.", \
"Item",ExpressionUUID->"67c6ed8b-2ee8-44a4-b965-65118ec5e1e9"],

Cell[BoxData[
 RowBox[{"ClearCachedTensorValues", "[", "All", "]"}]], "Input",
 CellLabel->"In[27]:=",ExpressionUUID->"c3885fe2-05f4-4119-8829-0263843d19f0"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"CachedTensorValues", "[", "All", "]"}]], "Input",
 CellLabel->"In[28]:=",ExpressionUUID->"4a86d957-f523-4771-8e00-adccb4cce99c"],

Cell[BoxData[
 RowBox[{"{", "}"}]], "Output",
 CellLabel->
  "Out[28]=",ExpressionUUID->"a379ceac-77dd-42ab-a629-98b1c0619400"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["", "RelatedTutorialsSection",
 WholeCellGroupOpener->True,
 CellFrameLabels->{{
    FEPrivate`If[
     FEPrivate`Or[
      FEPrivate`SameQ[FEPrivate`$ProductVersion, "6.0"], 
      FEPrivate`SameQ[FEPrivate`$ProductVersion, "7.0"], 
      FEPrivate`SameQ[FEPrivate`$ProductVersion, "8.0"]], 
     Cell[
      TextData[
       ButtonBox[
       "RELATED TUTORIALS", BaseStyle -> None, 
        Appearance -> {Automatic, None}, Evaluator -> None, Method -> 
        "Preemptive", ButtonFunction :> (FrontEndExecute[{
           FrontEnd`SelectionMove[
            FrontEnd`SelectedNotebook[], All, ButtonCell], 
           FrontEndToken["OpenCloseGroup"], 
           FrontEnd`SelectionMove[
            FrontEnd`SelectedNotebook[], After, CellContents]}]& )]], 
      "RelatedTutorialsSection"], 
     TextData[
      ButtonBox[
       Cell[
        TextData[{
          Cell[
           BoxData[
            TemplateBox[{24}, "Spacer1"]]], "Related Tutorials"}], 
        "RelatedTutorialsSection"], BaseStyle -> None, 
       Appearance -> {Automatic, None}, Evaluator -> None, Method -> 
       "Preemptive", ButtonFunction :> (FrontEndExecute[{
          FrontEnd`SelectionMove[
           FrontEnd`SelectedNotebook[], All, ButtonCell], 
          FrontEndToken["OpenCloseGroup"], 
          FrontEnd`SelectionMove[
           FrontEnd`SelectedNotebook[], After, CellContents]}]& )]]], None}, {
   None, None}},
 CellFrameLabelMargins->
  0,ExpressionUUID->"1021159a-d753-403f-b88c-57d35440ee29"],

Cell[TextData[ButtonBox["Introduction to GeneralRelativityTensors",
 BaseStyle->"Link",
 ButtonData->
  "paclet:GeneralRelativityTensors/tutorial/Introduction to \
GeneralRelativityTensors"]], \
"RelatedTutorials",ExpressionUUID->"8274b554-4539-451f-9459-931b8850e947"],

Cell[TextData[ButtonBox["Introduction to Tensor Curves",
 BaseStyle->"Link",
 ButtonData->
  "paclet:GeneralRelativityTensors/tutorial/Introduction to Tensor Curves"]], \
"RelatedTutorials",ExpressionUUID->"150105eb-490d-4f49-8245-f942cf916da6"],

Cell[TextData[ButtonBox["Manipulating and differentiating Tensors",
 BaseStyle->"Link",
 ButtonData->
  "paclet:GeneralRelativityTensors/tutorial/Manipulating and differentiating \
Tensors"]], \
"RelatedTutorials",ExpressionUUID->"a4ef5aa0-8399-472d-a40d-277be391e802"],

Cell[TextData[ButtonBox["Built in common Tensors",
 BaseStyle->"Link",
 ButtonData->
  "paclet:GeneralRelativityTensors/tutorial/Built in common Tensors"]], \
"RelatedTutorials",ExpressionUUID->"8518070c-4d73-43f3-9bd1-7348ffecfa48"],

Cell[TextData[ButtonBox["Pattern matching with Tensors",
 BaseStyle->"Link",
 ButtonData->
  "paclet:GeneralRelativityTensors/tutorial/Pattern matching with Tensors"]], \
"RelatedTutorials",ExpressionUUID->"0fea6cf3-b29d-42d3-8f79-fcea7b8374ea"],

Cell[TextData[ButtonBox["Examples - Wave equations",
 BaseStyle->"Link",
 ButtonData->
  "paclet:GeneralRelativityTensors/tutorial/Examples - Wave equations"]], \
"RelatedTutorials",ExpressionUUID->"13bc39b2-0e90-4cf4-81d4-cccd5badcfc7"]
}, Open  ]]
}, Open  ]],

Cell[" ", \
"FooterCell",ExpressionUUID->"8120de9d-df16-4ff2-94dc-da7f77919905"]
},
Saveable->False,
ScreenStyleEnvironment->"Working",
WindowSize->{725, 750},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
WindowTitle->"Caching Tensor values",
Visible->True,
PrivateNotebookOptions->{"FileOutlineCache"->False},
TaggingRules->{
 "ModificationHighlight" -> False, 
  "Metadata" -> {
   "context" -> "GeneralRelativityTensors`", 
    "keywords" -> {"Tensors", "Cache", "GeneralRelativityTensors"}, "index" -> 
    True, "label" -> "Tensor caching", "language" -> "en", "paclet" -> 
    "Caching Tensor values", "status" -> "None", "summary" -> 
    "Optimizing Tensor calculations through caching.", "synonyms" -> {}, 
    "title" -> "Caching Tensor values", "windowTitle" -> 
    "Caching Tensor values", "type" -> "Tutorial", "uri" -> 
    "GeneralRelativityTensors/tutorial/Caching Tensor values", 
    "WorkflowDockedCell" -> ""}, "SearchTextTranslated" -> "", "LinkTrails" -> 
  ""},
TrackCellChangeTimes->False,
FrontEndVersion->"11.3 for Mac OS X x86 (32-bit, 64-bit Kernel) (March 5, \
2018)",
StyleDefinitions->FrontEnd`FileName[{"Wolfram"}, "Reference.nb", 
  CharacterEncoding -> "UTF-8"]
]

