(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 11.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     87855,       2368]
NotebookOptionsPosition[     76845,       2176]
NotebookOutlinePosition[     77199,       2192]
CellTagsIndexPosition[     77156,       2189]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["GeneralRelativityTensors - Caching  Tensor values", "Title",ExpressionUUID->"de99949b-3d10-4c5d-b8c6-11a8cce924c2"],

Cell["\<\
By default Tensor values are not cached. In the right contexts, turning on \
caching can greatly speed up calculations.\
\>", "Text",ExpressionUUID->"92d6e2fb-ae7b-40c1-8a55-d2b78df182c6"],

Cell[BoxData[
 RowBox[{"<<", "GeneralRelativityTensors`"}]], "Input",ExpressionUUID->"cf537f83-b8eb-456d-a758-c68038441f99"],

Cell[CellGroupData[{

Cell["Default storage of Tensor values", "Section",ExpressionUUID->"ea21c2d9-5849-4c8b-9e67-ece8f3778b0b"],

Cell[CellGroupData[{

Cell["\<\
Fundamentally, a Tensor is just a Sequence of Rules wrapped in the Head \
Tensor.\
\>", "Item",ExpressionUUID->"57827f79-fdbf-4ae3-9574-2f506977192f"],

Cell["\<\
The values of the Tensor are associated with the Key \
\[OpenCurlyDoubleQuote]Values\[CloseCurlyDoubleQuote]\
\>", "Item",ExpressionUUID->"aabf94ee-8cc3-4318-befe-4c458bd5e678"],

Cell["For example:", "Item",ExpressionUUID->"58207c9e-3b3d-4924-aec4-6f9e66161445"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"List", "@@", 
  RowBox[{"ToMetric", "[", "\"\<S2\>\"", "]"}]}]], "Input",
 CellLabel->"In[2]:=",ExpressionUUID->"d4b49848-4671-451c-87fc-d39d41895026"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"\<\"Coordinates\"\>", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\[Theta]", ",", "\[Phi]"}], "}"}]}], ",", 
   RowBox[{"\<\"Name\"\>", "\[Rule]", "\<\"TwoSphereMetric\"\>"}], ",", 
   RowBox[{"\<\"DisplayName\"\>", "\[Rule]", "\<\"\[CapitalOmega]\"\>"}], ",", 
   RowBox[{"\<\"Abstract\"\>", "\[Rule]", "False"}], ",", 
   RowBox[{"\<\"Values\"\>", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"1", ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", 
        SuperscriptBox[
         RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], "}"}]}], "}"}]}], ",", 
   RowBox[{"\<\"CurveParameter\"\>", "\[Rule]", "Undefined"}], ",", 
   RowBox[{"\<\"Curve\"\>", "\[Rule]", "Undefined"}], ",", 
   RowBox[{"\<\"IsCurve\"\>", "\[Rule]", "False"}], ",", 
   RowBox[{"\<\"Metric\"\>", "\[Rule]", "\<\"Self\"\>"}], ",", 
   RowBox[{"\<\"IsMetric\"\>", "\[Rule]", "True"}], ",", 
   RowBox[{"\<\"Dimensions\"\>", "\[Rule]", "2"}], ",", 
   RowBox[{"\<\"PossibleIndices\"\>", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
     "A", ",", "B", ",", "F", ",", "G", ",", "H", ",", "J", ",", "L", ",", 
      "M", ",", "P", ",", "Q", ",", "R", ",", "S", ",", "T", ",", "U", ",", 
      "V", ",", "W", ",", "X", ",", "Y", ",", "Z"}], "}"}]}], ",", 
   RowBox[{"\<\"Indices\"\>", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"-", "A"}], ",", 
      RowBox[{"-", "B"}]}], "}"}]}]}], "}"}]], "Output",
 CellLabel->"Out[2]=",ExpressionUUID->"95e08f44-83fa-4e25-8420-b26b60459b24"]
}, Open  ]],

Cell["\<\
The best way to retrieve those values is with the functions RawTensorValues \
and TensorValues\
\>", "Item",ExpressionUUID->"17ad14a0-9a73-4db9-860b-84049b17e7db"],

Cell[BoxData[GridBox[{
   {
    RowBox[{
     ButtonBox["RawTensorValues",
      BaseStyle->"Link",
      ButtonData->"paclet:Tensors/ref/RawTensorValues"], "[", 
     StyleBox["t", "TI"], "]"}], Cell[TextData[{
     "the actual internal values of a Tensor ",
     StyleBox["t",
      FontFamily->"Times",
      FontWeight->"Regular",
      FontSlant->"Italic"]
    }], "TableText",ExpressionUUID->"c80c2645-6a4b-45cb-9bb3-b29faa704243"]},
   {
    RowBox[{
     ButtonBox["TensorValues",
      BaseStyle->"Link",
      ButtonData->"paclet:Tensors/ref/TensorValues"], "[", 
     StyleBox["t", "TI"], "]"}], Cell[TextData[{
     "the same as RawTensorValues, but if ",
     StyleBox["t",
      FontFamily->"Times",
      FontWeight->"Regular",
      FontSlant->"Italic"],
     " has an associated curve, evaluate the values on that curve"
    }], "TableText",ExpressionUUID->"289bfa5b-ea1e-4780-92ea-a9fc3a1a3f56"]}
  }]], "DefinitionBox",
 CellID->340746825,ExpressionUUID->"ccf0f19f-de5b-4d11-9bd6-414cc6cae749"],

Cell["Here is a Tensor field, the Schwarzschild metric.", "Item",ExpressionUUID->"655704e3-6d0b-4ab4-90a2-88727921c1fd"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"gS", "=", 
  RowBox[{"ToMetric", "[", "\"\<Schw\>\"", "]"}]}]], "Input",
 CellLabel->"In[3]:=",ExpressionUUID->"a91e1d33-3cc0-4448-bab6-385a6a60b50d"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["g", "\[Alpha]\[Beta]", ""],
  DisplayForm]], "Output",
 CellLabel->"Out[3]=",ExpressionUUID->"2d98ddcc-dd92-4a8a-8bd3-d9d82b15cdf4"]
}, Open  ]],

Cell["\<\
RawTensorValues and TensorValues give different the same result.\
\>", "Item",ExpressionUUID->"d66a76e9-fbf6-44a6-b44e-b60b4786f8a2"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"RawTensorValues", "[", "gS", "]"}]], "Input",
 CellLabel->"In[4]:=",ExpressionUUID->"d7080b45-7f43-4c46-b4f8-299c29cf8394"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "1"}], "+", 
      FractionBox[
       RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], "}"}],
    ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", 
     FractionBox["1", 
      RowBox[{"1", "-", 
       FractionBox[
        RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", 
     SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", 
     RowBox[{
      SuperscriptBox["r", "2"], " ", 
      SuperscriptBox[
       RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->"Out[4]=",ExpressionUUID->"69292dd9-bfdb-4d6a-ae7e-392217d9be93"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"TensorValues", "[", "gS", "]"}]], "Input",
 CellLabel->"In[5]:=",ExpressionUUID->"08431b0e-6231-4bac-84e3-5b6b679de95f"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "1"}], "+", 
      FractionBox[
       RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], "}"}],
    ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", 
     FractionBox["1", 
      RowBox[{"1", "-", 
       FractionBox[
        RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", 
     SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", 
     RowBox[{
      SuperscriptBox["r", "2"], " ", 
      SuperscriptBox[
       RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->"Out[5]=",ExpressionUUID->"189767ea-9061-466b-a944-51eebcc63eec"]
}, Open  ]],

Cell["Here is a curve in Schwarzschild spacetime.", "Item",ExpressionUUID->"ebcb43fe-430f-4fe3-ad13-d0dc34c48532"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"x1", "=", 
  RowBox[{"ToCurve", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"\"\<xCurve\>\"", ",", "\"\<x\>\""}], "}"}], ",", "gS", ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"t", "[", "\[Tau]", "]"}], ",", 
      RowBox[{"r", "[", "\[Tau]", "]"}], ",", 
      RowBox[{"\[Theta]", "[", "\[Tau]", "]"}], ",", 
      RowBox[{"\[Phi]", "[", "\[Tau]", "]"}]}], "}"}], ",", "\[Tau]"}], 
   "]"}]}]], "Input",
 CellLabel->"In[6]:=",ExpressionUUID->"494a3053-e697-442e-bc36-5ca194a70b90"],

Cell[BoxData[
 TagBox[
  RowBox[{
   SubsuperscriptBox["x", "", "\[Alpha]"], "[", "\<\"\[Tau]\"\>", "]"}],
  DisplayForm]], "Output",
 CellLabel->"Out[6]=",ExpressionUUID->"c277ff75-6eee-4103-85e9-965a8c99dcab"]
}, Open  ]],

Cell["We now associate that curve with a Tensor field", "Item",ExpressionUUID->"5a2f68bb-29f6-4cfe-aae0-2ca1e1e4c39e"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"gSF", "=", 
  RowBox[{"ToTensorFieldOnCurve", "[", 
   RowBox[{"gS", ",", "x1"}], "]"}]}]], "Input",
 CellLabel->"In[7]:=",ExpressionUUID->"b488e5ec-9264-46a9-9c71-301268fae4b1"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["g", "\[Alpha]\[Beta]", ""],
  DisplayForm]], "Output",
 CellLabel->"Out[7]=",ExpressionUUID->"17a88b59-c2bd-4fd0-8c29-ce66eeb24db3"]
}, Open  ]],

Cell["Now, RawTensorValues and TensorValues give different results", "Item",ExpressionUUID->"4509f1d1-52f4-4115-8976-a1e37112babb"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"RawTensorValues", "[", "gSF", "]"}]], "Input",
 CellLabel->"In[8]:=",ExpressionUUID->"0594b78c-ef2d-4e72-8a99-e7134723192b"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "1"}], "+", 
      FractionBox[
       RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], "}"}],
    ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", 
     FractionBox["1", 
      RowBox[{"1", "-", 
       FractionBox[
        RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", 
     SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", 
     RowBox[{
      SuperscriptBox["r", "2"], " ", 
      SuperscriptBox[
       RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->"Out[8]=",ExpressionUUID->"fcd94ccb-6fd5-4a60-b0a0-c5bde981ac37"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"TensorValues", "[", "gSF", "]"}]], "Input",
 CellLabel->"In[9]:=",ExpressionUUID->"74095850-e25a-4d1c-9f9e-c57d3b0b86ba"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "1"}], "+", 
      FractionBox[
       RowBox[{"2", " ", "M"}], 
       RowBox[{"r", "[", "\[Tau]", "]"}]]}], ",", "0", ",", "0", ",", "0"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", 
     FractionBox["1", 
      RowBox[{"1", "-", 
       FractionBox[
        RowBox[{"2", " ", "M"}], 
        RowBox[{"r", "[", "\[Tau]", "]"}]]}]], ",", "0", ",", "0"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", 
     SuperscriptBox[
      RowBox[{"r", "[", "\[Tau]", "]"}], "2"], ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", 
     RowBox[{
      SuperscriptBox[
       RowBox[{"r", "[", "\[Tau]", "]"}], "2"], " ", 
      SuperscriptBox[
       RowBox[{"Sin", "[", 
        RowBox[{"\[Theta]", "[", "\[Tau]", "]"}], "]"}], "2"]}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->"Out[9]=",ExpressionUUID->"3aaf907b-52df-46ef-bc42-c034e789714d"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Caching Tensor values", "Section",ExpressionUUID->"28a377aa-e300-41ad-a194-46263816a2fa"],

Cell[CellGroupData[{

Cell["Functions", "Subsection",ExpressionUUID->"a4a9939e-824e-40e7-8b87-d9e07cdecb82"],

Cell[CellGroupData[{

Cell["\<\
Large and repeated calculations can benefit from caching Tensor values.\
\>", "Item",ExpressionUUID->"d3565aca-a8f4-406e-ac18-81af663b442f"],

Cell["\<\
By default this is off, but it can be turned on by setting the global \
variable $CacheTensorValues to True\
\>", "Item",ExpressionUUID->"09e604fc-c1a6-4d59-969a-eb600e403b65"]
}, Open  ]],

Cell[BoxData[GridBox[{
   {
    ButtonBox["$CacheTensorValues",
     BaseStyle->"Link",
     ButtonData->"paclet:Tensors/ref/$CacheTensorValues"], Cell[
    "Boolean determining whether Tensor values are cached", "TableText",
     ExpressionUUID->"aaf7d211-e360-4f15-b684-22f1d7daf16b"]}
  }]], "DefinitionBox",
 CellID->2079569539,ExpressionUUID->"c5cdb2e0-c16b-4c8a-b1b2-575bb50e1723"],

Cell["\<\
Cached values can be examined and removed with the following functions:\
\>", "Item",ExpressionUUID->"1ec0923d-874a-4dda-b01b-bc9b58bc4395"],

Cell[BoxData[GridBox[{
   {
    RowBox[{
     ButtonBox["CachedTensorValues",
      BaseStyle->"Link",
      ButtonData->"paclet:Tensors/ref/CachedTensorValues"], "[", 
     StyleBox["t", "TI"], "]"}], Cell[TextData[{
     "The values of a Tensor ",
     StyleBox["t",
      FontFamily->"Times",
      FontWeight->"Regular",
      FontSlant->"Italic"],
     " that are cached"
    }], "TableText",ExpressionUUID->"bf12de82-3ff9-4d8f-8042-dde2eaff9e9d"]},
   {
    RowBox[{
     ButtonBox["ClearCachedTensorValues",
      BaseStyle->"Link",
      ButtonData->"paclet:Tensors/ref/ClearCachedTensorValues"], "[", 
     StyleBox["t", "TI"], "]"}], Cell[TextData[{
     "Remove all cached values associated with ",
     StyleBox["t",
      FontFamily->"Times",
      FontWeight->"Regular",
      FontSlant->"Italic"]
    }], "TableText",ExpressionUUID->"491de8dd-4289-4c7f-9410-350d68d77d1b"]}
  }]], "DefinitionBox",
 CellID->1788114926,ExpressionUUID->"1a5e0c20-40e3-4101-bdb6-a0f8594b2741"],

Cell["These functions can also be called for all Tensors:", "Item",ExpressionUUID->"b843c550-1d20-4188-97b3-9bf4c7673e85"],

Cell[BoxData[GridBox[{
   {
    RowBox[{
     ButtonBox["CachedTensorValues",
      BaseStyle->"Link",
      ButtonData->"paclet:Tensors/ref/CachedTensorValues"], "[", "All", "]"}],
     Cell["All Tensor values that are cached", "TableText",ExpressionUUID->
     "7972e95f-bbf8-4615-b9f9-0b4042151594"]},
   {
    RowBox[{
     ButtonBox["ClearCachedTensorValues",
      BaseStyle->"Link",
      ButtonData->"paclet:Tensors/ref/ClearCachedTensorValues"], "[", "All", 
     "]"}], Cell[
    "Remove all cached Tensor values", "TableText",ExpressionUUID->
     "69329de1-7846-4292-a570-5951ffe93680"]}
  }]], "DefinitionBox",
 CellID->71144484,ExpressionUUID->"38184e92-11f8-4f4c-ad7d-3e91943410f2"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Examples", "Subsection",ExpressionUUID->"6f2be462-d2cd-4daa-b248-f7c5a3cc7d33"],

Cell[CellGroupData[{

Cell["Storage of one value", "Subsubsection",ExpressionUUID->"0f8e3b4d-ba65-47de-b80f-13135de95640"],

Cell["Set $CacheTensorValues:", "Item",ExpressionUUID->"2f39a8c5-d226-4f5c-acfb-9c1b6ebe0b26"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$CacheTensorValues", "=", "True"}], ";"}]], "Input",
 CellLabel->"In[10]:=",ExpressionUUID->"0180fccf-7e01-4dc4-9f2b-9b9300a60632"],

Cell["Originally nothing is cached.", "Item",ExpressionUUID->"e9a7b59f-1890-4893-824e-0a3e584cdd99"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"CachedTensorValues", "[", "All", "]"}]], "Input",
 CellLabel->"In[11]:=",ExpressionUUID->"abae86bf-919d-4444-bb35-a3e32629f808"],

Cell[BoxData[
 RowBox[{"{", "}"}]], "Output",
 CellLabel->"Out[11]=",ExpressionUUID->"bc019be1-e782-4f75-9735-c4decd74bc4c"]
}, Open  ]],

Cell["\<\
Call TensorValues on a Tensor and then its values are stored.\
\>", "Item",ExpressionUUID->"231cc9c2-28f6-4f11-815b-e33135ed1c27"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"TensorValues", "[", "gS", "]"}]], "Input",
 CellLabel->"In[12]:=",ExpressionUUID->"19f168b7-bbe1-4c6c-b66f-c6e72fc89e92"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "1"}], "+", 
      FractionBox[
       RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], "}"}],
    ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", 
     FractionBox["1", 
      RowBox[{"1", "-", 
       FractionBox[
        RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", 
     SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", 
     RowBox[{
      SuperscriptBox["r", "2"], " ", 
      SuperscriptBox[
       RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->"Out[12]=",ExpressionUUID->"a08bf036-7ca4-47c2-b8a3-e3376a4870f5"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"CachedTensorValues", "[", "All", "]"}]], "Input",
 CellLabel->"In[13]:=",ExpressionUUID->"08b138e7-3393-441d-8d4a-f767e5c7cd25"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
      RowBox[{"{", 
       RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], 
    "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "1"}], "+", 
         FractionBox[
          RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], 
       "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", 
        FractionBox["1", 
         RowBox[{"1", "-", 
          FractionBox[
           RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", 
        SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", "0", ",", 
        RowBox[{
         SuperscriptBox["r", "2"], " ", 
         SuperscriptBox[
          RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], "}"}]}], 
   "}"}], "}"}]], "Output",
 CellLabel->"Out[13]=",ExpressionUUID->"8ead5d75-0118-406c-8395-c2d31e12b59d"]
}, Open  ]],

Cell["\<\
Cached values are stored as DownValues of the Symbol RawTensorValues.\
\>", "Item",ExpressionUUID->"bb8ee801-9400-4e4d-967a-4762db552480"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"DownValues", "[", "RawTensorValues", "]"}]], "Input",
 CellLabel->"In[14]:=",ExpressionUUID->"022adc96-042e-4e2c-af85-7435d7357f3f"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{"HoldPattern", "[", 
     RowBox[{"RawTensorValues", "[", 
      RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "]"}], "]"}], 
    "\[RuleDelayed]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "1"}], "+", 
         FractionBox[
          RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], 
       "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", 
        FractionBox["1", 
         RowBox[{"1", "-", 
          FractionBox[
           RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", 
        SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", "0", ",", 
        RowBox[{
         SuperscriptBox["r", "2"], " ", 
         SuperscriptBox[
          RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], "}"}]}], 
   ",", 
   RowBox[{
    RowBox[{"HoldPattern", "[", 
     RowBox[{
     "RawTensorValues", "[", "Tensors`TensorDefinitions`Private`t_Tensor", 
      "]"}], "]"}], "\[RuleDelayed]", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"#1", "=!=", "Undefined"}], ",", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{
            "Tensors`TensorDefinitions`Private`AutoNameQ", "[", 
             "Tensors`TensorDefinitions`Private`t", "]"}], "||", 
            RowBox[{"!", "$CacheTensorValues"}]}], ",", "#1", ",", 
           RowBox[{
            RowBox[{"RawTensorValues", "[", 
             RowBox[{
              RowBox[{
              "TensorName", "[", "Tensors`TensorDefinitions`Private`t", "]"}],
               ",", 
              RowBox[{
              "IndexPositions", "[", "Tensors`TensorDefinitions`Private`t", 
               "]"}]}], "]"}], "=", "#1"}]}], "]"}], ",", "Undefined"}], 
        "]"}], "&"}], ")"}], "[", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"Association", "@@", "Tensors`TensorDefinitions`Private`t"}], 
       ")"}], "[", "\<\"Values\"\>", "]"}], "]"}]}], ",", 
   RowBox[{
    RowBox[{"HoldPattern", "[", 
     RowBox[{"RawTensorValues", "[", "___", "]"}], "]"}], "\[RuleDelayed]", 
    "Undefined"}]}], "}"}]], "Output",
 CellLabel->"Out[14]=",ExpressionUUID->"00ea475a-0995-4591-9e7b-7f4fa0c6c69f"]
}, Open  ]],

Cell["\<\
Note that cached values are stored relative to their TensorName. Thus, it is \
important to choose unique names for Tensors when using caching.\
\>", "Item",ExpressionUUID->"ef9040cd-e8d8-4732-998e-09d0b79f1d97"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Nested caching", "Subsubsection",ExpressionUUID->"c48b8250-2691-45e3-897c-43694a083667"],

Cell[CellGroupData[{

Cell["\<\
Often when computing the values of a Tensor, other Tensors must be computed \
behind the scene.\
\>", "Item",ExpressionUUID->"90758dbc-1f86-43de-be46-241524dd1184"],

Cell["\<\
For instance,  finding a Christoffel symbol requires knowing the inverse \
metric.\
\>", "Item",ExpressionUUID->"944864d4-e52e-4105-8cfa-348538da83cc"],

Cell["\<\
Therefore, when we make the following call, in addition to the final value, \
the inverse metric is also cached.\
\>", "Item",ExpressionUUID->"4b3217a2-9660-41d3-97c5-c072a0b1e76a"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"chrS", "=", 
  RowBox[{"ChristoffelSymbol", "[", "gS", "]"}]}]], "Input",
 CellLabel->"In[15]:=",ExpressionUUID->"6fb7a70a-43e4-4210-bc39-c5cf793d66dc"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["\[CapitalGamma]", 
   RowBox[{"  ", "\[Beta]\[Gamma]"}], 
   RowBox[{"\[Alpha]", "    "}]],
  DisplayForm]], "Output",
 CellLabel->"Out[15]=",ExpressionUUID->"18357f2a-13d8-41ee-81ff-c14116876a23"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"CachedTensorValues", "[", "All", "]"}]], "Input",
 CellLabel->"In[16]:=",ExpressionUUID->"17a0076b-cadd-4b57-99f0-21704f6dd57c"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"ChristoffelSymbolSchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Up\"\>", ",", "\<\"Down\"\>", ",", "\<\"Down\"\>"}], 
        "}"}]}], "}"}], "\[Rule]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", 
           RowBox[{"-", 
            FractionBox["M", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", "r"}]]}], 
           ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"-", 
            FractionBox["M", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", "r"}]]}], 
           ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           FractionBox[
            RowBox[{"M", " ", 
             RowBox[{"(", 
              RowBox[{"1", "-", 
               FractionBox[
                RowBox[{"2", " ", "M"}], "r"]}], ")"}]}], 
            SuperscriptBox["r", "2"]], ",", "0", ",", "0", ",", "0"}], "}"}], 
         ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", 
           RowBox[{"-", 
            FractionBox["M", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"1", "-", 
                FractionBox[
                 RowBox[{"2", " ", "M"}], "r"]}], ")"}], " ", 
              SuperscriptBox["r", "2"]}]]}], ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"(", 
              RowBox[{"1", "-", 
               FractionBox[
                RowBox[{"2", " ", "M"}], "r"]}], ")"}]}], " ", "r"}], ",", 
           "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"(", 
              RowBox[{"1", "-", 
               FractionBox[
                RowBox[{"2", " ", "M"}], "r"]}], ")"}]}], " ", "r", " ", 
            SuperscriptBox[
             RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], "}"}], 
       ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", 
           FractionBox["1", "r"], ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", 
           FractionBox["1", "r"], ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"Cos", "[", "\[Theta]", "]"}]}], " ", 
            RowBox[{"Sin", "[", "\[Theta]", "]"}]}]}], "}"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", 
           FractionBox["1", "r"]}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", 
           RowBox[{"Cot", "[", "\[Theta]", "]"}]}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", 
           FractionBox["1", "r"], ",", 
           RowBox[{"Cot", "[", "\[Theta]", "]"}], ",", "0"}], "}"}]}], 
        "}"}]}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
        RowBox[{"{", 
         RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], 
      "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "1"}], "+", 
           FractionBox[
            RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], 
         "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", 
          FractionBox["1", 
           RowBox[{"1", "-", 
            FractionBox[
             RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], 
        ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", 
          SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", 
          RowBox[{
           SuperscriptBox["r", "2"], " ", 
           SuperscriptBox[
            RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], "}"}]}],
      ",", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
        RowBox[{"{", 
         RowBox[{"\<\"Up\"\>", ",", "\<\"Up\"\>"}], "}"}]}], "}"}], "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          FractionBox["r", 
           RowBox[{
            RowBox[{"2", " ", "M"}], "-", "r"}]], ",", "0", ",", "0", ",", 
          "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", 
          RowBox[{"1", "-", 
           FractionBox[
            RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", 
          FractionBox["1", 
           SuperscriptBox["r", "2"]], ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", 
          FractionBox[
           SuperscriptBox[
            RowBox[{"Csc", "[", "\[Theta]", "]"}], "2"], 
           SuperscriptBox["r", "2"]]}], "}"}]}], "}"}]}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->"Out[16]=",ExpressionUUID->"b0d96114-8f3b-4d54-b84a-b2325a147013"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Notes on simplification", "Section",ExpressionUUID->"0532d428-079a-451c-939c-7b9ae506e3ef"],

Cell[CellGroupData[{

Cell["\<\
Because Tensor functions call each other, many Tensor values can quickly wind \
up cached.\
\>", "Item",ExpressionUUID->"cf5a38ba-fd9b-440b-9b6a-f8d8054718e5"],

Cell["\<\
For instance, here we compute the Einstein tensor for Schwarzschild, and \
Christoffel symbols, the Riemann tensor, the Ricci tensor, and the Ricci \
scalar are all cached.\
\>", "Item",ExpressionUUID->"ae6fc6c3-b4c0-43f7-a29f-0a54245bb58d"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"einS", "=", 
  RowBox[{"EinsteinTensor", "[", "gS", "]"}]}]], "Input",
 CellLabel->"In[17]:=",ExpressionUUID->"5762f35b-6072-48db-8626-296d1c82bdbb"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["G", "\[Alpha]\[Beta]", ""],
  DisplayForm]], "Output",
 CellLabel->"Out[17]=",ExpressionUUID->"183e91cb-6890-41b1-babf-8f6366b951d0"]
}, Open  ]],

Cell["Here are the Keys without the Values:", "Item",ExpressionUUID->"cccc91fb-f77c-4799-9408-a52d85ef15ab"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"CachedTensorValues", "[", "All", "]"}], "[", 
  RowBox[{"[", 
   RowBox[{"All", ",", "All", ",", "1"}], "]"}], "]"}]], "Input",
 CellLabel->"In[18]:=",ExpressionUUID->"54518bc9-f3fe-4b21-80c0-f2c97238faad"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"{", 
     RowBox[{"\<\"ChristoffelSymbolSchwarzschildMetric\"\>", ",", 
      RowBox[{"{", 
       RowBox[{"\<\"Up\"\>", ",", "\<\"Down\"\>", ",", "\<\"Down\"\>"}], 
       "}"}]}], "}"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"{", 
     RowBox[{"\<\"EinsteinTensorSchwarzschildMetric\"\>", ",", 
      RowBox[{"{", 
       RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"{", 
     RowBox[{"\<\"RicciScalarSchwarzschildMetric\"\>", ",", 
      RowBox[{"{", "}"}]}], "}"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"RicciTensorSchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"RicciTensorSchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Down\"\>", ",", "\<\"Up\"\>"}], "}"}]}], "}"}]}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"RiemannTensorSchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>", ",", "\<\"Down\"\>", 
         ",", "\<\"Down\"\>"}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"RiemannTensorSchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Up\"\>", ",", "\<\"Down\"\>", ",", "\<\"Down\"\>", 
         ",", "\<\"Down\"\>"}], "}"}]}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Up\"\>", ",", "\<\"Up\"\>"}], "}"}]}], "}"}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->"Out[18]=",ExpressionUUID->"8831c1ab-d744-4891-899d-bbaf1c38fac1"]
}, Open  ]],

Cell["\<\
Advanced students of general relativity may have heard that Schwarzschild is \
a vacuum spacetime, but this is not immediately clear:\
\>", "Item",ExpressionUUID->"acbb5cea-9239-4795-839d-9fe455a33c5f"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"TensorValues", "[", "einS", "]"}], "//", "Short"}]], "Input",
 CellLabel->"In[19]:=",ExpressionUUID->"fc3b3d53-5737-45d0-ba83-b74071fd0833"],

Cell[BoxData[
 TagBox[
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"\[LeftSkeleton]", "1", "\[RightSkeleton]"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", 
      RowBox[{
       RowBox[{"-", 
        FractionBox[
         RowBox[{"2", " ", "M"}], 
         RowBox[{
          RowBox[{"(", 
           RowBox[{"1", "-", 
            FractionBox[
             RowBox[{"2", " ", "M"}], "r"]}], ")"}], " ", 
          SuperscriptBox["r", "3"]}]]}], "+", 
       FractionBox[
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           FractionBox[
            SuperscriptBox["M", "2"], 
            RowBox[{
             RowBox[{"(", 
              RowBox[{"1", "-", 
               RowBox[{"\[LeftSkeleton]", "1", "\[RightSkeleton]"}]}], ")"}], 
             
             RowBox[{"\[LeftSkeleton]", "1", "\[RightSkeleton]"}], 
             RowBox[{"\[LeftSkeleton]", "1", "\[RightSkeleton]"}]}]], "-", 
           RowBox[{"\[LeftSkeleton]", "1", "\[RightSkeleton]"}], "+", 
           FractionBox[
            RowBox[{"\[LeftSkeleton]", "1", "\[RightSkeleton]"}], 
            RowBox[{"\[LeftSkeleton]", "1", "\[RightSkeleton]"}]]}], ")"}], 
         " ", "r"}], 
        RowBox[{
         RowBox[{"2", " ", "M"}], "-", "r"}]], "-", 
       FractionBox[
        RowBox[{
         FractionBox[
          RowBox[{
           RowBox[{"(", 
            RowBox[{"\[LeftSkeleton]", "1", "\[RightSkeleton]"}], ")"}], " ", 
           "r"}], 
          RowBox[{
           RowBox[{"2", " ", "M"}], "-", "r"}]], "+", 
         RowBox[{
          RowBox[{"(", 
           RowBox[{"1", "-", 
            FractionBox[
             RowBox[{"2", " ", "M"}], "r"]}], ")"}], " ", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{"-", 
             FractionBox[
              RowBox[{"2", " ", "M"}], 
              RowBox[{"\[LeftSkeleton]", "1", "\[RightSkeleton]"}]]}], "+", 
            FractionBox[
             RowBox[{"\[LeftSkeleton]", "1", "\[RightSkeleton]"}], 
             RowBox[{"\[LeftSkeleton]", "1", "\[RightSkeleton]"}]]}], ")"}]}],
          "+", 
         FractionBox[
          RowBox[{"\[LeftSkeleton]", "1", "\[RightSkeleton]"}], 
          RowBox[{"\[LeftSkeleton]", "1", "\[RightSkeleton]"}]], "+", 
         FractionBox[
          RowBox[{
           FractionBox[
            RowBox[{"M", " ", 
             RowBox[{"(", 
              RowBox[{"\[LeftSkeleton]", "1", "\[RightSkeleton]"}], ")"}]}], 
            RowBox[{
             RowBox[{"2", " ", "M"}], "-", "r"}]], "-", 
           FractionBox["M", "r"], "+", 
           FractionBox[
            RowBox[{"\[LeftSkeleton]", "1", "\[RightSkeleton]"}], 
            RowBox[{"\[LeftSkeleton]", "1", "\[RightSkeleton]"}]]}], 
          SuperscriptBox["r", "2"]]}], 
        RowBox[{"2", " ", 
         RowBox[{"(", 
          RowBox[{"1", "-", 
           FractionBox[
            RowBox[{"2", " ", "M"}], "r"]}], ")"}]}]]}], ",", "0", ",", "0"}],
      "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", 
      RowBox[{
       FractionBox[
        RowBox[{"M", " ", 
         RowBox[{"(", 
          RowBox[{"\[LeftSkeleton]", "1", "\[RightSkeleton]"}], ")"}]}], 
        RowBox[{
         RowBox[{"2", " ", "M"}], "-", "r"}]], "-", 
       RowBox[{"\[LeftSkeleton]", "1", "\[RightSkeleton]"}], "+", 
       RowBox[{"\[LeftSkeleton]", "1", "\[RightSkeleton]"}], "-", 
       RowBox[{"\[LeftSkeleton]", "1", "\[RightSkeleton]"}]}], ",", "0"}], 
     "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", "0", ",", 
      RowBox[{"\[LeftSkeleton]", "1", "\[RightSkeleton]"}]}], "}"}]}], "}"}],
  Short]], "Output",
 CellLabel->
  "Out[19]//Short=",ExpressionUUID->"3e50a3d7-6e72-4d1b-af5d-7870913f9ef7"]
}, Open  ]],

Cell["Of course, Simplify fixes this problem.", "Item",ExpressionUUID->"7dc5bd60-63e3-4b71-9b38-2b1cc1799cf8"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Simplify", "[", 
  RowBox[{"TensorValues", "[", "einS", "]"}], "]"}]], "Input",
 CellLabel->"In[20]:=",ExpressionUUID->"5ff0e4e5-ecf9-46d3-888c-bf9b991fab45"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]], "Output",
 CellLabel->"Out[20]=",ExpressionUUID->"32ed4cd0-b254-49af-a32b-00c2d0db8f9d"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 "When caching it is important to performing this simplification ",
 StyleBox["before",
  FontSlant->"Italic"],
 " the caching is performed."
}], "Item",ExpressionUUID->"ef983c33-a51d-4215-ad77-da5c4c997a16"],

Cell["This is done with the following common options.", "Item",ExpressionUUID->"1654268b-9ca0-4f1a-b807-379888985977"]
}, Open  ]],

Cell[BoxData[GridBox[{
   {"ActWith", Cell["\<\
applies the Option value (a function) to each of the elements of the Tensor \
that is formed\
\>", "TableText",ExpressionUUID->"37e74298-97b0-4965-92e4-8698e050e7a3"]},
   {"ActWithNested", Cell["\<\
same as ActWith, but the function is also passed to functions that are called \
internally\
\>", "TableText",ExpressionUUID->"284f4cbc-fde2-4db5-8446-3e3040959514"]}
  }]], "DefinitionBox",
 CellID->1128635629,ExpressionUUID->"b8628d6b-b288-4212-a852-c3ed1de402ee"],

Cell["Clear the cached values.", "Item",ExpressionUUID->"dd9bd108-00e2-439d-9ddf-ce2c9c01e2ba"],

Cell[BoxData[
 RowBox[{"ClearCachedTensorValues", "[", "All", "]"}]], "Input",
 CellLabel->"In[21]:=",ExpressionUUID->"281b6391-d935-4255-ac32-3ca0dbc22e40"],

Cell["Re-compute the Einstein tensor, but with simplification.", "Item",ExpressionUUID->"3a394404-e212-41b0-abac-61c80fa03cd2"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"einS", "=", 
  RowBox[{"EinsteinTensor", "[", 
   RowBox[{"gS", ",", 
    RowBox[{"ActWithNested", "\[Rule]", "Simplify"}]}], "]"}]}]], "Input",
 CellLabel->"In[22]:=",ExpressionUUID->"7def92f5-193a-4a98-aba8-721869be8a5a"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["G", "\[Alpha]\[Beta]", ""],
  DisplayForm]], "Output",
 CellLabel->"Out[22]=",ExpressionUUID->"5a5b3d0c-6a6d-4226-97f2-3be00b4b7b6b"]
}, Open  ]],

Cell["Now the Einstein tensor vanishes immediately.", "Item",ExpressionUUID->"97126a66-7902-4a79-a91f-995d6cf83f43"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"TensorValues", "[", "einS", "]"}]], "Input",
 CellLabel->"In[23]:=",ExpressionUUID->"7c88c331-5307-4614-b01e-942e7537bf80"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]], "Output",
 CellLabel->"Out[23]=",ExpressionUUID->"cbe5224b-b1b0-42f0-a4bf-7baf0834869c"]
}, Open  ]],

Cell["\<\
Also, nested values like the Riemann tensor have been simplified.\
\>", "Item",ExpressionUUID->"4c8cce27-e945-479a-bad0-bebf34712e59"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"CachedTensorValues", "[", "All", "]"}]], "Input",
 CellLabel->"In[24]:=",ExpressionUUID->"cd918a5a-ce34-470d-96e1-fce0dda8aad3"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"ChristoffelSymbolSchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Up\"\>", ",", "\<\"Down\"\>", ",", "\<\"Down\"\>"}], 
        "}"}]}], "}"}], "\[Rule]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", 
           RowBox[{"-", 
            FractionBox["M", 
             RowBox[{
              RowBox[{"2", " ", "M", " ", "r"}], "-", 
              SuperscriptBox["r", "2"]}]]}], ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"-", 
            FractionBox["M", 
             RowBox[{
              RowBox[{"2", " ", "M", " ", "r"}], "-", 
              SuperscriptBox["r", "2"]}]]}], ",", "0", ",", "0", ",", "0"}], 
          "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           FractionBox[
            RowBox[{"M", " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
            SuperscriptBox["r", "3"]], ",", "0", ",", "0", ",", "0"}], "}"}], 
         ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", 
           FractionBox["M", 
            RowBox[{
             RowBox[{"2", " ", "M", " ", "r"}], "-", 
             SuperscriptBox["r", "2"]}]], ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", 
           RowBox[{
            RowBox[{"2", " ", "M"}], "-", "r"}], ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{
              RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
            SuperscriptBox[
             RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], "}"}], 
       ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", 
           FractionBox["1", "r"], ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", 
           FractionBox["1", "r"], ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"Cos", "[", "\[Theta]", "]"}]}], " ", 
            RowBox[{"Sin", "[", "\[Theta]", "]"}]}]}], "}"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", 
           FractionBox["1", "r"]}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0", ",", 
           RowBox[{"Cot", "[", "\[Theta]", "]"}]}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", 
           FractionBox["1", "r"], ",", 
           RowBox[{"Cot", "[", "\[Theta]", "]"}], ",", "0"}], "}"}]}], 
        "}"}]}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"EinsteinTensorSchwarzschildMetric\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], 
     "\[Rule]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"RicciScalarSchwarzschildMetric\"\>", ",", 
       RowBox[{"{", "}"}]}], "}"}], "\[Rule]", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"RicciTensorSchwarzschildMetric\"\>", ",", 
        RowBox[{"{", 
         RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], 
      "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]}], ",", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"RicciTensorSchwarzschildMetric\"\>", ",", 
        RowBox[{"{", 
         RowBox[{"\<\"Down\"\>", ",", "\<\"Up\"\>"}], "}"}]}], "}"}], 
      "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]}]}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"RiemannTensorSchwarzschildMetric\"\>", ",", 
        RowBox[{"{", 
         RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>", ",", "\<\"Down\"\>", 
          ",", "\<\"Down\"\>"}], "}"}]}], "}"}], "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"2", " ", "M"}], 
                SuperscriptBox["r", "3"]]}], ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"2", " ", "M"}], 
               SuperscriptBox["r", "3"]], ",", "0", ",", "0", ",", "0"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
               SuperscriptBox["r", "2"]], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
                SuperscriptBox["r", "2"]]}], ",", "0", ",", "0", ",", "0"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                 SuperscriptBox[
                  RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
                SuperscriptBox["r", "2"]]}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                SuperscriptBox[
                 RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
               SuperscriptBox["r", "2"]], ",", "0", ",", "0", ",", "0"}], 
             "}"}]}], "}"}]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", 
              FractionBox[
               RowBox[{"2", " ", "M"}], 
               SuperscriptBox["r", "3"]], ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               FractionBox[
                RowBox[{"2", " ", "M"}], 
                SuperscriptBox["r", "3"]]}], ",", "0", ",", "0", ",", "0"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              FractionBox["M", 
               RowBox[{
                RowBox[{"2", " ", "M"}], "-", "r"}]], ",", "0"}], "}"}], ",", 
            
            RowBox[{"{", 
             RowBox[{"0", ",", 
              RowBox[{"-", 
               FractionBox["M", 
                RowBox[{
                 RowBox[{"2", " ", "M"}], "-", "r"}]]}], ",", "0", ",", "0"}],
              "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              FractionBox[
               RowBox[{"M", " ", 
                SuperscriptBox[
                 RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
               RowBox[{
                RowBox[{"2", " ", "M"}], "-", "r"}]]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 SuperscriptBox[
                  RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
                RowBox[{
                 RowBox[{"2", " ", "M"}], "-", "r"}]]}], ",", "0", ",", "0"}],
              "}"}]}], "}"}]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
                SuperscriptBox["r", "2"]]}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
               SuperscriptBox["r", "2"]], ",", "0", ",", "0", ",", "0"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox["M", 
                RowBox[{
                 RowBox[{"2", " ", "M"}], "-", "r"}]]}], ",", "0"}], "}"}], 
            ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", 
              FractionBox["M", 
               RowBox[{
                RowBox[{"2", " ", "M"}], "-", "r"}]], ",", "0", ",", "0"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              RowBox[{"2", " ", "M", " ", "r", " ", 
               SuperscriptBox[
                RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              RowBox[{
               RowBox[{"-", "2"}], " ", "M", " ", "r", " ", 
               SuperscriptBox[
                RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], ",", "0"}], 
             "}"}]}], "}"}]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                SuperscriptBox[
                 RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
               SuperscriptBox["r", "2"]]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                 SuperscriptBox[
                  RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
                SuperscriptBox["r", "2"]]}], ",", "0", ",", "0", ",", "0"}], 
             "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 SuperscriptBox[
                  RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
                RowBox[{
                 RowBox[{"2", " ", "M"}], "-", "r"}]]}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", 
              FractionBox[
               RowBox[{"M", " ", 
                SuperscriptBox[
                 RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
               RowBox[{
                RowBox[{"2", " ", "M"}], "-", "r"}]], ",", "0", ",", "0"}], 
             "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              RowBox[{
               RowBox[{"-", "2"}], " ", "M", " ", "r", " ", 
               SuperscriptBox[
                RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              RowBox[{"2", " ", "M", " ", "r", " ", 
               SuperscriptBox[
                RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], ",", "0"}], 
             "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]}], 
         "}"}]}], "}"}]}], ",", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"RiemannTensorSchwarzschildMetric\"\>", ",", 
        RowBox[{"{", 
         RowBox[{"\<\"Up\"\>", ",", "\<\"Down\"\>", ",", "\<\"Down\"\>", 
          ",", "\<\"Down\"\>"}], "}"}]}], "}"}], "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"2", " ", "M"}], 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                 SuperscriptBox["r", "2"]}]]}], ",", "0", ",", "0"}], "}"}], 
            ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"2", " ", "M"}], 
               RowBox[{
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                SuperscriptBox["r", "2"]}]], ",", "0", ",", "0", ",", "0"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
               RowBox[{
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", "r"}]], 
              ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", "r"}]]}], 
              ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 SuperscriptBox[
                  RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], "r"]}]}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"M", " ", 
                SuperscriptBox[
                 RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], "r"], ",", 
              "0", ",", "0", ",", "0"}], "}"}]}], "}"}]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", 
              FractionBox[
               RowBox[{"2", " ", "M", " ", 
                RowBox[{"(", 
                 RowBox[{"1", "-", 
                  FractionBox[
                   RowBox[{"2", " ", "M"}], "r"]}], ")"}]}], 
               SuperscriptBox["r", "3"]], ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               FractionBox[
                RowBox[{"2", " ", "M", " ", 
                 RowBox[{"(", 
                  RowBox[{"1", "-", 
                   FractionBox[
                    RowBox[{"2", " ", "M"}], "r"]}], ")"}]}], 
                SuperscriptBox["r", "3"]]}], ",", "0", ",", "0", ",", "0"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{"1", "-", 
                  FractionBox[
                   RowBox[{"2", " ", "M"}], "r"]}], ")"}]}], 
               RowBox[{
                RowBox[{"2", " ", "M"}], "-", "r"}]], ",", "0"}], "}"}], ",", 
            
            RowBox[{"{", 
             RowBox[{"0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{"1", "-", 
                   FractionBox[
                    RowBox[{"2", " ", "M"}], "r"]}], ")"}]}], 
                RowBox[{
                 RowBox[{"2", " ", "M"}], "-", "r"}]]}], ",", "0", ",", "0"}],
              "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{"1", "-", 
                  FractionBox[
                   RowBox[{"2", " ", "M"}], "r"]}], ")"}], " ", 
                SuperscriptBox[
                 RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
               RowBox[{
                RowBox[{"2", " ", "M"}], "-", "r"}]]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{"1", "-", 
                   FractionBox[
                    RowBox[{"2", " ", "M"}], "r"]}], ")"}], " ", 
                 SuperscriptBox[
                  RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], 
                RowBox[{
                 RowBox[{"2", " ", "M"}], "-", "r"}]]}], ",", "0", ",", "0"}],
              "}"}]}], "}"}]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
                SuperscriptBox["r", "4"]]}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}]}], 
               SuperscriptBox["r", "4"]], ",", "0", ",", "0", ",", "0"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox["M", 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                 SuperscriptBox["r", "2"]}]]}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", 
              FractionBox["M", 
               RowBox[{
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                SuperscriptBox["r", "2"]}]], ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              FractionBox[
               RowBox[{"2", " ", "M", " ", 
                SuperscriptBox[
                 RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], "r"]}], "}"}],
             ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"2", " ", "M", " ", 
                 SuperscriptBox[
                  RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}], "r"]}], ",", 
              "0"}], "}"}]}], "}"}]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              FractionBox[
               RowBox[{"M", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"2", " ", "M"}], "-", "r"}], ")"}]}], 
               SuperscriptBox["r", "4"]]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               FractionBox[
                RowBox[{"M", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"2", " ", "M"}], "-", "r"}], ")"}]}], 
                SuperscriptBox["r", "4"]]}], ",", "0", ",", "0", ",", "0"}], 
             "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox["M", 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                 SuperscriptBox["r", "2"]}]]}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", 
              FractionBox["M", 
               RowBox[{
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"2", " ", "M"}], "-", "r"}], ")"}], " ", 
                SuperscriptBox["r", "2"]}]], ",", "0", ",", "0"}], "}"}]}], 
           "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", 
              RowBox[{"-", 
               FractionBox[
                RowBox[{"2", " ", "M"}], "r"]}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", 
              FractionBox[
               RowBox[{"2", " ", "M"}], "r"], ",", "0"}], "}"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]}], 
         "}"}]}], "}"}]}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
        RowBox[{"{", 
         RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], 
      "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "1"}], "+", 
           FractionBox[
            RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], 
         "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", 
          FractionBox["1", 
           RowBox[{"1", "-", 
            FractionBox[
             RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], 
        ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", 
          SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", 
          RowBox[{
           SuperscriptBox["r", "2"], " ", 
           SuperscriptBox[
            RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], "}"}]}],
      ",", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
        RowBox[{"{", 
         RowBox[{"\<\"Up\"\>", ",", "\<\"Up\"\>"}], "}"}]}], "}"}], "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          FractionBox["r", 
           RowBox[{
            RowBox[{"2", " ", "M"}], "-", "r"}]], ",", "0", ",", "0", ",", 
          "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", 
          RowBox[{"1", "-", 
           FractionBox[
            RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", 
          FractionBox["1", 
           SuperscriptBox["r", "2"]], ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "0", ",", 
          FractionBox[
           SuperscriptBox[
            RowBox[{"Csc", "[", "\[Theta]", "]"}], "2"], 
           SuperscriptBox["r", "2"]]}], "}"}]}], "}"}]}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->"Out[24]=",ExpressionUUID->"2f87c8c8-93f6-4819-ad6f-37c7de8daed4"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Turning off caching", "Section",ExpressionUUID->"f536868a-1e79-4bb9-b5a4-e8e7042e5a2f"],

Cell["\<\
Note that simply re-setting $CacheTensorValues to False does not remove \
already cached values.\
\>", "Item",ExpressionUUID->"09dda9a7-05b3-41ff-9d63-67e843d65aed"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$CacheTensorValues", "=", "False"}], ";"}]], "Input",
 CellLabel->"In[25]:=",ExpressionUUID->"25592b74-19c5-462d-b34a-54e3e6ac9bc9"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"CachedTensorValues", "[", "gS", "]"}]], "Input",
 CellLabel->"In[26]:=",ExpressionUUID->"532ffd1a-63f5-4793-a1f9-6a3be8fa1dc5"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{"{", 
     RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
      RowBox[{"{", 
       RowBox[{"\<\"Down\"\>", ",", "\<\"Down\"\>"}], "}"}]}], "}"}], 
    "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "1"}], "+", 
         FractionBox[
          RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0", ",", "0"}], 
       "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", 
        FractionBox["1", 
         RowBox[{"1", "-", 
          FractionBox[
           RowBox[{"2", " ", "M"}], "r"]}]], ",", "0", ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", 
        SuperscriptBox["r", "2"], ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", "0", ",", 
        RowBox[{
         SuperscriptBox["r", "2"], " ", 
         SuperscriptBox[
          RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], "}"}]}], "}"}]}], 
   ",", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"\<\"SchwarzschildMetric\"\>", ",", 
      RowBox[{"{", 
       RowBox[{"\<\"Up\"\>", ",", "\<\"Up\"\>"}], "}"}]}], "}"}], "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        FractionBox["r", 
         RowBox[{
          RowBox[{"2", " ", "M"}], "-", "r"}]], ",", "0", ",", "0", ",", 
        "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", 
        RowBox[{"1", "-", 
         FractionBox[
          RowBox[{"2", " ", "M"}], "r"]}], ",", "0", ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", 
        FractionBox["1", 
         SuperscriptBox["r", "2"]], ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", "0", ",", 
        FractionBox[
         SuperscriptBox[
          RowBox[{"Csc", "[", "\[Theta]", "]"}], "2"], 
         SuperscriptBox["r", "2"]]}], "}"}]}], "}"}]}]}], "}"}]], "Output",
 CellLabel->"Out[26]=",ExpressionUUID->"edb5a1e0-7c8d-4641-98e7-5aac789ed96c"]
}, Open  ]],

Cell["Call ClearCachedTensorValues instead.", "Item",ExpressionUUID->"d83d348a-560c-423f-b871-06f4b51033d4"],

Cell[BoxData[
 RowBox[{"ClearCachedTensorValues", "[", "All", "]"}]], "Input",
 CellLabel->"In[30]:=",ExpressionUUID->"68fee5ab-fe36-4752-8b09-cf4b72078bb4"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"CachedTensorValues", "[", "All", "]"}]], "Input",
 CellLabel->"In[31]:=",ExpressionUUID->"5193e0df-1511-4f9a-8197-64782c9bafa3"],

Cell[BoxData[
 RowBox[{"{", "}"}]], "Output",
 CellLabel->"Out[31]=",ExpressionUUID->"f15c745c-9387-4873-bf8f-33a00f640ebf"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
},
WindowSize->{1680, 1005},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
FrontEndVersion->"11.3 for Mac OS X x86 (32-bit, 64-bit Kernel) (March 5, \
2018)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 121, 0, 98, "Title",ExpressionUUID->"de99949b-3d10-4c5d-b8c6-11a8cce924c2"],
Cell[704, 24, 198, 3, 35, "Text",ExpressionUUID->"92d6e2fb-ae7b-40c1-8a55-d2b78df182c6"],
Cell[905, 29, 124, 1, 30, "Input",ExpressionUUID->"cf537f83-b8eb-456d-a758-c68038441f99"],
Cell[CellGroupData[{
Cell[1054, 34, 106, 0, 67, "Section",ExpressionUUID->"ea21c2d9-5849-4c8b-9e67-ece8f3778b0b"],
Cell[CellGroupData[{
Cell[1185, 38, 160, 3, 32, "Item",ExpressionUUID->"57827f79-fdbf-4ae3-9574-2f506977192f"],
Cell[1348, 43, 187, 3, 32, "Item",ExpressionUUID->"aabf94ee-8cc3-4318-befe-4c458bd5e678"],
Cell[1538, 48, 83, 0, 32, "Item",ExpressionUUID->"58207c9e-3b3d-4924-aec4-6f9e66161445"]
}, Open  ]],
Cell[CellGroupData[{
Cell[1658, 53, 175, 3, 30, "Input",ExpressionUUID->"d4b49848-4671-451c-87fc-d39d41895026"],
Cell[1836, 58, 1570, 35, 60, "Output",ExpressionUUID->"95e08f44-83fa-4e25-8420-b26b60459b24"]
}, Open  ]],
Cell[3421, 96, 173, 3, 32, "Item",ExpressionUUID->"17ad14a0-9a73-4db9-860b-84049b17e7db"],
Cell[3597, 101, 1013, 27, 48, "DefinitionBox",ExpressionUUID->"ccf0f19f-de5b-4d11-9bd6-414cc6cae749",
 CellID->340746825],
Cell[4613, 130, 120, 0, 32, "Item",ExpressionUUID->"655704e3-6d0b-4ab4-90a2-88727921c1fd"],
Cell[CellGroupData[{
Cell[4758, 134, 174, 3, 30, "Input",ExpressionUUID->"a91e1d33-3cc0-4448-bab6-385a6a60b50d"],
Cell[4935, 139, 176, 4, 38, "Output",ExpressionUUID->"2d98ddcc-dd92-4a8a-8bd3-d9d82b15cdf4"]
}, Open  ]],
Cell[5126, 146, 143, 2, 32, "Item",ExpressionUUID->"d66a76e9-fbf6-44a6-b44e-b60b4786f8a2"],
Cell[CellGroupData[{
Cell[5294, 152, 147, 2, 30, "Input",ExpressionUUID->"d7080b45-7f43-4c46-b4f8-299c29cf8394"],
Cell[5444, 156, 812, 26, 58, "Output",ExpressionUUID->"69292dd9-bfdb-4d6a-ae7e-392217d9be93"]
}, Open  ]],
Cell[CellGroupData[{
Cell[6293, 187, 144, 2, 30, "Input",ExpressionUUID->"08431b0e-6231-4bac-84e3-5b6b679de95f"],
Cell[6440, 191, 812, 26, 58, "Output",ExpressionUUID->"189767ea-9061-466b-a944-51eebcc63eec"]
}, Open  ]],
Cell[7267, 220, 114, 0, 32, "Item",ExpressionUUID->"ebcb43fe-430f-4fe3-ad13-d0dc34c48532"],
Cell[CellGroupData[{
Cell[7406, 224, 519, 13, 30, "Input",ExpressionUUID->"494a3053-e697-442e-bc36-5ca194a70b90"],
Cell[7928, 239, 211, 5, 36, "Output",ExpressionUUID->"c277ff75-6eee-4103-85e9-965a8c99dcab"]
}, Open  ]],
Cell[8154, 247, 118, 0, 32, "Item",ExpressionUUID->"5a2f68bb-29f6-4cfe-aae0-2ca1e1e4c39e"],
Cell[CellGroupData[{
Cell[8297, 251, 202, 4, 30, "Input",ExpressionUUID->"b488e5ec-9264-46a9-9c71-301268fae4b1"],
Cell[8502, 257, 176, 4, 38, "Output",ExpressionUUID->"17a88b59-c2bd-4fd0-8c29-ce66eeb24db3"]
}, Open  ]],
Cell[8693, 264, 131, 0, 32, "Item",ExpressionUUID->"4509f1d1-52f4-4115-8976-a1e37112babb"],
Cell[CellGroupData[{
Cell[8849, 268, 148, 2, 30, "Input",ExpressionUUID->"0594b78c-ef2d-4e72-8a99-e7134723192b"],
Cell[9000, 272, 812, 26, 58, "Output",ExpressionUUID->"fcd94ccb-6fd5-4a60-b0a0-c5bde981ac37"]
}, Open  ]],
Cell[CellGroupData[{
Cell[9849, 303, 145, 2, 30, "Input",ExpressionUUID->"74095850-e25a-4d1c-9f9e-c57d3b0b86ba"],
Cell[9997, 307, 1008, 32, 61, "Output",ExpressionUUID->"3aaf907b-52df-46ef-bc42-c034e789714d"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[11054, 345, 95, 0, 67, "Section",ExpressionUUID->"28a377aa-e300-41ad-a194-46263816a2fa"],
Cell[CellGroupData[{
Cell[11174, 349, 86, 0, 54, "Subsection",ExpressionUUID->"a4a9939e-824e-40e7-8b87-d9e07cdecb82"],
Cell[CellGroupData[{
Cell[11285, 353, 150, 2, 32, "Item",ExpressionUUID->"d3565aca-a8f4-406e-ac18-81af663b442f"],
Cell[11438, 357, 186, 3, 32, "Item",ExpressionUUID->"09e604fc-c1a6-4d59-969a-eb600e403b65"]
}, Open  ]],
Cell[11639, 363, 387, 8, 28, "DefinitionBox",ExpressionUUID->"c5cdb2e0-c16b-4c8a-b1b2-575bb50e1723",
 CellID->2079569539],
Cell[12029, 373, 150, 2, 32, "Item",ExpressionUUID->"1ec0923d-874a-4dda-b01b-bc9b58bc4395"],
Cell[12182, 377, 988, 27, 48, "DefinitionBox",ExpressionUUID->"1a5e0c20-40e3-4101-bdb6-a0f8594b2741",
 CellID->1788114926],
Cell[13173, 406, 122, 0, 32, "Item",ExpressionUUID->"b843c550-1d20-4188-97b3-9bf4c7673e85"],
Cell[13298, 408, 697, 17, 48, "DefinitionBox",ExpressionUUID->"38184e92-11f8-4f4c-ad7d-3e91943410f2",
 CellID->71144484]
}, Open  ]],
Cell[CellGroupData[{
Cell[14032, 430, 85, 0, 54, "Subsection",ExpressionUUID->"6f2be462-d2cd-4daa-b248-f7c5a3cc7d33"],
Cell[CellGroupData[{
Cell[14142, 434, 100, 0, 45, "Subsubsection",ExpressionUUID->"0f8e3b4d-ba65-47de-b80f-13135de95640"],
Cell[14245, 436, 94, 0, 32, "Item",ExpressionUUID->"2f39a8c5-d226-4f5c-acfb-9c1b6ebe0b26"],
Cell[14342, 438, 166, 3, 30, "Input",ExpressionUUID->"0180fccf-7e01-4dc4-9f2b-9b9300a60632"],
Cell[14511, 443, 100, 0, 32, "Item",ExpressionUUID->"e9a7b59f-1890-4893-824e-0a3e584cdd99"],
Cell[CellGroupData[{
Cell[14636, 447, 152, 2, 30, "Input",ExpressionUUID->"abae86bf-919d-4444-bb35-a3e32629f808"],
Cell[14791, 451, 124, 2, 34, "Output",ExpressionUUID->"bc019be1-e782-4f75-9735-c4decd74bc4c"]
}, Open  ]],
Cell[14930, 456, 140, 2, 32, "Item",ExpressionUUID->"231cc9c2-28f6-4f11-815b-e33135ed1c27"],
Cell[CellGroupData[{
Cell[15095, 462, 145, 2, 30, "Input",ExpressionUUID->"19f168b7-bbe1-4c6c-b66f-c6e72fc89e92"],
Cell[15243, 466, 813, 26, 58, "Output",ExpressionUUID->"a08bf036-7ca4-47c2-b8a3-e3376a4870f5"]
}, Open  ]],
Cell[CellGroupData[{
Cell[16093, 497, 152, 2, 30, "Input",ExpressionUUID->"08b138e7-3393-441d-8d4a-f767e5c7cd25"],
Cell[16248, 501, 1121, 34, 58, "Output",ExpressionUUID->"8ead5d75-0118-406c-8395-c2d31e12b59d"]
}, Open  ]],
Cell[17384, 538, 148, 2, 32, "Item",ExpressionUUID->"bb8ee801-9400-4e4d-967a-4762db552480"],
Cell[CellGroupData[{
Cell[17557, 544, 156, 2, 30, "Input",ExpressionUUID->"022adc96-042e-4e2c-af85-7435d7357f3f"],
Cell[17716, 548, 2522, 71, 151, "Output",ExpressionUUID->"00ea475a-0995-4591-9e7b-7f4fa0c6c69f"]
}, Open  ]],
Cell[20253, 622, 222, 3, 32, "Item",ExpressionUUID->"ef9040cd-e8d8-4732-998e-09d0b79f1d97"]
}, Open  ]],
Cell[CellGroupData[{
Cell[20512, 630, 94, 0, 45, "Subsubsection",ExpressionUUID->"c48b8250-2691-45e3-897c-43694a083667"],
Cell[CellGroupData[{
Cell[20631, 634, 174, 3, 32, "Item",ExpressionUUID->"90758dbc-1f86-43de-be46-241524dd1184"],
Cell[20808, 639, 161, 3, 32, "Item",ExpressionUUID->"944864d4-e52e-4105-8cfa-348538da83cc"],
Cell[20972, 644, 191, 3, 32, "Item",ExpressionUUID->"4b3217a2-9660-41d3-97c5-c072a0b1e76a"]
}, Open  ]],
Cell[CellGroupData[{
Cell[21200, 652, 176, 3, 30, "Input",ExpressionUUID->"6fb7a70a-43e4-4210-bc39-c5cf793d66dc"],
Cell[21379, 657, 241, 6, 38, "Output",ExpressionUUID->"18357f2a-13d8-41ee-81ff-c14116876a23"]
}, Open  ]],
Cell[CellGroupData[{
Cell[21657, 668, 152, 2, 30, "Input",ExpressionUUID->"17a0076b-cadd-4b57-99f0-21704f6dd57c"],
Cell[21812, 672, 5994, 172, 229, "Output",ExpressionUUID->"b0d96114-8f3b-4d54-b84a-b2325a147013"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[27879, 852, 97, 0, 67, "Section",ExpressionUUID->"0532d428-079a-451c-939c-7b9ae506e3ef"],
Cell[CellGroupData[{
Cell[28001, 856, 169, 3, 32, "Item",ExpressionUUID->"cf5a38ba-fd9b-440b-9b6a-f8d8054718e5"],
Cell[28173, 861, 251, 4, 32, "Item",ExpressionUUID->"ae6fc6c3-b4c0-43f7-a29f-0a54245bb58d"]
}, Open  ]],
Cell[CellGroupData[{
Cell[28461, 870, 173, 3, 30, "Input",ExpressionUUID->"5762f35b-6072-48db-8626-296d1c82bdbb"],
Cell[28637, 875, 177, 4, 38, "Output",ExpressionUUID->"183e91cb-6890-41b1-babf-8f6366b951d0"]
}, Open  ]],
Cell[28829, 882, 108, 0, 32, "Item",ExpressionUUID->"cccc91fb-f77c-4799-9408-a52d85ef15ab"],
Cell[CellGroupData[{
Cell[28962, 886, 241, 5, 30, "Input",ExpressionUUID->"54518bc9-f3fe-4b21-80c0-f2c97238faad"],
Cell[29206, 893, 1990, 53, 77, "Output",ExpressionUUID->"8831c1ab-d744-4891-899d-bbaf1c38fac1"]
}, Open  ]],
Cell[31211, 949, 212, 3, 32, "Item",ExpressionUUID->"acbb5cea-9239-4795-839d-9fe455a33c5f"],
Cell[CellGroupData[{
Cell[31448, 956, 175, 3, 30, "Input",ExpressionUUID->"fc3b3d53-5737-45d0-ba83-b74071fd0833"],
Cell[31626, 961, 3738, 102, 76, "Output",ExpressionUUID->"3e50a3d7-6e72-4d1b-af5d-7870913f9ef7"]
}, Open  ]],
Cell[35379, 1066, 110, 0, 32, "Item",ExpressionUUID->"7dc5bd60-63e3-4b71-9b38-2b1cc1799cf8"],
Cell[CellGroupData[{
Cell[35514, 1070, 182, 3, 30, "Input",ExpressionUUID->"5ff0e4e5-ecf9-46d3-888c-bf9b991fab45"],
Cell[35699, 1075, 448, 11, 34, "Output",ExpressionUUID->"32ed4cd0-b254-49af-a32b-00c2d0db8f9d"]
}, Open  ]],
Cell[CellGroupData[{
Cell[36184, 1091, 224, 5, 32, "Item",ExpressionUUID->"ef983c33-a51d-4215-ad77-da5c4c997a16"],
Cell[36411, 1098, 118, 0, 32, "Item",ExpressionUUID->"1654268b-9ca0-4f1a-b807-379888985977"]
}, Open  ]],
Cell[36544, 1101, 513, 10, 48, "DefinitionBox",ExpressionUUID->"b8628d6b-b288-4212-a852-c3ed1de402ee",
 CellID->1128635629],
Cell[37060, 1113, 95, 0, 32, "Item",ExpressionUUID->"dd9bd108-00e2-439d-9ddf-ce2c9c01e2ba"],
Cell[37158, 1115, 157, 2, 30, "Input",ExpressionUUID->"281b6391-d935-4255-ac32-3ca0dbc22e40"],
Cell[37318, 1119, 127, 0, 32, "Item",ExpressionUUID->"3a394404-e212-41b0-abac-61c80fa03cd2"],
Cell[CellGroupData[{
Cell[37470, 1123, 247, 5, 30, "Input",ExpressionUUID->"7def92f5-193a-4a98-aba8-721869be8a5a"],
Cell[37720, 1130, 177, 4, 38, "Output",ExpressionUUID->"5a5b3d0c-6a6d-4226-97f2-3be00b4b7b6b"]
}, Open  ]],
Cell[37912, 1137, 116, 0, 32, "Item",ExpressionUUID->"97126a66-7902-4a79-a91f-995d6cf83f43"],
Cell[CellGroupData[{
Cell[38053, 1141, 147, 2, 30, "Input",ExpressionUUID->"7c88c331-5307-4614-b01e-942e7537bf80"],
Cell[38203, 1145, 448, 11, 34, "Output",ExpressionUUID->"cbe5224b-b1b0-42f0-a4bf-7baf0834869c"]
}, Open  ]],
Cell[38666, 1159, 144, 2, 32, "Item",ExpressionUUID->"4c8cce27-e945-479a-bad0-bebf34712e59"],
Cell[CellGroupData[{
Cell[38835, 1165, 152, 2, 30, "Input",ExpressionUUID->"cd918a5a-ce34-470d-96e1-fce0dda8aad3"],
Cell[38990, 1169, 34510, 899, 895, "Output",ExpressionUUID->"2f87c8c8-93f6-4819-ad6f-37c7de8daed4"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[73549, 2074, 93, 0, 67, "Section",ExpressionUUID->"f536868a-1e79-4bb9-b5a4-e8e7042e5a2f"],
Cell[73645, 2076, 175, 3, 32, "Item",ExpressionUUID->"09dda9a7-05b3-41ff-9d63-67e843d65aed"],
Cell[73823, 2081, 167, 3, 30, "Input",ExpressionUUID->"25592b74-19c5-462d-b34a-54e3e6ac9bc9"],
Cell[CellGroupData[{
Cell[74015, 2088, 151, 2, 30, "Input",ExpressionUUID->"532ffd1a-63f5-4793-a1f9-6a3be8fa1dc5"],
Cell[74169, 2092, 2049, 62, 103, "Output",ExpressionUUID->"edb5a1e0-7c8d-4641-98e7-5aac789ed96c"]
}, Open  ]],
Cell[76233, 2157, 108, 0, 32, "Item",ExpressionUUID->"d83d348a-560c-423f-b871-06f4b51033d4"],
Cell[76344, 2159, 157, 2, 30, "Input",ExpressionUUID->"68fee5ab-fe36-4752-8b09-cf4b72078bb4"],
Cell[CellGroupData[{
Cell[76526, 2165, 152, 2, 30, "Input",ExpressionUUID->"5193e0df-1511-4f9a-8197-64782c9bafa3"],
Cell[76681, 2169, 124, 2, 34, "Output",ExpressionUUID->"f15c745c-9387-4873-bf8f-33a00f640ebf"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}
]
*)

