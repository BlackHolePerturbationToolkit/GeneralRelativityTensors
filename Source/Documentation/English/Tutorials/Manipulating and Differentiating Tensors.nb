Notebook[{

Cell[CellGroupData[{
Cell["\<\
GeneralRelativityTensors - Tensor manipulation and differentiation\
\>", "Title",ExpressionUUID->"b531401a-aa01-41ce-9d70-75d1e22005e2"],

Cell["\<\
The GeneralRelativityTensors application provides functions for partial and \
covariant differentiation. Sums and products of Tensors can be computed in \
useful ways.\
\>", "Text",ExpressionUUID->"ab92a4fb-44f9-4226-b441-8267a8464e99"],

Cell[BoxData[
 RowBox[{"<<", 
  "GeneralRelativityTensors`"}]], \
"Input",ExpressionUUID->"4ee0227c-50f0-4594-9947-4b06ce5131bf"],

Cell[CellGroupData[{

Cell["Shifting Tensor indices", \
"Section",ExpressionUUID->"c98e13a9-3669-41b9-91d3-a60dc7a71b06"],

Cell["Indices are raised and lowered with ShiftIndices.", \
"Item",ExpressionUUID->"bf02443e-bef5-4b82-b08b-00d309d3a25b"],

Cell[BoxData[GridBox[{
   {
    RowBox[{
     ButtonBox["ShiftIndices",
      BaseStyle->"Link",
      ButtonData->"paclet:GeneralRelativityTensors/ref/ShiftIndices"], "[", 
     RowBox[{
      StyleBox["t", "TI"], 
      StyleBox[",", "TI",
       FontSlant->"Plain"], 
      StyleBox["inds",
       FontSlant->"Italic"]}], "]"}], Cell[TextData[{
     "puts the indices of Tensor ",
     StyleBox["t",
      FontFamily->"Times",
      FontWeight->"Regular",
      FontSlant->"Italic"],
     " in the positions of those in the List ",
     StyleBox["inds",
      FontFamily->"Times",
      FontWeight->"Regular",
      FontSlant->"Italic"]
    }], "TableText",ExpressionUUID->"721a1d68-d62f-47f5-9615-a99ce99e11ca"]}
  }]], "DefinitionBox",
 CellID->27847004,ExpressionUUID->"57240ae4-5733-48d9-bfce-7015b9e53988"],

Cell["\<\
Positive indices are contravariant. Negative indices are covariant.\
\>", "Item",ExpressionUUID->"aa26b41b-2133-4e43-b1c7-f67a47486b2d"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"gS", "=", 
  RowBox[{"ToMetric", "[", "\"\<Schwarzschild\>\"", "]"}]}]], "Input",
 CellLabel->"In[2]:=",ExpressionUUID->"213153ff-899f-4f9d-b6aa-b7bc43c95453"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["g", "\[Alpha]\[Beta]", ""],
  DisplayForm]], "Output",
 CellLabel->"Out[2]=",ExpressionUUID->"bf877434-ae33-491b-a0cf-b0e4943c5174"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"ShiftIndices", "[", 
  RowBox[{"gS", ",", 
   RowBox[{"{", 
    RowBox[{"\[Alpha]", ",", "\[Beta]"}], "}"}]}], "]"}]], "Input",
 CellLabel->"In[3]:=",ExpressionUUID->"358ac8c1-1ce3-4c3e-bf76-e5b36b84ca23"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["g", "", "\[Alpha]\[Beta]"],
  DisplayForm]], "Output",
 CellLabel->"Out[3]=",ExpressionUUID->"465d63af-c513-48ad-917a-725858f9d167"]
}, Open  ]],

Cell["\<\
It is usually easier to raise and lower indices with DownValues\
\>", "Item",ExpressionUUID->"d1de334e-5486-4363-9ce4-6b65b243c050"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"gS", "[", 
  RowBox[{"\[Alpha]", ",", "\[Beta]"}], "]"}]], "Input",
 CellLabel->"In[4]:=",ExpressionUUID->"ce7e7e1a-445a-49b0-b59f-2c343045c8bb"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["g", "", "\[Alpha]\[Beta]"],
  DisplayForm]], "Output",
 CellLabel->"Out[4]=",ExpressionUUID->"658f3f0e-cec6-457f-a911-d26d1797eed9"]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Internally the metric computes new values when indices are raised or lowered.\
\
\>", "Item",ExpressionUUID->"62c79ca5-799e-4b27-9522-9ff988c20c3f"],

Cell["\<\
By default the values computed by ShiftIndices are not simplified.\
\>", "Item",ExpressionUUID->"9ca7925b-6642-4e82-83fb-43202b03cb70"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"gS", "[", 
    RowBox[{"\[Alpha]", ",", 
     RowBox[{"-", "\[Beta]"}]}], "]"}], "//", "TensorValues"}], "//", 
  "MatrixForm"}]], "Input",
 CellLabel->"In[5]:=",ExpressionUUID->"d07eb3a3-494a-4de4-98d6-19a297cd44f6"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      FractionBox[
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{"-", "1"}], "+", 
          FractionBox[
           RowBox[{"2", " ", "M"}], "r"]}], ")"}], " ", "r"}], 
       RowBox[{
        RowBox[{"2", " ", "M"}], "-", "r"}]], "0", "0", "0"},
     {"0", "1", "0", "0"},
     {"0", "0", "1", "0"},
     {"0", "0", "0", "1"}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->
  "Out[5]//MatrixForm=",ExpressionUUID->"00001f19-8e64-4c4c-8e71-69ed26a9d5c6"]
}, Open  ]],

Cell["\<\
In order to act with a function on the values, call ShiftIndices explicitly \
and use the Option \[OpenCurlyDoubleQuote]ActWith\[CloseCurlyDoubleQuote].\
\>", "Item",ExpressionUUID->"aac5cbfb-323d-4fe3-aa29-f02f69e5e739"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ShiftIndices", "[", 
    RowBox[{"gS", ",", 
     RowBox[{"{", 
      RowBox[{"\[Alpha]", ",", 
       RowBox[{"-", "\[Beta]"}]}], "}"}], ",", 
     RowBox[{"ActWith", "\[Rule]", "Simplify"}]}], "]"}], "//", 
   "TensorValues"}], "//", "MatrixForm"}]], "Input",
 CellLabel->"In[6]:=",ExpressionUUID->"7b456d7e-4112-472b-9143-4242c21feaf9"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"1", "0", "0", "0"},
     {"0", "1", "0", "0"},
     {"0", "0", "1", "0"},
     {"0", "0", "0", "1"}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->
  "Out[6]//MatrixForm=",ExpressionUUID->"7e5f003c-5d9a-4397-a475-29692dc113a6"]
}, Open  ]],

Cell["\<\
A Tensor\[CloseCurlyQuote]s repeated indices are not traced out until \
ContractIndices or MergeTensors is called. See below.\
\>", "Item",ExpressionUUID->"6788eac5-edcc-4e24-b6ef-371e446dc3e2"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"gS", "[", 
     RowBox[{"\[Alpha]", ",", 
      RowBox[{"-", "\[Alpha]"}]}], "]"}], "//", "TensorValues"}], "//", 
   "Simplify"}], "//", "MatrixForm"}]], "Input",
 CellLabel->"In[7]:=",ExpressionUUID->"7f9c7416-5998-4305-a59a-15ffaa54771c"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"1", "0", "0", "0"},
     {"0", "1", "0", "0"},
     {"0", "0", "1", "0"},
     {"0", "0", "0", "1"}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->
  "Out[7]//MatrixForm=",ExpressionUUID->"daa32e77-af8c-4ede-9c94-9c99a8df5674"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Forming new Tensors with MergeTensors", \
"Section",ExpressionUUID->"59a5c80d-cb02-47c7-b877-4c29af59d040"],

Cell[CellGroupData[{

Cell["\<\
Often, we want to add or multiply Tensors. We may also want to trace out \
variables.\
\>", "Item",ExpressionUUID->"c725ef42-9386-4671-8278-ebe746da534e"],

Cell["\<\
The GeneralRelativityTensors application provides the following functions for \
performing the actions:\
\>", "Item",ExpressionUUID->"baa233db-5fc0-4c42-b703-c1f071b2a591"],

Cell[CellGroupData[{

Cell[TextData[ButtonBox["MultiplyTensors",
 BaseStyle->"Link",
 ButtonData->
  "paclet:GeneralRelativityTensors/ref/MultiplyTensors"]], \
"Subitem",ExpressionUUID->"fcfcbd6a-a977-4a97-9acb-85cc4dd3574c"],

Cell[TextData[ButtonBox["MultiplyTensorScalar",
 BaseStyle->"Link",
 ButtonData->
  "paclet:GeneralRelativityTensors/ref/MultiplyTensorScalar"]], \
"Subitem",ExpressionUUID->"cf820a3a-4cab-49fa-b9e6-6287f3aae4e6"],

Cell[TextData[ButtonBox["AddTensors",
 BaseStyle->"Link",
 ButtonData->
  "paclet:GeneralRelativityTensors/ref/AddTensors"]], \
"Subitem",ExpressionUUID->"240007ca-1408-47ae-b5fd-2c9efb1fedaa"],

Cell[TextData[ButtonBox["ContractIndices",
 BaseStyle->"Link",
 ButtonData->
  "paclet:GeneralRelativityTensors/ref/ContractIndices"]], \
"Subitem",ExpressionUUID->"a9f2da36-a61a-4aa0-99a8-de86185c5179"]
}, Open  ]],

Cell[TextData[{
 "Normally, however, it is simpler to just use ",
 StyleBox["MergeTensors",
  FontWeight->"Bold"],
 ", which calls each of these as sub-functions."
}], "Item",ExpressionUUID->"fa99260b-9ba9-4eb8-bfa5-dc04e5d16766"]
}, Open  ]],

Cell[BoxData[GridBox[{
   {
    RowBox[{
     ButtonBox["MergeTensors",
      BaseStyle->"Link",
      ButtonData->"paclet:GeneralRelativityTensors/ref/MergeTensors"], "[", 
     StyleBox["expr", "TI"], "]"}], Cell["\<\
adds and multiplies Tensors, and then traces over repeated indices, returning \
one Tensor\
\>", "TableText",ExpressionUUID->"f6b156ef-6ac2-4646-a8fc-d7ca6ae3a9c7"]}
  }]], "DefinitionBox",
 CellID->1334,ExpressionUUID->"4272f0c8-e034-488e-80bd-c17a955e7ee5"],

Cell["\<\
MergeTensors has the following useful Options, which each have the default \
value of Identity.\
\>", "Item",ExpressionUUID->"7f1e90b2-6c92-4f18-958d-1c42119700e5"],

Cell[BoxData[GridBox[{
   {"ActWith", Cell["\<\
applies the Option value (a function) to each of the elements of the Tensor \
that MergeTensors forms\
\>", "TableText",ExpressionUUID->"cd7d2837-8afe-43b0-8e54-770a6c7080cc"]},
   {"ActWithNested", Cell["\<\
same as ActWith, but the function is also passed to functions that \
MergeTensors calls internally\
\>", "TableText",ExpressionUUID->"880411e8-565e-402b-88cb-13679edc44be"]}
  }]], "DefinitionBox",
 CellID->1128635629,ExpressionUUID->"5f73487f-e801-4b5d-b34f-54627ad4d150"],

Cell[CellGroupData[{

Cell["These same options are available in many functions.", \
"Item",ExpressionUUID->"e0bd561f-16d2-4106-924f-3291641ca834"],

Cell["ActWithNested can be useful for large expressions.", \
"Item",ExpressionUUID->"c11ee543-475f-4bff-b212-ba5e41865594"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Example", \
"Subsection",ExpressionUUID->"d8d7d8d0-c0cc-4c36-bf86-a0a2587d6eb6"],

Cell[CellGroupData[{

Cell["\<\
Let\[CloseCurlyQuote]s check that the Einstein Tensor vanishes in the \
Schwarzschild spacetime\
\>", "Item",ExpressionUUID->"bd2cdd39-61e1-4f19-b72a-75150176f417"],

Cell["\<\
First compute the Ricci Tensor and Scalar from the metric, and then form the \
trace-reverse of the Ricci Tensor.\
\>", "Item",ExpressionUUID->"c4a94110-276e-4c65-b306-c5ee8f4680e0"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"ricTS", "=", 
  RowBox[{"RicciTensor", "[", "gS", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"ricSS", "=", 
  RowBox[{"RicciScalar", "[", "gS", "]"}]}]}], "Input",
 CellLabel->"In[8]:=",ExpressionUUID->"771baacf-cc02-4d96-b151-85cf442bcef4"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["R", "\[Beta]\[Gamma]", ""],
  DisplayForm]], "Output",
 CellLabel->"Out[8]=",ExpressionUUID->"7ede506d-068b-41e5-88bd-27c8ef1e3520"],

Cell[BoxData[
 TagBox["\<\"R\"\>",
  DisplayForm]], "Output",
 CellLabel->"Out[9]=",ExpressionUUID->"7a32a8ce-e4bd-419f-a868-4c0a5cd0ce28"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"einSExpr", "=", 
  RowBox[{
   RowBox[{"ricTS", "[", 
    RowBox[{
     RowBox[{"-", "\[Alpha]"}], ",", 
     RowBox[{"-", "\[Beta]"}]}], "]"}], "-", 
   RowBox[{
    RowBox[{"gS", "[", 
     RowBox[{
      RowBox[{"-", "\[Alpha]"}], ",", 
      RowBox[{"-", "\[Beta]"}]}], "]"}], " ", 
    RowBox[{"ricSS", "/", "2"}]}]}]}]], "Input",
 CellLabel->"In[10]:=",ExpressionUUID->"71c72dc2-7f9a-4fc9-b1d1-e0f22ee459af"],

Cell[BoxData[
 RowBox[{
  TagBox[
   SubsuperscriptBox["R", "\[Alpha]\[Beta]", ""],
   DisplayForm], "-", 
  FractionBox[
   RowBox[{
    TagBox["\<\"R\"\>",
     DisplayForm], " ", 
    TagBox[
     SubsuperscriptBox["g", "\[Alpha]\[Beta]", ""],
     DisplayForm]}], "2"]}]], "Output",
 CellLabel->
  "Out[10]=",ExpressionUUID->"18f0b0e1-9552-4339-bd86-d5c2f7c40cf6"]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
This expression is not yet a Tensor, but rather the sum and product of three \
different Tensors, along with the number 1/2. \
\>", "Item",ExpressionUUID->"2d57a4c5-37de-4518-81b9-720cd21cb77d"],

Cell["We combine them together with the MergeTensors.", \
"Item",ExpressionUUID->"9d6bdfbd-4278-4e47-b624-19588443b314"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"einS", "=", 
  RowBox[{"MergeTensors", "[", 
   RowBox[{"einSExpr", ",", 
    RowBox[{"{", 
     RowBox[{"\"\<EinsteinSchwarzschild\>\"", ",", "\"\<G\>\""}], "}"}], ",", 
    
    RowBox[{"ActWith", "\[Rule]", "Simplify"}]}], "]"}]}]], "Input",
 CellLabel->"In[11]:=",ExpressionUUID->"d7bcf223-a102-4121-8b00-dc819ba8f7a3"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["G", "\[Alpha]\[Beta]", ""],
  DisplayForm]], "Output",
 CellLabel->
  "Out[11]=",ExpressionUUID->"74b8efee-3697-4aa2-98ea-b1a75202c654"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"einS", "//", "TensorValues"}]], "Input",
 CellLabel->"In[12]:=",ExpressionUUID->"e021cef1-4e34-47fa-b5a4-a60d37c9bf8a"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]], "Output",
 CellLabel->
  "Out[12]=",ExpressionUUID->"0fa43416-3ece-4e7c-b772-12528f729fe9"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Errors to avoid", \
"Subsection",ExpressionUUID->"ef8184c4-57b4-4dfa-a02e-be817efdc9f4"],

Cell[CellGroupData[{

Cell["The normal rules of index gymnastics must be followed.", \
"Item",ExpressionUUID->"7c4fe322-42c5-4327-a092-d2ba644dacc2"],

Cell["Only Tensors with same indices may be summed.", \
"Subitem",ExpressionUUID->"96b4d7a6-0eb2-40e4-b526-65cd1030f434"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"errorExpr1", "=", 
  RowBox[{
   RowBox[{"ricTS", "[", 
    RowBox[{"\[Alpha]", ",", "\[Beta]"}], "]"}], "+", 
   RowBox[{"ricTS", "[", 
    RowBox[{"\[Beta]", ",", "\[Gamma]"}], "]"}]}]}]], "Input",
 CellLabel->"In[13]:=",ExpressionUUID->"70d688ae-f999-4b76-9d12-787a49c4dbb5"],

Cell[BoxData[
 RowBox[{
  TagBox[
   SubsuperscriptBox["R", "", "\[Alpha]\[Beta]"],
   DisplayForm], "+", 
  TagBox[
   SubsuperscriptBox["R", "", "\[Beta]\[Gamma]"],
   DisplayForm]}]], "Output",
 CellLabel->
  "Out[13]=",ExpressionUUID->"098f5ece-ae64-4085-8cbb-c003671327ee"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"MergeTensors", "[", "errorExpr1", "]"}]], "Input",
 CellLabel->"In[14]:=",ExpressionUUID->"ef3cd1a0-deee-4a13-90aa-24b79e20d45f"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"Cannot add Tensors with different indices, \"\>", 
   "\[InvisibleSpace]", 
   RowBox[{"{", 
    RowBox[{"\[Alpha]", ",", "\[Beta]"}], "}"}], 
   "\[InvisibleSpace]", "\<\" and \"\>", "\[InvisibleSpace]", 
   RowBox[{"{", 
    RowBox[{"\[Beta]", ",", "\[Gamma]"}], "}"}]}],
  SequenceForm[
  "Cannot add Tensors with different indices, ", {$CellContext`\[Alpha], \
$CellContext`\[Beta]}, " and ", {$CellContext`\[Beta], $CellContext`\[Gamma]}],
  Editable->False]], "Print",
 CellLabel->
  "During evaluation of \
In[14]:=",ExpressionUUID->"b3b16591-1ee1-4467-8aad-b67c9807eb20"],

Cell[BoxData["$Aborted"], "Output",
 CellLabel->
  "Out[14]=",ExpressionUUID->"5d9f20c8-bae2-48b1-a686-c823357ca2bb"]
}, Open  ]],

Cell["\<\
An index may be repeated only once, and it must be up once and down once\
\>", "Subitem",ExpressionUUID->"341aa07a-8624-4bfd-885a-0c8bd803e40b"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"rieS", "=", 
  RowBox[{"RiemannTensor", "[", "gS", "]"}]}]], "Input",
 CellLabel->"In[15]:=",ExpressionUUID->"1a7a6e3c-0d04-431a-9502-497653479497"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["R", 
   RowBox[{"  ", "\[Beta]\[Gamma]\[Delta]"}], 
   RowBox[{"\[Alpha]", "      "}]],
  DisplayForm]], "Output",
 CellLabel->
  "Out[15]=",ExpressionUUID->"6e5f4275-4075-40e8-88ab-69927839abf0"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"rieS", "[", 
  RowBox[{"\[Alpha]", ",", 
   RowBox[{"-", "\[Beta]"}], ",", 
   RowBox[{"-", "\[Alpha]"}], ",", 
   RowBox[{"-", "\[Alpha]"}]}], "]"}]], "Input",
 CellLabel->"In[16]:=",ExpressionUUID->"d55382ab-a7f4-40a2-b88f-01cb5f636254"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"The following indices were repeated more than twice: \"\>", 
   "\[InvisibleSpace]", 
   RowBox[{"{", "\[Alpha]", "}"}]}],
  SequenceForm[
  "The following indices were repeated more than twice: ", {$CellContext`\
\[Alpha]}],
  Editable->False]], "Print",
 CellLabel->
  "During evaluation of \
In[16]:=",ExpressionUUID->"b0b615d5-d260-4fdf-bd0d-306926126a58"],

Cell[BoxData["$Aborted"], "Output",
 CellLabel->
  "Out[16]=",ExpressionUUID->"c79d9bff-4628-46df-8dd6-47f191280888"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"rieS", "[", 
  RowBox[{"\[Gamma]", ",", 
   RowBox[{"-", "\[Beta]"}], ",", 
   RowBox[{"-", "\[Alpha]"}], ",", 
   RowBox[{"-", "\[Alpha]"}]}], "]"}]], "Input",
 CellLabel->"In[17]:=",ExpressionUUID->"97f2dea5-602d-4137-aace-8b63efc5f735"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"The following indices were given in the same position (both up \
or both down): \"\>", "\[InvisibleSpace]", 
   RowBox[{"{", "\[Alpha]", "}"}]}],
  SequenceForm[
  "The following indices were given in the same position (both up or both \
down): ", {$CellContext`\[Alpha]}],
  Editable->False]], "Print",
 CellLabel->
  "During evaluation of \
In[17]:=",ExpressionUUID->"0d388e7a-a413-465f-b357-ef0d77506506"],

Cell[BoxData["$Aborted"], "Output",
 CellLabel->
  "Out[17]=",ExpressionUUID->"f3a6705e-3311-49ba-8d69-b66b4428c06a"]
}, Open  ]],

Cell["Tensors with different metrics cannot be combined", \
"Subitem",ExpressionUUID->"264b17fe-19cd-4f52-9d56-0af3e32c68ce"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"gRN", "=", 
  RowBox[{"ToMetric", "[", "\"\<ReissnerNordstrom\>\"", "]"}]}]], "Input",
 CellLabel->"In[18]:=",ExpressionUUID->"5588779c-b8e9-4e94-a0eb-0874ec4ae472"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["g", "\[Alpha]\[Beta]", ""],
  DisplayForm]], "Output",
 CellLabel->
  "Out[18]=",ExpressionUUID->"47557715-4710-400a-afcf-4838ab23f04f"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"MergeTensors", "[", 
  RowBox[{"gRN", "+", "gS"}], "]"}]], "Input",
 CellLabel->"In[19]:=",ExpressionUUID->"5fe9518f-0a9a-4cfe-ab65-1076d7340161"],

Cell[BoxData["\<\"Cannot sum Tensors with different metrics.\"\>"], "Print",
 CellLabel->
  "During evaluation of \
In[19]:=",ExpressionUUID->"39920547-0635-4c2e-bef9-5fbbdd5fe24d"],

Cell[BoxData["$Aborted"], "Output",
 CellLabel->
  "Out[19]=",ExpressionUUID->"bfe8ea8e-a923-4660-a393-b7cd58c13a20"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Reordering Tensor indices", \
"Section",ExpressionUUID->"80102ba9-4be1-405d-8cf6-e7ea7281d4fe"],

Cell[CellGroupData[{

Cell["General principles and using MergeTensors", \
"Subsection",ExpressionUUID->"3e805a32-ac14-4934-ab4a-ac646721a10e"],

Cell[CellGroupData[{

Cell["\<\
When a Tensor is shown in a notebook it has formatted output with indices.\
\>", "Item",ExpressionUUID->"6309a5d3-a9d7-4f3d-a242-c3368c3199d1"],

Cell[TextData[{
 "For instance, consider the field strength tensor for the ",
 StyleBox["Reissner",
  IgnoreSpellCheck->True],
 "-Nordstr\[ODoubleDot]m spacetime."
}], "Item",ExpressionUUID->"5a83bfbb-17f0-4e77-95f9-5a7ddbfbcdd3"],

Cell["It is a rank-2 antisymmetric Tensor.", \
"Item",ExpressionUUID->"e9d6dcee-06a9-4dc5-94d3-e27dc769aac9"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"fsRN", "=", 
  RowBox[{"FieldStrengthTensor", "[", "\"\<RN\>\"", "]"}]}]], "Input",
 CellLabel->"In[20]:=",ExpressionUUID->"6fe46053-61f8-4e7d-af6c-c7f8bb01642a"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["F", "\[Alpha]\[Beta]", ""],
  DisplayForm]], "Output",
 CellLabel->
  "Out[20]=",ExpressionUUID->"e87af3ee-dd1b-4509-a6d4-ca2ac0f3a2dc"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"fsRN", "//", "TensorValues"}], "//", "MatrixForm"}]], "Input",
 CellLabel->"In[21]:=",ExpressionUUID->"54b74146-5ccf-45ad-889f-aff889ff8b92"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"0", 
      RowBox[{"-", 
       FractionBox["Q", 
        SuperscriptBox["r", "2"]]}], "0", "0"},
     {
      FractionBox["Q", 
       SuperscriptBox["r", "2"]], "0", "0", "0"},
     {"0", "0", "0", "0"},
     {"0", "0", "0", "0"}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->
  "Out[21]//MatrixForm=",ExpressionUUID->"2f9bde6d-143b-4d90-b55f-\
f7387d5e6617"]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Those specific indices are arbitrary until they are traced over or used in an \
operation with another Tensor\
\>", "Item",ExpressionUUID->"09ba80fc-4129-4e44-a8c7-c082958f5c1b"],

Cell["\<\
That is, simply writing the following will not change the Tensor\
\[CloseCurlyQuote]s values internally, even though the order of the two \
indices has changed\
\>", "Item",ExpressionUUID->"8f2d59e3-96f3-4560-8276-acc59c99c877"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"fsRN", "[", 
  RowBox[{
   RowBox[{"-", "\[Beta]"}], ",", 
   RowBox[{"-", "\[Alpha]"}]}], "]"}]], "Input",
 CellLabel->"In[22]:=",ExpressionUUID->"bb4a44d9-feb3-4b71-b1f8-c21963886c79"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["F", "\[Beta]\[Alpha]", ""],
  DisplayForm]], "Output",
 CellLabel->
  "Out[22]=",ExpressionUUID->"d12b2c0b-5002-459d-9ca2-2f6cb4799183"]
}, Open  ]],

Cell["\<\
See this by calling TensorValues on the two versions of the Tensor.\
\>", "Item",ExpressionUUID->"010451c3-8ebe-4b4a-a330-9fc562de28f9"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"TensorValues", "[", 
   RowBox[{"fsRN", "[", 
    RowBox[{
     RowBox[{"-", "\[Alpha]"}], ",", 
     RowBox[{"-", "\[Beta]"}]}], "]"}], "]"}], "-", 
  RowBox[{"TensorValues", "[", 
   RowBox[{"fsRN", "[", 
    RowBox[{
     RowBox[{"-", "\[Beta]"}], ",", 
     RowBox[{"-", "\[Alpha]"}]}], "]"}], "]"}]}]], "Input",
 CellLabel->"In[23]:=",ExpressionUUID->"6118b9e7-7ce1-41d6-a507-986985aa3f7e"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]], "Output",
 CellLabel->
  "Out[23]=",ExpressionUUID->"71582a5e-1323-42bc-a9c0-dc59f606bc33"]
}, Open  ]],

Cell["\<\
However, If we first combine them into one Tensor, using MergeTensors, we do \
see an effect.\
\>", "Item",ExpressionUUID->"66a28979-fb17-449d-9303-8bfae2e26f62"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"TensorValues", "[", 
  RowBox[{"MergeTensors", "[", 
   RowBox[{
    RowBox[{"fsRN", "[", 
     RowBox[{
      RowBox[{"-", "\[Alpha]"}], ",", 
      RowBox[{"-", "\[Beta]"}]}], "]"}], "-", 
    RowBox[{"fsRN", "[", 
     RowBox[{
      RowBox[{"-", "\[Beta]"}], ",", 
      RowBox[{"-", "\[Alpha]"}]}], "]"}]}], "]"}], "]"}]], "Input",
 CellLabel->"In[24]:=",ExpressionUUID->"d437d080-d22b-43ba-ac05-d6a782f160ab"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"0", ",", 
     RowBox[{"-", 
      FractionBox[
       RowBox[{"2", " ", "Q"}], 
       SuperscriptBox["r", "2"]]}], ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     FractionBox[
      RowBox[{"2", " ", "Q"}], 
      SuperscriptBox["r", "2"]], ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]], "Output",
 CellLabel->
  "Out[24]=",ExpressionUUID->"5fe3c207-c2e6-41c1-9410-efc812a4825d"]
}, Open  ]],

Cell["Of course, the field strength tensor is antisymmetric so:", \
"Item",ExpressionUUID->"d361df54-e329-427f-8fc7-81b340f4abb9"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"TensorValues", "[", 
  RowBox[{"MergeTensors", "[", 
   RowBox[{
    RowBox[{"fsRN", "[", 
     RowBox[{
      RowBox[{"-", "\[Alpha]"}], ",", 
      RowBox[{"-", "\[Beta]"}]}], "]"}], "+", 
    RowBox[{"fsRN", "[", 
     RowBox[{
      RowBox[{"-", "\[Beta]"}], ",", 
      RowBox[{"-", "\[Alpha]"}]}], "]"}]}], "]"}], "]"}]], "Input",
 CellLabel->"In[25]:=",ExpressionUUID->"09b76e6f-7ef1-4a67-975b-e8f821de0938"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]], "Output",
 CellLabel->
  "Out[25]=",ExpressionUUID->"0074f3e5-2506-4ed4-818a-942b9a7665b1"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Using ReorderTensorIndices", \
"Subsection",ExpressionUUID->"d9633b46-ee93-4b3b-8144-b5cd4f0928ff"],

Cell[CellGroupData[{

Cell["\<\
Sometimes it is useful to just change the order of one Tensor\
\[CloseCurlyQuote]s indices.\
\>", "Item",ExpressionUUID->"a0869f9f-cdf1-45b3-9b88-8949fb7180b2"],

Cell["This is done with the function ReorderTensorIndices", \
"Item",ExpressionUUID->"b80ae8af-b515-45ec-8243-ded7d03a2774"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"?", "ReorderTensorIndices"}]], "Input",
 CellLabel->"In[26]:=",ExpressionUUID->"5d636c7a-bc35-44b1-994b-e0e4f865ddd9"],

Cell[BoxData[
 RowBox[{"\<\"ReorderTensorIndices[t,order,n] returns the Tensor t renamed n \
with its indices reordered as given by order, which is a List including all \
integers from 1 to the rank of the Tensor.\\nReorderTensorIndices[t,order] is \
equivalent, but with an automatically generated name for the new Tensor.\"\>",
   "\[NonBreakingSpace]", 
  ButtonBox[
   StyleBox["\[RightSkeleton]", "SR"],
   Active->True,
   BaseStyle->"Link",
   ButtonData->
    "paclet:Tensors/ref/ReorderTensorIndices"]}]], "Print", \
"PrintUsage",ExpressionUUID->"5878f9fb-e905-4cf8-92c9-930a517a9e76"]
}, Open  ]],

Cell["For instance, we can take the Transpose of fsRN with", \
"Item",ExpressionUUID->"c2684607-0eca-442f-930a-66f5df42e307"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"fsRNT", "=", 
  RowBox[{"ReorderTensorIndices", "[", 
   RowBox[{"fsRN", ",", 
    RowBox[{"{", 
     RowBox[{"2", ",", "1"}], "}"}]}], "]"}]}]], "Input",
 CellLabel->"In[27]:=",ExpressionUUID->"10b9712d-d75a-4c9d-ad0a-8952955bef93"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["F", "\[Beta]\[Alpha]", ""],
  DisplayForm]], "Output",
 CellLabel->
  "Out[27]=",ExpressionUUID->"fab50bd6-fad3-4218-afe6-f9b0af189570"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"fsRNT", "//", "TensorValues"}], "//", "MatrixForm"}]], "Input",
 CellLabel->"In[28]:=",ExpressionUUID->"087a7cc9-739e-4a7f-ba60-fb2aa4bb072d"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"0", 
      FractionBox["Q", 
       SuperscriptBox["r", "2"]], "0", "0"},
     {
      RowBox[{"-", 
       FractionBox["Q", 
        SuperscriptBox["r", "2"]]}], "0", "0", "0"},
     {"0", "0", "0", "0"},
     {"0", "0", "0", "0"}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->
  "Out[28]//MatrixForm=",ExpressionUUID->"76c910bd-d227-4c35-90bf-\
5c9cd6a2a669"]
}, Open  ]],

Cell["\<\
ReorderTensorIndices can perform larger reorderings. Here we swap the indices \
in positions 1 and 2 with those in 3 and 4 in the Schwarzschild Riemann Tensor\
\>", "Item",ExpressionUUID->"6986519a-63f9-4ccc-ab1f-4dda3f9c4ad0"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"rieS", "=", 
  RowBox[{"RiemannTensor", "[", 
   RowBox[{"gS", ",", 
    RowBox[{"ActWith", "\[Rule]", "Simplify"}]}], "]"}]}]], "Input",
 CellLabel->"In[29]:=",ExpressionUUID->"4c85ae3b-09f4-4510-9d51-606330dcd963"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["R", 
   RowBox[{"  ", "\[Beta]\[Gamma]\[Delta]"}], 
   RowBox[{"\[Alpha]", "      "}]],
  DisplayForm]], "Output",
 CellLabel->
  "Out[29]=",ExpressionUUID->"8f234a42-eacb-4699-9e02-211b5fe7b9b1"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"rieSSwap", "=", 
  RowBox[{"ReorderTensorIndices", "[", 
   RowBox[{
    RowBox[{"rieS", "[", 
     RowBox[{
      RowBox[{"-", "\[Alpha]"}], ",", 
      RowBox[{"-", "\[Beta]"}], ",", 
      RowBox[{"-", "\[Gamma]"}], ",", 
      RowBox[{"-", "\[Delta]"}]}], "]"}], ",", 
    RowBox[{"{", 
     RowBox[{"3", ",", "4", ",", "1", ",", "2"}], "}"}]}], "]"}]}]], "Input",
 CellLabel->"In[30]:=",ExpressionUUID->"ae3a5f1a-8963-47fe-be8b-2a6bc2b463ff"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["R", "\[Gamma]\[Delta]\[Alpha]\[Beta]", ""],
  DisplayForm]], "Output",
 CellLabel->
  "Out[30]=",ExpressionUUID->"91cae19a-36bd-4b56-bc8c-acd497560201"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"TensorValues", "[", "rieSSwap", "]"}], "-", 
   RowBox[{"TensorValues", "@", 
    RowBox[{"rieS", "[", 
     RowBox[{
      RowBox[{"-", "\[Alpha]"}], ",", 
      RowBox[{"-", "\[Beta]"}], ",", 
      RowBox[{"-", "\[Gamma]"}], ",", 
      RowBox[{"-", "\[Delta]"}]}], "]"}]}]}], "//", "Simplify"}]], "Input",
 CellLabel->"In[31]:=",ExpressionUUID->"14404bf4-fd97-407c-9276-e97166a4915d"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]}], 
    "}"}]}], "}"}]], "Output",
 CellLabel->
  "Out[31]=",ExpressionUUID->"7c021f57-4c5f-4cae-9ab9-814f3a4c1e56"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Partial derivatives", \
"Section",ExpressionUUID->"7d4eb27c-39a7-4505-9584-a3be98ead041"],

Cell[CellGroupData[{

Cell["Derivatives with respect to spacetime coordinates", \
"Subsection",ExpressionUUID->"54fe85d2-ada1-487e-bc6a-59535350e8e8"],

Cell["D is overloaded to take derivatives with respect to indices", \
"Item",ExpressionUUID->"f439ef83-2285-4047-994c-98c6186879ff"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"gSDiv", "=", 
  RowBox[{"D", "[", 
   RowBox[{
    RowBox[{"gS", "[", 
     RowBox[{"\[Alpha]", ",", "\[Beta]"}], "]"}], ",", 
    RowBox[{"-", "\[Alpha]"}]}], "]"}]}]], "Input",
 CellLabel->"In[32]:=",ExpressionUUID->"63b5f9a6-e49b-4bcb-9e51-372c440e3b5a"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox[
   RowBox[{"(", 
    RowBox[{"\[PartialD]", "g"}], ")"}], 
   RowBox[{"\[Alpha]", "    "}], 
   RowBox[{"  ", "\[Alpha]\[Beta]"}]],
  DisplayForm]], "Output",
 CellLabel->
  "Out[32]=",ExpressionUUID->"fb75b3eb-e766-457d-82d6-39ed08e16483"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"gSDiv", "//", "TensorValues"}], "//", "Simplify"}]], "Input",
 CellLabel->"In[33]:=",ExpressionUUID->"c7df298c-3d7c-4035-82d9-40e2c758dea9"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       FractionBox[
        RowBox[{"2", " ", "M"}], 
        SuperscriptBox[
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "2"}], " ", "M"}], "+", "r"}], ")"}], "2"]], ",", 
       "0", ",", "0", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", 
       FractionBox[
        RowBox[{"2", " ", "M"}], 
        SuperscriptBox["r", "2"]], ",", "0", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", 
       RowBox[{"-", 
        FractionBox["2", 
         SuperscriptBox["r", "3"]]}], ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", 
       RowBox[{"-", 
        FractionBox[
         RowBox[{"2", " ", 
          SuperscriptBox[
           RowBox[{"Csc", "[", "\[Theta]", "]"}], "2"]}], 
         SuperscriptBox["r", "3"]]}]}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", 
       RowBox[{"-", 
        FractionBox[
         RowBox[{"2", " ", 
          RowBox[{"Cot", "[", "\[Theta]", "]"}], " ", 
          SuperscriptBox[
           RowBox[{"Csc", "[", "\[Theta]", "]"}], "2"]}], 
         SuperscriptBox["r", "2"]]}]}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->
  "Out[33]=",ExpressionUUID->"dff4a689-48b3-42c5-a518-68a14ed86dab"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Derivatives with respect to a curve parameter", \
"Subsection",ExpressionUUID->"eb843e47-5610-4cf1-be4c-22e03ee67390"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"uS", "=", 
  RowBox[{
  "FourVelocityVector", "[", "\"\<SchwarzschildGeneric\>\"", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"uS", "//", 
  "TensorValues"}]}], \
"Input",ExpressionUUID->"de1d2a76-f9f2-4b0b-8c90-051d7967458b"],

Cell[BoxData[
 TagBox[
  RowBox[{
   SubsuperscriptBox["u", "", "\[Alpha]"], "[", "\<\"\[Tau]\"\>", "]"}],
  DisplayForm]], "Output",
 CellLabel->"Out[34]=",ExpressionUUID->"a1d4d224-b1b5-4ce6-9f20-6edf48e4025e"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   FractionBox["\[ScriptCapitalE]", 
    RowBox[{"1", "-", 
     FractionBox[
      RowBox[{"2", " ", "M"}], 
      RowBox[{"r", "[", "\[Tau]", "]"}]]}]], ",", 
   SqrtBox[
    RowBox[{
     SuperscriptBox["\[ScriptCapitalE]", "2"], "-", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"1", "+", 
        FractionBox[
         SuperscriptBox["\[ScriptCapitalJ]", "2"], 
         SuperscriptBox[
          RowBox[{"r", "[", "\[Tau]", "]"}], "2"]]}], ")"}], " ", 
      RowBox[{"(", 
       RowBox[{"1", "-", 
        FractionBox[
         RowBox[{"2", " ", "M"}], 
         RowBox[{"r", "[", "\[Tau]", "]"}]]}], ")"}]}]}]], ",", "0", ",", 
   FractionBox["\[ScriptCapitalJ]", 
    SuperscriptBox[
     RowBox[{"r", "[", "\[Tau]", "]"}], "2"]]}], "}"}]], "Output",
 CellLabel->
  "Out[35]=",ExpressionUUID->"23e1804b-d824-4e82-81a8-410a91be75bd"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"uSdiv", "=", 
  RowBox[{"D", "[", 
   RowBox[{"uS", ",", "\[Tau]"}], "]"}]}]], "Input",
 CellLabel->"In[36]:=",ExpressionUUID->"896e0370-05bd-47c0-9b3b-ea457237b65e"],

Cell[BoxData[
 TagBox[
  RowBox[{
   SubsuperscriptBox[
    RowBox[{"(", 
     RowBox[{"du", "/", "d\[Tau]"}], ")"}], "", "\[Alpha]"], 
   "[", "\<\"\[Tau]\"\>", "]"}],
  DisplayForm]], "Output",
 CellLabel->
  "Out[36]=",ExpressionUUID->"c2057bee-4c82-4c36-8332-74ba57cabda4"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"uSdiv", "//", "TensorValues"}], "//", "Simplify"}]], "Input",
 CellLabel->"In[37]:=",ExpressionUUID->"99f0ed97-65ef-481f-892f-531753020ebb"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"-", 
    FractionBox[
     RowBox[{"2", " ", "M", " ", "\[ScriptCapitalE]", " ", 
      RowBox[{
       SuperscriptBox["r", "\[Prime]",
        MultilineFunction->None], "[", "\[Tau]", "]"}]}], 
     SuperscriptBox[
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "2"}], " ", "M"}], "+", 
        RowBox[{"r", "[", "\[Tau]", "]"}]}], ")"}], "2"]]}], ",", 
   RowBox[{"-", 
    FractionBox[
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"3", " ", "M", " ", 
         SuperscriptBox["\[ScriptCapitalJ]", "2"]}], "-", 
        RowBox[{
         SuperscriptBox["\[ScriptCapitalJ]", "2"], " ", 
         RowBox[{"r", "[", "\[Tau]", "]"}]}], "+", 
        RowBox[{"M", " ", 
         SuperscriptBox[
          RowBox[{"r", "[", "\[Tau]", "]"}], "2"]}]}], ")"}], " ", 
      RowBox[{
       SuperscriptBox["r", "\[Prime]",
        MultilineFunction->None], "[", "\[Tau]", "]"}]}], 
     RowBox[{
      SuperscriptBox[
       RowBox[{"r", "[", "\[Tau]", "]"}], "4"], " ", 
      SqrtBox[
       RowBox[{
        SuperscriptBox["\[ScriptCapitalE]", "2"], "-", 
        FractionBox[
         RowBox[{
          RowBox[{"(", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "2"}], " ", "M"}], "+", 
            RowBox[{"r", "[", "\[Tau]", "]"}]}], ")"}], " ", 
          RowBox[{"(", 
           RowBox[{
            SuperscriptBox["\[ScriptCapitalJ]", "2"], "+", 
            SuperscriptBox[
             RowBox[{"r", "[", "\[Tau]", "]"}], "2"]}], ")"}]}], 
         SuperscriptBox[
          RowBox[{"r", "[", "\[Tau]", "]"}], "3"]]}]]}]]}], ",", "0", ",", 
   RowBox[{"-", 
    FractionBox[
     RowBox[{"2", " ", "\[ScriptCapitalJ]", " ", 
      RowBox[{
       SuperscriptBox["r", "\[Prime]",
        MultilineFunction->None], "[", "\[Tau]", "]"}]}], 
     SuperscriptBox[
      RowBox[{"r", "[", "\[Tau]", "]"}], "3"]]}]}], "}"}]], "Output",
 CellLabel->
  "Out[37]=",ExpressionUUID->"7adb1706-aa07-4279-86a4-e5e5c1b9a322"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Covariant derivatives", \
"Section",ExpressionUUID->"c31e10b3-e366-47da-973e-2dc360b5eb77"],

Cell["\<\
Usually we want to take covariant derivatives, which we do with CovariantD\
\>", "Item",ExpressionUUID->"9753a178-39a5-41b1-bb4a-b0f7c62cef66"],

Cell[BoxData[GridBox[{
   {
    RowBox[{
     ButtonBox["CovariantD",
      BaseStyle->"Link",
      ButtonData->"paclet:GeneralRelativityTensors/ref/CovariantD"], "[", 
     RowBox[{
      StyleBox["expr",
       FontFamily->"Times",
       FontWeight->"Regular",
       FontSlant->"Italic"], ",", 
      StyleBox["ind1",
       FontFamily->"Times",
       FontWeight->"Regular",
       FontSlant->"Italic"], 
      StyleBox[",",
       FontFamily->"Times",
       FontWeight->"Regular",
       FontSlant->"Italic"], 
      StyleBox[" ",
       FontFamily->"Times",
       FontWeight->"Regular",
       FontSlant->"Italic"], 
      StyleBox["ind2",
       FontFamily->"Times",
       FontWeight->"Regular",
       FontSlant->"Italic"], 
      StyleBox[",",
       FontFamily->"Times",
       FontWeight->"Regular",
       FontSlant->"Italic"], 
      StyleBox["...",
       FontFamily->"Times",
       FontWeight->"Regular",
       FontSlant->"Italic"]}], "]"}], Cell[TextData[{
     "the covariant derivative of a Tensor expression with repect to the \
spacetime indices ",
     StyleBox["ind1, ind2, ...",
      FontFamily->"Times",
      FontWeight->"Regular",
      FontSlant->"Italic"]
    }], "TableText",ExpressionUUID->"14a036c9-9e00-431e-91f3-08d18a26a57f"]},
   {
    RowBox[{
     ButtonBox["",
      BaseStyle->"Link",
      ButtonData->"paclet:Tensors/ref/CovariantD"], 
     RowBox[{
      ButtonBox["CovariantD",
       BaseStyle->"Link",
       ButtonData->"paclet:GeneralRelativityTensors/ref/CovariantD"], "[", 
      RowBox[{
       StyleBox["t",
        FontFamily->"Times",
        FontWeight->"Regular",
        FontSlant->"Italic"], ",", 
       StyleBox["u",
        FontFamily->"Times",
        FontWeight->"Regular",
        FontSlant->"Italic"]}], "]"}]}], Cell[TextData[{
     "the covariant derivative of a Tensor ",
     StyleBox["t",
      FontFamily->"Times",
      FontWeight->"Regular",
      FontSlant->"Italic"],
     " along a four-velocity ",
     StyleBox["u",
      FontFamily->"Times",
      FontWeight->"Regular",
      FontSlant->"Italic"]
    }], "TableText",ExpressionUUID->"3fa0504f-59d9-42c6-9d92-dd0fcd45a2a1"]}
  }]], "DefinitionBox",
 CellID->1000094061,ExpressionUUID->"932140f7-6a1a-465a-93a6-b8d5ddd3f6fc"],

Cell[CellGroupData[{

Cell["Derivatives with respect to spacetime coordinates", \
"Subsection",ExpressionUUID->"d76de177-9e83-47a3-8361-3673383f8d96"],

Cell["Consider the ReissnerNordstrom metric", \
"Item",ExpressionUUID->"16090a54-4c1f-486e-8882-8c53583c9c03"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"gRN", "=", 
  RowBox[{"ToMetric", "[", "\"\<ReissnerNordstrom\>\"", "]"}]}]], "Input",
 CellLabel->"In[39]:=",ExpressionUUID->"d9ac91fc-c899-4ff6-bbbe-48d5702d3938"],

Cell[BoxData[
 TagBox[
  SubsuperscriptBox["g", "\[Alpha]\[Beta]", ""],
  DisplayForm]], "Output",
 CellLabel->
  "Out[39]=",ExpressionUUID->"d0f80e23-f85e-4f47-a52b-2b1d20177415"]
}, Open  ]],

Cell["The covariant derivative of the metric should vanish", \
"Item",ExpressionUUID->"c6e7070e-5fdb-4b1e-bea0-57ff8a341a09"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"dgRN", "=", 
  RowBox[{"CovariantD", "[", 
   RowBox[{"gRN", ",", 
    RowBox[{"-", "\[Gamma]"}]}], "]"}]}]], "Input",
 CellLabel->"In[40]:=",ExpressionUUID->"5f9505a1-e0ca-4752-a792-0eb58b6969e3"],

Cell[BoxData[
 RowBox[{
  TagBox[
   SubsuperscriptBox[
    RowBox[{"(", 
     RowBox[{"\[PartialD]", "g"}], ")"}], "\[Gamma]\[Alpha]\[Beta]", ""],
   DisplayForm], "-", 
  RowBox[{
   TagBox[
    SubsuperscriptBox["\[CapitalGamma]", 
     RowBox[{"  ", "\[Beta]\[Gamma]"}], 
     RowBox[{"\[Delta]", "    "}]],
    DisplayForm], " ", 
   TagBox[
    SubsuperscriptBox["g", "\[Alpha]\[Delta]", ""],
    DisplayForm]}], "-", 
  RowBox[{
   TagBox[
    SubsuperscriptBox["\[CapitalGamma]", 
     RowBox[{"  ", "\[Alpha]\[Gamma]"}], 
     RowBox[{"\[Delta]", "    "}]],
    DisplayForm], " ", 
   TagBox[
    SubsuperscriptBox["g", "\[Delta]\[Beta]", ""],
    DisplayForm]}]}]], "Output",
 CellLabel->
  "Out[40]=",ExpressionUUID->"d0c844c1-664b-4431-b388-372f19a0c66d"]
}, Open  ]],

Cell["\<\
Merge these different terms in order to see the identity is satisfied\
\>", "Item",ExpressionUUID->"d715d2e8-76a5-42fc-974e-3c8d78144ccf"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"MergeTensors", "[", "dgRN", "]"}], "//", "TensorValues"}], "//", 
  "Simplify"}]], "Input",
 CellLabel->"In[41]:=",ExpressionUUID->"cb4b492d-34e7-435a-9b27-c60962af72a4"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]}], 
  "}"}]], "Output",
 CellLabel->
  "Out[41]=",ExpressionUUID->"253f7a46-8eca-41f8-b4b1-e9bb72746560"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Derivatives along four velocities", \
"Subsection",ExpressionUUID->"617a7a99-35aa-4c55-9627-c8d2fd573227"],

Cell["Parallel transport a 4-velocity along itself", \
"Item",ExpressionUUID->"7c386ca2-9015-414f-888c-d82b512c37c1"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"uS", "=", 
  RowBox[{
  "FourVelocityVector", "[", "\"\<SchwarzschildGeneric\>\"", 
   "]"}]}]], "Input",ExpressionUUID->"0906e36d-6ed0-4c7c-ac34-3aa8c0b09d01"],

Cell[BoxData[
 TagBox[
  RowBox[{
   SubsuperscriptBox["u", "", "\[Alpha]"], "[", "\<\"\[Tau]\"\>", "]"}],
  DisplayForm]], "Output",
 CellLabel->
  "Out[42]=",ExpressionUUID->"cdb74e62-e381-4dea-9222-dd0dff86afac"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"covDuS", "=", 
  RowBox[{"CovariantD", "[", 
   RowBox[{"uS", ",", "uS"}], "]"}]}]], "Input",
 CellLabel->"In[43]:=",ExpressionUUID->"7bd93c56-303d-4b7b-b709-816e0abd2765"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   TagBox[
    RowBox[{
     SubsuperscriptBox["\[CapitalGamma]", 
      RowBox[{"  ", "\[Beta]\[Gamma]"}], 
      RowBox[{"\[Alpha]", "    "}]], "[", "\<\"\[Tau]\"\>", "]"}],
    DisplayForm], " ", 
   TagBox[
    RowBox[{
     SubsuperscriptBox["u", "", "\[Beta]"], "[", "\<\"\[Tau]\"\>", "]"}],
    DisplayForm], " ", 
   TagBox[
    RowBox[{
     SubsuperscriptBox["u", "", "\[Gamma]"], "[", "\<\"\[Tau]\"\>", "]"}],
    DisplayForm]}], "+", 
  TagBox[
   RowBox[{
    SubsuperscriptBox[
     RowBox[{"(", 
      RowBox[{"du", "/", "d\[Tau]"}], ")"}], "", "\[Alpha]"], 
    "[", "\<\"\[Tau]\"\>", "]"}],
   DisplayForm]}]], "Output",
 CellLabel->
  "Out[43]=",ExpressionUUID->"c0c87717-7a50-4995-8aa7-fd209822c21e"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"vals", "=", 
  RowBox[{"TensorValues", "@", 
   RowBox[{"MergeTensors", "[", 
    RowBox[{"covDuS", ",", 
     RowBox[{"ActWith", "\[Rule]", "Simplify"}]}], "]"}]}]}]], "Input",
 CellLabel->"In[44]:=",ExpressionUUID->"2da804d6-ba50-4811-8f99-2bfabd2827c8"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   FractionBox[
    RowBox[{"2", " ", "M", " ", "\[ScriptCapitalE]", " ", 
     RowBox[{"(", 
      RowBox[{
       SqrtBox[
        RowBox[{
         SuperscriptBox["\[ScriptCapitalE]", "2"], "-", 
         FractionBox[
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{
              RowBox[{"-", "2"}], " ", "M"}], "+", 
             RowBox[{"r", "[", "\[Tau]", "]"}]}], ")"}], " ", 
           RowBox[{"(", 
            RowBox[{
             SuperscriptBox["\[ScriptCapitalJ]", "2"], "+", 
             SuperscriptBox[
              RowBox[{"r", "[", "\[Tau]", "]"}], "2"]}], ")"}]}], 
          SuperscriptBox[
           RowBox[{"r", "[", "\[Tau]", "]"}], "3"]]}]], "-", 
       RowBox[{
        SuperscriptBox["r", "\[Prime]",
         MultilineFunction->None], "[", "\[Tau]", "]"}]}], ")"}]}], 
    SuperscriptBox[
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        RowBox[{"-", "2"}], " ", "M"}], "+", 
       RowBox[{"r", "[", "\[Tau]", "]"}]}], ")"}], "2"]], ",", 
   FractionBox[
    RowBox[{
     RowBox[{"(", 
      RowBox[{
       RowBox[{"3", " ", "M", " ", 
        SuperscriptBox["\[ScriptCapitalJ]", "2"]}], "-", 
       RowBox[{
        SuperscriptBox["\[ScriptCapitalJ]", "2"], " ", 
        RowBox[{"r", "[", "\[Tau]", "]"}]}], "+", 
       RowBox[{"M", " ", 
        SuperscriptBox[
         RowBox[{"r", "[", "\[Tau]", "]"}], "2"]}]}], ")"}], " ", 
     RowBox[{"(", 
      RowBox[{
       SqrtBox[
        RowBox[{
         SuperscriptBox["\[ScriptCapitalE]", "2"], "-", 
         FractionBox[
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{
              RowBox[{"-", "2"}], " ", "M"}], "+", 
             RowBox[{"r", "[", "\[Tau]", "]"}]}], ")"}], " ", 
           RowBox[{"(", 
            RowBox[{
             SuperscriptBox["\[ScriptCapitalJ]", "2"], "+", 
             SuperscriptBox[
              RowBox[{"r", "[", "\[Tau]", "]"}], "2"]}], ")"}]}], 
          SuperscriptBox[
           RowBox[{"r", "[", "\[Tau]", "]"}], "3"]]}]], "-", 
       RowBox[{
        SuperscriptBox["r", "\[Prime]",
         MultilineFunction->None], "[", "\[Tau]", "]"}]}], ")"}]}], 
    RowBox[{
     SuperscriptBox[
      RowBox[{"r", "[", "\[Tau]", "]"}], "4"], " ", 
     SqrtBox[
      RowBox[{
       SuperscriptBox["\[ScriptCapitalE]", "2"], "-", 
       FractionBox[
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "2"}], " ", "M"}], "+", 
           RowBox[{"r", "[", "\[Tau]", "]"}]}], ")"}], " ", 
         RowBox[{"(", 
          RowBox[{
           SuperscriptBox["\[ScriptCapitalJ]", "2"], "+", 
           SuperscriptBox[
            RowBox[{"r", "[", "\[Tau]", "]"}], "2"]}], ")"}]}], 
        SuperscriptBox[
         RowBox[{"r", "[", "\[Tau]", "]"}], "3"]]}]]}]], ",", "0", ",", 
   FractionBox[
    RowBox[{"2", " ", "\[ScriptCapitalJ]", " ", 
     RowBox[{"(", 
      RowBox[{
       SqrtBox[
        RowBox[{
         SuperscriptBox["\[ScriptCapitalE]", "2"], "-", 
         FractionBox[
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{
              RowBox[{"-", "2"}], " ", "M"}], "+", 
             RowBox[{"r", "[", "\[Tau]", "]"}]}], ")"}], " ", 
           RowBox[{"(", 
            RowBox[{
             SuperscriptBox["\[ScriptCapitalJ]", "2"], "+", 
             SuperscriptBox[
              RowBox[{"r", "[", "\[Tau]", "]"}], "2"]}], ")"}]}], 
          SuperscriptBox[
           RowBox[{"r", "[", "\[Tau]", "]"}], "3"]]}]], "-", 
       RowBox[{
        SuperscriptBox["r", "\[Prime]",
         MultilineFunction->None], "[", "\[Tau]", "]"}]}], ")"}]}], 
    SuperscriptBox[
     RowBox[{"r", "[", "\[Tau]", "]"}], "3"]]}], "}"}]], "Output",
 CellLabel->
  "Out[44]=",ExpressionUUID->"edb28bd5-8ef0-4fb4-b52e-793e1a855a09"]
}, Open  ]],

Cell["This should vanish, but we need to plug back in for \
r\[CloseCurlyQuote][\[Tau]]", \
"Item",ExpressionUUID->"c18a44a2-a43e-4652-a109-c86c3e44e65f"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"uSRules", "=", 
  RowBox[{"Thread", "[", 
   RowBox[{
    RowBox[{"D", "[", 
     RowBox[{
      RowBox[{"Through", "[", 
       RowBox[{
        RowBox[{"Coordinates", "[", "uS", "]"}], "[", "\[Tau]", "]"}], "]"}], 
      ",", "\[Tau]"}], "]"}], "->", 
    RowBox[{"TensorValues", "[", "uS", "]"}]}], "]"}]}]], "Input",
 CellLabel->"In[45]:=",ExpressionUUID->"3c216e11-9758-47c8-9066-b916ec5d2224"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{
     SuperscriptBox["t", "\[Prime]",
      MultilineFunction->None], "[", "\[Tau]", "]"}], "\[Rule]", 
    FractionBox["\[ScriptCapitalE]", 
     RowBox[{"1", "-", 
      FractionBox[
       RowBox[{"2", " ", "M"}], 
       RowBox[{"r", "[", "\[Tau]", "]"}]]}]]}], ",", 
   RowBox[{
    RowBox[{
     SuperscriptBox["r", "\[Prime]",
      MultilineFunction->None], "[", "\[Tau]", "]"}], "\[Rule]", 
    SqrtBox[
     RowBox[{
      SuperscriptBox["\[ScriptCapitalE]", "2"], "-", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"1", "+", 
         FractionBox[
          SuperscriptBox["\[ScriptCapitalJ]", "2"], 
          SuperscriptBox[
           RowBox[{"r", "[", "\[Tau]", "]"}], "2"]]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{"1", "-", 
         FractionBox[
          RowBox[{"2", " ", "M"}], 
          RowBox[{"r", "[", "\[Tau]", "]"}]]}], ")"}]}]}]]}], ",", 
   RowBox[{
    RowBox[{
     SuperscriptBox["\[Theta]", "\[Prime]",
      MultilineFunction->None], "[", "\[Tau]", "]"}], "\[Rule]", "0"}], ",", 
   RowBox[{
    RowBox[{
     SuperscriptBox["\[Phi]", "\[Prime]",
      MultilineFunction->None], "[", "\[Tau]", "]"}], "\[Rule]", 
    FractionBox["\[ScriptCapitalJ]", 
     SuperscriptBox[
      RowBox[{"r", "[", "\[Tau]", "]"}], "2"]]}]}], "}"}]], "Output",
 CellLabel->
  "Out[45]=",ExpressionUUID->"704020a7-3ae0-42d8-8c76-34d8cab2b954"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"vals", "/.", "uSRules"}], "//", "Simplify"}]], "Input",
 CellLabel->"In[46]:=",ExpressionUUID->"03a99e57-5ad8-45eb-8def-adf0d00d05df"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]], "Output",
 CellLabel->
  "Out[46]=",ExpressionUUID->"6462a8e9-c94f-4567-8195-3a2a8e7aa629"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]]
},
WindowSize->{1680, 805},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
PrivateNotebookOptions->{"FileOutlineCache"->False},
FrontEndVersion->"10.2 for Mac OS X x86 (64-bit) (July 14, 2015)",
StyleDefinitions->"Default.nb",
$CellContext`TrackCellChangeTimes -> False,
ExpressionUUID->"3fc77243-687e-4755-bf24-c7d95e14d5c4"
]

